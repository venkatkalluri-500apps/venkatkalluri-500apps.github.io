{"version":3,"sources":["webpack:///./src/js/core/emit-bus.js","webpack:///./node_modules/core-js/modules/es.array.filter.js","webpack:///./node_modules/core-js/internals/whitespaces.js","webpack:///./node_modules/core-js/internals/string-trim.js","webpack:///./src/components/FileUpload.vue?85a7","webpack:///./src/components/Camera.vue?1f0e","webpack:///src/components/Camera.vue","webpack:///./src/components/Camera.vue?20ae","webpack:///./src/components/Camera.vue","webpack:///src/components/FileUpload.vue","webpack:///./src/components/FileUpload.vue?8300","webpack:///./src/components/FileUpload.vue?1970","webpack:///./node_modules/vue-file-agent/dist/vue-file-agent.umd.js","webpack:///./src/js/core/file-manager.js","webpack:///./node_modules/core-js/modules/es.number.constructor.js","webpack:///./src/components/FileUpload.vue?5340"],"names":["bus","Vue","$","$filter","filter","arrayMethodHasSpeciesSupport","arrayMethodUsesToLength","HAS_SPECIES_SUPPORT","USES_TO_LENGTH","target","proto","forced","callbackfn","this","arguments","length","undefined","module","exports","requireObjectCoercible","whitespaces","whitespace","ltrim","RegExp","rtrim","createMethod","TYPE","$this","string","String","replace","start","end","trim","render","_vm","_h","$createElement","_c","_self","ref","attrs","meta","extensions","url","maxFiles","maxSize","linkable","editable","deletable","uploadHeaders","help_text","compact","on","$event","deleteFileRecord","$bvModal","show","project_id","editFile","onUpload","onUploadError","onUploadUpdate","selectedFile","model","value","callback","$$v","fileRecords","expression","staticClass","_v","_s","import_file_name","_e","class","failure","status_message","_m","app","saveCameraPhoto","show_camera","isBusy","hide","beforeDelete","staticRenderFns","directives","name","rawName","open_camera","flash","isPhotoShot","canvas","isPhotoClicked","clickPhoto","cancelPhoto","showRecapture","openCamera","component","root","factory","self","__WEBPACK_EXTERNAL_MODULE__8bbf__","modules","installedModules","__webpack_require__","moduleId","i","l","call","m","c","d","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_vue_file_agent_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_vue_file_agent_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","__WEBPACK_AMD_DEFINE_FACTORY__","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","apply","getCurrentScript","document","currentScript","Error","err","pageSource","inlineScriptSourceRegExp","inlineScriptSource","ieStackRegExp","ffStackRegExp","stackDetails","exec","stack","scriptLocation","line","currentLocation","location","href","hash","scripts","getElementsByTagName","documentElement","outerHTML","readyState","src","innerHTML","src_VueFileAgentPlugin","mixin","vue_file_agent_mixin","vue_file_preview_mixin","utils","file_record","plugins","FileData","window","match","viewBoxComputed","_l","icon","index","__values","iterator","next","done","TypeError","__read","e","ar","push","error","__spread","concat","icons_e_1","icons_a","SvgIcon","paths","color","viewBox","category","playIconPaths","icons","extensionsMap","cat","icons_b","icons_c","icons_ext","e_1_1","return","getIconByName","svgIcon","other","getIconFromExt","ext","toLowerCase","external_commonjs_vue_commonjs2_vue_root_Vue_","external_commonjs_vue_commonjs2_vue_root_Vue_default","vue_file_iconvue_type_script_lang_ts_","a","extend","props","computed","components_vue_file_iconvue_type_script_lang_ts_","normalizeComponent","scriptExports","functionalTemplate","injectStyles","scopeId","moduleIdentifier","shadowMode","hook","options","_compiled","functional","_scopeId","context","$vnode","ssrContext","parent","__VUE_SSR_CONTEXT__","_registeredComponents","add","_ssrRegister","$root","$options","shadowRoot","_injectStyles","originalRender","h","existing","beforeCreate","ImageOrientation","vue_file_icon","vue_file_previewvue_type_template_id_89d27d16_render","fileRecord","isImage","isPlayingAv","isEditInputFocused","isPlayableAudio","isPlayableVideo","playAv","isDarkColor","style","dismissError","getErrorMessage","errorText","staticStyle","size","removeFileRecord","filenameClearPressed","editFileName","disabled","domProps","editInputFocused","editInputBlured","filenameChanged","type","indexOf","_k","keyCode","dimensions","width","height","hasProgress","progress","vue_file_previewvue_type_template_id_89d27d16_staticRenderFns","getFilesFromDroppedItems","dataTransfer","Promise","resolve","includesFolder","files","folderReadQueue","items","item","kind","fileSystemEntries","getEntries","file","getAsFile","all","then","filesInFolders","entry","getAsEntry","webkitGetAsEntry","isFile","isDirectory","files_1","entryReader_1","createReader","readEntries_1","readEntries","entries","iterateEntry","entryFiles","transfer","e_1","_a","_b","utils_Utils","Utils","arrayMove","arr","previousIndex","newIndex","array","slice","k","splice","getAverageColor","bytesPerPixel","arrLength","step","len","preparedStep","redTotal","greenTotal","blueTotal","alphaTotal","count","alpha","red","green","blue","Math","round","createVideoThumbnail","video","thumbnailSize","calculateAverageColor","_this","setAttribute","reject","loadedmetadata","loadeddata","tryGetThumbnail","getContext","drawImage","imageData","getImageData","data","toDataURL","videoWidth","videoHeight","addEventListener","currentTime","getDataURL","reader","FileReader","onload","event","result","readAsDataURL","getImageOrientationFromArrayBuffer","buffer","view","DataView","getUint16","byteLength","offset","marker","getUint32","little","tags","getImageOrientation","readAsArrayBuffer","rotateCanvas","srcOrientation","ctx","transform","getImageResized","image","widthLimit","heightLimit","orientation","floor","createElement","avgColor","rgba","resizeImageUrl","resized","onerror","resizeImageFile","createObjectURL","URL","webkitURL","revokeObjectURL","shouldRevoke","orientationPromise","File","dataUrl","resizeImage","Image","getSizeFormatted","bytes","sizes","log","parseInt","pow","getSizeParsed","toUpperCase","matches","parseFloat","getColorForText","text","getHashCode","charCodeAt","intToHSL","validateType","accept","acceptedFiles","split","mimeType","baseMimeType","acceptedFiles_1","acceptedFiles_1_1","validType","charAt","test","validateSize","file_record_FileRecord","FileRecord","urlValue","urlResized","oldFileName","oldCustomName","upload","lastKnownSrc","raw","createDummyFile","progressInternal","isNaN","read","id","random","Date","getTime","videoThumbnail","imageColor","customName","averageColor","validate","getFromRaw","rawFileRecord","isSync","promise","setUrl","fromRaw","fromRawSync","fromRawArray","rawFileRecords","promises","rawFileRecords_1","rawFileRecords_1_1","toRawArray","e_2","fileRecords_1","fileRecords_1_1","toRaw","e_2_1","readFile","readFiles","e_3","fileRecords_2","fileRecords_2_1","e_3_1","lastModified","setTime","lastModifiedDate","pop","withoutExt","substr","rgb","darkPoint","isVideo","isAudio","isText","imageResized","catch","common","sizeText","validSize","components","VueFileIcon","isEditCancelable","hasLinkableUrl","methods","updateFileRecord","createThumbnail","poster","thumbnail","stopAv","wrapper","$refs","player","HTMLVideoElement","controls","appendChild","play","removeChild","clearFilename","$emit","input","focus","oldValue","newValue","timeout","setTimeout","$nextTick","completed","blur","created","watch","vue_file_previewvue_type_script_lang_ts_","mixins","components_vue_file_previewvue_type_script_lang_ts_","vue_file_preview_component","vue_file_preview","vue_file_listvue_type_template_id_5ef04e06_render","_t","vue_file_listvue_type_template_id_5ef04e06_staticRenderFns","vue_file_listvue_type_script_lang_ts_","components_vue_file_listvue_type_script_lang_ts_","vue_file_list_component","vue_file_list","vue_file_list_itemvue_type_template_id_00f7ef53_render","vue_file_list_itemvue_type_template_id_00f7ef53_staticRenderFns","vue_file_list_itemvue_type_script_lang_ts_","components_vue_file_list_itemvue_type_script_lang_ts_","vue_file_list_item_component","vue_file_list_item","vue_file_agentvue_type_template_id_4fc1199c_render","isSortable","sortable","isSorting","isSortingActive","isDragging","readonly","hasMultiple","canAddMore","theme","uniqueId","dragOver","dragEnter","dragLeave","drop","overallProgress","tag","transitionDuration","sortStart","sortEnd","isDeletable","helpTextComputed","capture","filesChanged","vue_file_agentvue_type_template_id_4fc1199c_staticRenderFns","AjaxRequest","createError","message","code","request","response","settle","validateStatus","status","method","formData","configureFn","XMLHttpRequest","loadEvent","open","responseURL","responseHeaders","getAllResponseHeaders","responseData","responseText","contentType","getResponseHeader","JSON","parse","statusText","headers","onabort","ontimeout","send","post","delete","put","ajax_request","upload_helper_UploadHelper","UploadHelper","addHeaders","xhr","setRequestHeader","doUpload","progressCallback","doDeleteUpload","uploadData","stringify","doUpdateUpload","prepareUploadError","errorMsg","createFormData","progressFn","updateOverallProgress","prgTotal","failedUploadsCount","_loop_1","FormData","append","this_1","progressEvent","percentCompleted","loaded","total","xhrQueue","responses","deleteUpload","abort","updateUpload","old_filename","filename","doTusUpload","tus","tusOptionsFn","tusOptions","Upload","endpoint","retryDelays","metadata","filetype","onError","onProgress","bytesUploaded","bytesTotal","onSuccess","tusUpload","e_4","fileRecords_4","fileRecords_4_1","e_4_1","_loop_2","this_2","fileRecords_3","fileRecords_3_1","tusDeleteUpload","shouldTerminate","res","rej","upload_helper","dragCounter","VueFilePreview","VueFileList","VueFileListItem","vfaSortableHandle","el","sortableHandle","sortTimeout","helpText","multiple","Array","isArray","shouldRead","initVideo","load","getFileRecordOrRawInstance","fileRecordOrRaw","getFileRecordRawInstance","getFileRecordInstance","prepareConfigureFn","configureXhr","uploadWithCredentials","withCredentials","fileRecordsOrRaw","validFileRecords","validFilesRawData","fileRecordsOrRaw_1","fileRecordsOrRaw_1_1","resumable","autoUpload","uploadUrl","auto","uploadConfig","autoDeleteUpload","autoUpdateUpload","equalFiles","file1","file2","isFileAddedAlready","handleFiles","filesFiltered","files_1_1","fileRecordsNew","allFileRecordsRaw","fileInput","stopPropagation","preventDefault","dropEffect","checkValue","fdPromises","rawFileRecordsNew","existingIndex","clearTimeout","sortData","oldIndex","toString","vue_file_agentvue_type_script_lang_ts_","components_vue_file_agentvue_type_script_lang_ts_","vue_file_agent_component","vue_file_agent","VueFileAgentPlugin","VueFileAgent","VueFileAgentMixin","VueFilePreviewMixin","install","$vueFileAgent","vfaPlugin","src_0","axios","require","File_Manager_URL","Delete_File_URL","FileManager","appname","region","eval","disablePCors","setOffset","results","postType","acl","domain","console","presign_url","getSignedLink","field","presign_data","fields","config","getRegion","change_url","upload_data","file_name","Authorization","delete_response","dataURL","fileName","Blob","s3data","dataURLtoBlob","convertBlob","dataurl","fetch","blob","mime","bstr","atob","u8arr","Uint8Array","fileData","appendData","Data","DESCRIPTORS","global","isForced","redefine","has","classof","inheritIfRequired","toPrimitive","fails","getOwnPropertyNames","f","getOwnPropertyDescriptor","NUMBER","NativeNumber","NumberPrototype","BROKEN_CLASSOF","toNumber","argument","first","third","radix","maxCode","digits","it","NaN","NumberWrapper","dummy","valueOf","keys","j","constructor"],"mappings":"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","file":"js/NinjaInterview~form~ninjacapture114~ninjacapture120~ninjacapture130~ninjacapture132~ninjacapture134~~b6ef1dc8.93388f89.js","sourcesContent":["import Vue from \"vue\";\nexport const bus = new Vue();\n","'use strict';\nvar $ = require('../internals/export');\nvar $filter = require('../internals/array-iteration').filter;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('filter');\n// Edge 14- issue\nvar USES_TO_LENGTH = arrayMethodUsesToLength('filter');\n\n// `Array.prototype.filter` method\n// https://tc39.es/ecma262/#sec-array.prototype.filter\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  filter: function filter(callbackfn /* , thisArg */) {\n    return $filter(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","// a string of all valid unicode whitespaces\n// eslint-disable-next-line max-len\nmodule.exports = '\\u0009\\u000A\\u000B\\u000C\\u000D\\u0020\\u00A0\\u1680\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF';\n","var requireObjectCoercible = require('../internals/require-object-coercible');\nvar whitespaces = require('../internals/whitespaces');\n\nvar whitespace = '[' + whitespaces + ']';\nvar ltrim = RegExp('^' + whitespace + whitespace + '*');\nvar rtrim = RegExp(whitespace + whitespace + '*$');\n\n// `String.prototype.{ trim, trimStart, trimEnd, trimLeft, trimRight }` methods implementation\nvar createMethod = function (TYPE) {\n  return function ($this) {\n    var string = String(requireObjectCoercible($this));\n    if (TYPE & 1) string = string.replace(ltrim, '');\n    if (TYPE & 2) string = string.replace(rtrim, '');\n    return string;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.{ trimLeft, trimStart }` methods\n  // https://tc39.es/ecma262/#sec-string.prototype.trimstart\n  start: createMethod(1),\n  // `String.prototype.{ trimRight, trimEnd }` methods\n  // https://tc39.es/ecma262/#sec-string.prototype.trimend\n  end: createMethod(2),\n  // `String.prototype.trim` method\n  // https://tc39.es/ecma262/#sec-string.prototype.trim\n  trim: createMethod(3)\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('VueFileAgent',{ref:\"vueFileAgent\",attrs:{\"id\":\"dropzone\",\"theme\":'list',\"meta\":_vm.meta,\"accept\":_vm.extensions,\"uploadUrl\":_vm.url,\"maxFiles\":_vm.maxFiles,\"maxSize\":_vm.maxSize,\"linkable\":_vm.linkable,\"editable\":_vm.editable,\"deletable\":_vm.deletable,\"uploadHeaders\":_vm.uploadHeaders,\"helpText\":_vm.help_text,\"compact\":_vm.compact},on:{\"beforedelete\":function($event){(_vm.deleteFileRecord = $event), _vm.$bvModal.show((\"delete_attachment_\" + _vm.project_id))},\"rename\":function($event){return _vm.editFile($event)},\"upload\":function($event){return _vm.onUpload($event)},\"upload:error\":function($event){return _vm.onUploadError($event)},\"upload:update\":function($event){return _vm.onUploadUpdate($event)},\"select\":function($event){return _vm.selectedFile($event)}},model:{value:(_vm.fileRecords),callback:function ($$v) {_vm.fileRecords=$$v},expression:\"fileRecords\"}}),(_vm.import_file_name)?_c('div',{staticClass:\"d-flex align-items-center justify-content-center mb-2\"},[_c('h4',{staticClass:\"mb-0 mr-2 text-success\"},[_vm._v(_vm._s(_vm.import_file_name))]),_c('p',{staticClass:\"mb-0 first-letter-caps\"},[_vm._v(\"File Selected\")])]):_vm._e(),(_vm.status_message)?_c('div',{staticClass:\"text-right mb-3\"},[_c('span',{class:(\"badge badge-soft-\" + (_vm.failure ? 'danger' : 'success'))},[_vm._v(_vm._s(_vm.status_message))])]):_vm._e(),(_vm.show_camera)?_c('div',[_vm._m(0),_c('Camera',{ref:\"camera\",attrs:{\"title\":\"Click Photo\",\"button_text\":\"Click Photo\",\"appName\":_vm.app},on:{\"camera_photo\":_vm.saveCameraPhoto,\"camera_notsupported\":function($event){_vm.show_camera = false;\n        _vm.isBusy = false;}}})],1):_vm._e(),_c('b-overlay',{attrs:{\"show\":_vm.isBusy,\"no-wrap\":\"\",\"opacity\":\"0.5\"}}),_c('b-modal',{attrs:{\"id\":(\"delete_attachment_\" + _vm.project_id),\"title\":\"Delete Attachment\",\"size\":\"sm\",\"hide-header\":\"\",\"hide-footer\":\"\",\"body-class\":\"text-center\"}},[_c('h3',{staticClass:\"mb-4 mt-3\"},[_vm._v(\"Delete\")]),_c('p',{staticClass:\"text-muted px-3\"},[_vm._v(\"The file you're trying to upload will be deleted.\")]),_c('div',{staticClass:\"mx`-4 mb-3 pt-2\"},[_c('b-button',{attrs:{\"size\":\"sm\",\"variant\":\"secondary\"},on:{\"click\":function($event){return _vm.$bvModal.hide((\"delete_attachment_\" + _vm.project_id))}}},[_vm._v(\"Cancel\")]),_c('b-button',{staticClass:\"ml-3\",attrs:{\"size\":\"sm\",\"variant\":\"primary\"},on:{\"click\":function($event){return _vm.beforeDelete()}}},[_vm._v(\"Confirm\")])],1)])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"d-flex align-items-center flex-nowrap mt-3 mb-3 py-1\"},[_c('span',{staticClass:\"border-top w-25 ml-auto\"}),_c('span',{staticClass:\"px-3 text-uppercase\"},[_vm._v(\"or\")]),_c('span',{staticClass:\"border-top w-25 mr-auto\"})])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.isBusy)?_c('b-card',{staticClass:\"text-center\"},[_c('b-spinner')],1):_vm._e(),_c('b-card',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isBusy && _vm.open_camera),expression:\"!isBusy && open_camera\"}],staticClass:\"shadow-none mb-0\",class:{ flash: _vm.isPhotoShot },attrs:{\"no-body\":\"\"}},[(_vm.open_camera)?_c('div',[(!_vm.canvas)?_c('div',[_c('div',{staticClass:\"camera-shutter\",class:{ flash: _vm.isPhotoShot }}),(!_vm.canvas)?_c('div',[_c('video',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isPhotoClicked),expression:\"!isPhotoClicked\"}],ref:\"camera\",attrs:{\"width\":\"100%\",\"autoplay\":\"\"}}),_c('canvas',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isPhotoClicked),expression:\"isPhotoClicked\"}],ref:\"canvas\",attrs:{\"id\":\"PhotoClicked\",\"width\":280,\"height\":200}})]):_vm._e()]):_vm._e()]):_vm._e(),(!_vm.canvas)?_c('div',{staticClass:\"d-flex justify-content-center align-items-center py-3 mb-2\"},[_c('b-button',{staticClass:\"ml-3\",attrs:{\"variant\":\"white\",\"size\":\"sm\"},on:{\"click\":_vm.clickPhoto}},[_c('i',{staticClass:\"fe fe-camera\"}),_vm._v(\" Capture \")]),_c('b-button',{staticClass:\"ml-3\",attrs:{\"variant\":\"white\",\"size\":\"sm\"},on:{\"click\":function($event){return _vm.cancelPhoto()}}},[_c('i',{staticClass:\"fe fe-stop-circle\"}),_vm._v(\" Stop \")])],1):_vm._e(),_c('b-overlay',{attrs:{\"show\":_vm.isBusy,\"no-wrap\":\"\",\"opacity\":\"0.5\"}})],1),(!_vm.showRecapture && !_vm.open_camera)?_c('b-button',{staticClass:\"w-100 align-items-center justify-content-center border-dashed d-flex option-icons d-sm-100 mb-3 mx-auto px-5 py-3 px-5 py-2 d-sm-100\",attrs:{\"size\":\"sm\",\"variant\":\"white\"},on:{\"click\":function($event){_vm.open_camera = true;\n      _vm.openCamera();}}},[_c('i',{staticClass:\"fe fe-camera font-size-18px\"}),_c('span',{staticClass:\"pl-2 font-size-14px line-height-1\"},[_vm._v(\"Start Camera\")])]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <b-card class=\"text-center\" v-if=\"isBusy\"> <b-spinner /></b-card>\n\n    <b-card v-show=\"!isBusy && open_camera\" class=\"shadow-none mb-0\" no-body :class=\"{ flash: isPhotoShot }\">\n      <div v-if=\"open_camera\">\n        <div v-if=\"!canvas\">\n          <div class=\"camera-shutter\" :class=\"{ flash: isPhotoShot }\" />\n          <div v-if=\"!canvas\">\n            <!-- Show video to capture picture -->\n            <video v-show=\"!isPhotoClicked\" ref=\"camera\" width=\"100%\" autoplay></video>\n            <!-- Show picture -->\n            <canvas v-show=\"isPhotoClicked\" id=\"PhotoClicked\" ref=\"canvas\" :width=\"280\" :height=\"200\"></canvas>\n          </div>\n        </div>\n      </div>\n      <!-- Camera buttons starts here -->\n      <div v-if=\"!canvas\" class=\"d-flex justify-content-center align-items-center py-3 mb-2\">\n        <b-button variant=\"white\" size=\"sm\" class=\"ml-3\" @click=\"clickPhoto\">\n          <i class=\"fe fe-camera\" />\n          Capture\n        </b-button>\n        <b-button variant=\"white\" size=\"sm\" class=\"ml-3\" @click=\"cancelPhoto()\">\n          <i class=\"fe fe-stop-circle\" />\n          Stop\n        </b-button>\n      </div>\n      <!-- Camera Buttons ends here -->\n      <b-overlay :show=\"isBusy\" no-wrap opacity=\"0.5\"></b-overlay>\n    </b-card>\n    <b-button\n      v-if=\"!showRecapture && !open_camera\"\n      class=\"w-100 align-items-center justify-content-center border-dashed d-flex option-icons d-sm-100 mb-3 mx-auto px-5 py-3 px-5 py-2 d-sm-100\"\n      size=\"sm\"\n      variant=\"white\"\n      @click=\"\n        open_camera = true;\n        openCamera();\n      \"\n    >\n      <i class=\"fe fe-camera font-size-18px\" />\n      <span class=\"pl-2 font-size-14px line-height-1\">Start Camera</span>\n    </b-button>\n  </div>\n</template>\n<script>\n  import \"cropperjs/dist/cropper.css\";\n  import { bus } from \"@/js/core/emit-bus\";\n  export default {\n    props: {\n      appName: {\n        type: String,\n      },\n    },\n    data() {\n      return {\n        isPhotoClicked: false,\n        isPhotoShot: false,\n        isBusy: false,\n        canvas: null,\n        showRecapture: false,\n        open_camera: false,\n      };\n    },\n    mounted() {\n      bus.$on(\"stop_camera\", () => {\n        this.stopCamera();\n      });\n    },\n    methods: {\n      // Open camera\n      openCamera() {\n        this.isBusy = true;\n        this.showRecapture = false;\n        const constraints = (window.constraints = {\n          audio: false,\n          video: true,\n        });\n        window.navigator.mediaDevices\n          .getUserMedia(constraints)\n          .then((stream) => {\n            this.isBusy = false;\n            this.$refs.camera.srcObject = stream;\n          })\n          .catch(() => {\n            this.isBusy = false;\n            alert(\"Camera may not be supported by your browser\");\n            this.$emit(\"camera_notsupported\");\n          });\n      },\n      // Stop Camera\n      stopCamera() {\n        if (this.$refs.camera && this.$refs.camera.srcObject) {\n          let tracks = this.$refs.camera.srcObject.getTracks();\n          tracks.forEach((track) => {\n            track.stop();\n          });\n        }\n      },\n      clickPhoto() {\n        if (!this.isPhotoClicked) {\n          this.isPhotoShot = true;\n          var FLASH_TIMEOUT = 50;\n          setTimeout(() => {\n            this.isPhotoShot = false;\n          }, FLASH_TIMEOUT);\n        }\n        var context = this.$refs.canvas.getContext(\"2d\");\n        context.drawImage(this.$refs.camera, 0, 0, 280, 200);\n        if (this.$refs.canvas) this.canvas = this.$refs.canvas.toDataURL(\"image/jpeg\");\n        this.$emit(\"camera_photo\", this.canvas);\n        this.stopCamera();\n        this.isPhotoClicked = !this.isPhotoClicked;\n      },\n      cancelPhoto() {\n        this.open_camera = false;\n        this.showRecapture = false;\n        this.isPhotoClicked = false;\n        this.isPhotoShot = false;\n        this.canvas = null;\n        this.stopCamera();\n      },\n    },\n  };\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Camera.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Camera.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Camera.vue?vue&type=template&id=37a9880b&\"\nimport script from \"./Camera.vue?vue&type=script&lang=js&\"\nexport * from \"./Camera.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div>\n    <VueFileAgent\n      ref=\"vueFileAgent\"\n      id=\"dropzone\"\n      :theme=\"'list'\"\n      :meta=\"meta\"\n      :accept=\"extensions\"\n      :uploadUrl=\"url\"\n      v-model=\"fileRecords\"\n      :maxFiles=\"maxFiles\"\n      :maxSize=\"maxSize\"\n      :linkable=\"linkable\"\n      :editable=\"editable\"\n      :deletable=\"deletable\"\n      @beforedelete=\"(deleteFileRecord = $event), $bvModal.show(`delete_attachment_${project_id}`)\"\n      @rename=\"editFile($event)\"\n      @upload=\"onUpload($event)\"\n      @upload:error=\"onUploadError($event)\"\n      @upload:update=\"onUploadUpdate($event)\"\n      @select=\"selectedFile($event)\"\n      :uploadHeaders=\"uploadHeaders\"\n      :helpText=\"help_text\"\n      :compact=\"compact\"\n    >\n    </VueFileAgent>\n\n    <div class=\"d-flex align-items-center justify-content-center mb-2\" v-if=\"import_file_name\">\n      <h4 class=\"mb-0 mr-2 text-success\">{{ import_file_name }}</h4>\n      <p class=\"mb-0 first-letter-caps\">File Selected</p>\n    </div>\n\n    <div v-if=\"status_message\" class=\"text-right mb-3\">\n      <span :class=\"`badge badge-soft-${failure ? 'danger' : 'success'}`\">{{ status_message }}</span>\n    </div>\n    <div v-if=\"show_camera\">\n      <div class=\"d-flex align-items-center flex-nowrap mt-3 mb-3 py-1\">\n        <span class=\"border-top w-25 ml-auto\" />\n        <span class=\"px-3 text-uppercase\">or</span>\n        <span class=\"border-top w-25 mr-auto\" />\n      </div>\n      <Camera\n        ref=\"camera\"\n        title=\"Click Photo\"\n        button_text=\"Click Photo\"\n        @camera_photo=\"saveCameraPhoto\"\n        @camera_notsupported=\"\n          show_camera = false;\n          isBusy = false;\n        \"\n        :appName=\"app\"\n      />\n    </div>\n    <b-overlay :show=\"isBusy\" no-wrap opacity=\"0.5\"></b-overlay>\n    <b-modal :id=\"`delete_attachment_${project_id}`\" title=\"Delete Attachment\" size=\"sm\" hide-header hide-footer body-class=\"text-center\">\n      <h3 class=\"mb-4 mt-3\">Delete</h3>\n      <p class=\"text-muted px-3\">The file you're trying to upload will be deleted.</p>\n      <div class=\"mx`-4 mb-3 pt-2\">\n        <b-button size=\"sm\" variant=\"secondary\" @click=\"$bvModal.hide(`delete_attachment_${project_id}`)\">Cancel</b-button>\n        <b-button size=\"sm\" class=\"ml-3\" variant=\"primary\" @click=\"beforeDelete()\">Confirm</b-button>\n      </div>\n    </b-modal>\n  </div>\n</template>\n\n<script>\n  import VueFileAgentPlugin from \"vue-file-agent\";\n  const VueFileAgent = VueFileAgentPlugin.VueFileAgent;\n  import \"vue-file-agent/dist/vue-file-agent.css\";\n  import FileUtil from \"@/js/core/file-manager\";\n  import Camera from \"@/components/Camera.vue\";\n\n  export default {\n    name: \"FileUpload\",\n    components: {\n      VueFileAgent,\n      Camera,\n    },\n    props: {\n      fileRecords: {\n        type: Array,\n        default: () => [],\n      },\n      maxFiles: {\n        type: Number,\n        default: () => 1,\n      },\n      maxSize: {\n        type: String,\n        default: () => \"5MB\",\n      },\n      extensions: String,\n      url: String,\n      app: String,\n      linkable: Boolean,\n      editable: Boolean,\n      deletable: Boolean,\n      project_id: Number,\n      meta: {\n        type: Boolean,\n        default: () => true,\n      },\n      compact: {\n        type: Boolean,\n        default: () => true,\n      },\n      file_name: String,\n      help_text: {\n        type: String,\n        default: \"Drop files here to upload\",\n      },\n      show_camera: {\n        type: Boolean,\n      },\n    },\n    data() {\n      return {\n        import_file_name: \"\",\n        isBusy: false,\n        uploadHeaders: {},\n        deleteFileRecord: {},\n        status_message: \"\",\n        failure: false,\n        validFileRecords: [],\n        recorded_media_message: false,\n        show_record_media: false,\n      };\n    },\n\n    methods: {\n      // Emit file data to parent\n      setFileData(file_name, pdf_URL) {\n        this.import_file_name = file_name;\n        this.$emit(\"downloadUrl\", pdf_URL);\n        // Show Validation message success or failed.\n        pdf_URL ? this.display_status_message(false, \"file_upload_helptext\") : this.display_status_message(true, \"file_upload_failed_helptext\");\n      },\n\n      thumbUrl(file) {\n        return file.myThumbUrlProperty;\n      },\n      onFileChange(file) {\n        // Handle files like:\n        this.fileUploaded = file;\n      },\n      onUpload(event) {\n        this.isBusy = false;\n        console.log(\"uploaded\", event);\n        this.$emit(\"uploaded\", event);\n      },\n      onUploadError(event) {\n        this.isBusy = false;\n        this.$emit(\"uploadError\", event[0].response.data.error);\n      },\n      onUploadUpdate(event) {\n        this.isBusy = false;\n        console.log(\"upload update\", event);\n      },\n      async selectedFile(event) {\n        this.validFileRecords = event.filter((fileRecord) => !fileRecord.error);\n        if (!this.validFileRecords?.[0]?.name()) {\n          // If selected file type is invalid, remove from the array.\n          this.fileRecords.pop();\n          this.display_status_message(true, \"file_invalidtype_helptext\", { fileSize: this.maxSize, extensions: this.extensions });\n          return;\n        }\n        var file_name;\n        if (this.file_name) {\n          file_name = this.file_name;\n        } else {\n          file_name = await this.formatFile(this.validFileRecords[0]);\n        }\n        // Select file uploaded file type only.Insted of all extensions\n        // Svg type have svg+xml. The + is taken space in content type. So we pass encode(+) value\n        let file_type = this.validFileRecords[0].type.replaceAll(\"+\", \"%2B\");\n        let data = await FileUtil.getSignedLink(this.app, \"post-object\", file_name, file_type, \"public-read\");\n        this.$refs.vueFileAgent\n          .upload(data.url, {}, this.validFileRecords, function createFormData(fileData) {\n            //this passes all the presigned url key and values as post params and posts it to the S3 url along with the file object.\n            var formData = new FormData();\n            let appendData = data.fields;\n            for (var field in appendData) {\n              formData.append(field, appendData[field]);\n            }\n            formData.append(\"file\", fileData.file);\n            return formData;\n          })\n          .then(\n            function(result) {\n              // Form s3 download url\n              console.log(\"uploded: \", data.fields, result);\n              this.$emit(\"downloadUrl\", `${data.url}${data.fields.key}`, event, (response) => {\n                this.display_status_message(\n                  response ? false : true,\n                  response && response.includes(\"duplicate_entry\") ? \"duplicate_entry\" : response ? \"file_upload_helptext\" : \"file_upload_failed_helptext\",\n                );\n              });\n            }.bind(this),\n          );\n      },\n      editFile(fileRecord) {\n        this.$emit(\"edit_file\", fileRecord, (response) => {\n          this.display_status_message(response ? false : true, response ? \"file_edit_helptext\" : \"file_edit_failed_helptext\");\n        });\n      },\n      async beforeDelete(flag) {\n        let file_name = await this.formatFile(this.deleteFileRecord, flag);\n        let s3_delete_response = await FileUtil.delete(this.app, file_name);\n        if (s3_delete_response && s3_delete_response.status == 200) {\n          this.$emit(\"delete_file\", this.deleteFileRecord, (response) => {\n            this.display_status_message(response ? false : true, response ? \"file_delete_helptext\" : \"file_delete_failed_helptext\");\n          });\n        } else {\n          //s3 delete fail\n          this.display_status_message(false, \"file_delete_failed_helptext\");\n        }\n        this.$refs.vueFileAgent.deleteFileRecord(this.deleteFileRecord);\n        this.$bvModal.hide(`delete_attachment_${this.project_id}`);\n      },\n      display_status_message(response, message) {\n        this.failure = message.includes(\"duplicate\") ? !response : response;\n        // Remove file from file records if record duplicated or failed to upload\n        if (message.includes(\"duplicate\") || message.includes(\"upload_failed\")) this.fileRecords.pop();\n        setTimeout(() => {\n          this.status_message = \"\";\n        }, 3000);\n      },\n      // Replace all the special characters with  '-'\n      formatFile(file, flag) {\n        let file_name = \"\";\n        if (!flag) file_name = `${Math.floor(Math.random() * 10000)}_${file.name()}`;\n        file_name = file_name.replace(/[_!@#$%^&*()]/g, \"\");\n        file_name = file_name.replace(/[^a-zA-Z0-9]/g, \"-\");\n        file_name = file_name.replaceAll(\"-\" + file.ext, \".\" + file.ext);\n        file_name = file_name.toLowerCase();\n        return file_name;\n      },\n      async saveCameraPhoto(camera_photo) {\n        let photo_path = await FileUtil.uploadToS3(this.app, camera_photo, `myphoto_${Math.floor(Math.random() * 10000)}.jpg`, \"image/jpeg\");\n        this.$emit(\"save_photo\", photo_path);\n      },\n    },\n  };\n</script>\n<style>\n  .vue-file-agent .file-preview-new:before {\n    background: #fff;\n  }\n  .vue-file-agent .file-preview-new .help-text {\n    color: #95aac9;\n    top: 43%;\n    font-size: initial;\n    transform: translateY(-50%);\n    position: relative;\n    transition: all 0.2s ease-in-out;\n    font-weight: normal !important;\n  }\n  .vue-file-agent.file-input-wrapper {\n    border: 1px dashed #d2ddec;\n    background: #fff;\n    border-radius: 0.375rem;\n    color: #d8d8d8;\n    font-weight: 500;\n    font-size: 22px;\n    top: 43%;\n    position: relative;\n  }\n  .vue-file-agent.file-input-wrapper {\n    border: 2px dashed #c1cad8;\n    background: #fff;\n    border-radius: 5px;\n  }\n  .vue-file-agent .file-preview .image-preview {\n    background: #fff;\n  }\n  .vue-file-agent .file-preview-wrapper-image .file-preview .file-preview-overlay {\n    background: #fff;\n  }\n  .vue-file-agent .file-preview-wrapper {\n    height: 150px !important;\n  }\n  .vue-file-agent .file-preview .file-ext,\n  .vue-file-agent .file-preview .file-name,\n  .vue-file-agent .file-preview .file-size,\n  .vue-file-agent .file-preview .image-dimension,\n  .vue-file-agent .file-preview .image-dimension .image-dimension-width:after {\n    color: #12263f;\n    font-weight: 500;\n  }\n  .vue-file-agent .file-preview {\n    height: 150px !important;\n    padding-bottom: 0 !important;\n  }\n  .vue-file-agent .file-category-video-playable .file-preview:before,\n  .vue-file-agent .file-preview-wrapper-image .file-preview:before,\n  .vue-file-agent .file-category-video-playable .file-preview:after,\n  .vue-file-agent .file-preview-wrapper-image .file-preview:after {\n    box-shadow: inset 0 40px 20px -25px rgba(217, 212, 212, 0.5);\n    height: 26px;\n  }\n\n  .vue-file-agent .file-preview-new svg {\n    fill: transparent;\n    display: none;\n  }\n  .b-sidebar.b-sidebar-right .vue-file-agent .file-preview-new .help-text {\n    font-size: 16px !important;\n  }\n\n  .b-sidebar.b-sidebar-right .vue-file-agent .file-preview-wrapper {\n    height: 55px !important;\n  }\n  .b-sidebar.b-sidebar-right .vue-file-agent .file-preview-new .help-text {\n    height: 25px !important;\n  }\n  .b-sidebar.b-sidebar-right .grid-block-wrapper .grid-block .file-preview {\n    height: 50px !important;\n  }\n  .vue-file-agent.file-input-wrapper:hover {\n    border: 1px dashed #95aac9;\n    border-color: #95aac9;\n  }\n  .vue-file-agent.file-input-wrapper:hover .help-text {\n    color: #12263f;\n  }\n  .vfa-demo {\n    position: relative;\n  }\n  .vfa-demo .file-row {\n    position: relative;\n    z-index: 15;\n    line-height: 24px;\n    text-align: left;\n    margin-bottom: 5px;\n    padding: 2px 5px;\n  }\n\n  .vfa-demo .upload-block {\n    border: 2px dashed transparent;\n    padding-top: 0;\n  }\n\n  .vfa-demo .is-drag-over.upload-block {\n    border-color: #aaa;\n  }\n\n  .vfa-demo .vue-file-agent {\n    border: 0 !important;\n    box-shadow: none !important;\n  }\n  .file-preview-upload .file-img {\n    background-color: #e3ebf6;\n    padding: 12px;\n    border-right: 1px solid #d2ddec;\n  }\n  .file-row.file-preview-upload {\n    padding: 0;\n    background: #e3ebf6;\n    margin-bottom: 0px;\n  }\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FileUpload.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FileUpload.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FileUpload.vue?vue&type=template&id=8a5ce426&\"\nimport script from \"./FileUpload.vue?vue&type=script&lang=js&\"\nexport * from \"./FileUpload.vue?vue&type=script&lang=js&\"\nimport style0 from \"./FileUpload.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"vue\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"vue-file-agent\"] = factory(require(\"vue\"));\n\telse\n\t\troot[\"vue-file-agent\"] = factory(root[\"Vue\"]);\n})((typeof self !== 'undefined' ? self : this), function(__WEBPACK_EXTERNAL_MODULE__8bbf__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/ \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create a fake namespace object\n/******/ \t// mode & 1: value is a module id, require it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/ \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1: behave like require\n/******/ \t__webpack_require__.t = function(value, mode) {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/ \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = \"fb15\");\n/******/ })\n/************************************************************************/\n/******/ ({\n\n/***/ \"6816\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_vue_file_agent_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"eb77\");\n/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_vue_file_agent_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_vue_file_agent_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__);\n/* unused harmony reexport * */\n /* unused harmony default export */ var _unused_webpack_default_export = (_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_vue_file_agent_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0___default.a); \n\n/***/ }),\n\n/***/ \"8875\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;// addapted from the document.currentScript polyfill by Adam Miller\n// MIT license\n// source: https://github.com/amiller-gh/currentScript-polyfill\n\n// added support for Firefox https://bugzilla.mozilla.org/show_bug.cgi?id=1620505\n\n(function (root, factory) {\n  if (true) {\n    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n  } else {}\n}(typeof self !== 'undefined' ? self : this, function () {\n  function getCurrentScript () {\n    if (document.currentScript) {\n      return document.currentScript\n    }\n  \n    // IE 8-10 support script readyState\n    // IE 11+ & Firefox support stack trace\n    try {\n      throw new Error();\n    }\n    catch (err) {\n      // Find the second match for the \"at\" string to get file src url from stack.\n      var ieStackRegExp = /.*at [^(]*\\((.*):(.+):(.+)\\)$/ig,\n        ffStackRegExp = /@([^@]*):(\\d+):(\\d+)\\s*$/ig,\n        stackDetails = ieStackRegExp.exec(err.stack) || ffStackRegExp.exec(err.stack),\n        scriptLocation = (stackDetails && stackDetails[1]) || false,\n        line = (stackDetails && stackDetails[2]) || false,\n        currentLocation = document.location.href.replace(document.location.hash, ''),\n        pageSource,\n        inlineScriptSourceRegExp,\n        inlineScriptSource,\n        scripts = document.getElementsByTagName('script'); // Live NodeList collection\n  \n      if (scriptLocation === currentLocation) {\n        pageSource = document.documentElement.outerHTML;\n        inlineScriptSourceRegExp = new RegExp('(?:[^\\\\n]+?\\\\n){0,' + (line - 2) + '}[^<]*<script>([\\\\d\\\\D]*?)<\\\\/script>[\\\\d\\\\D]*', 'i');\n        inlineScriptSource = pageSource.replace(inlineScriptSourceRegExp, '$1').trim();\n      }\n  \n      for (var i = 0; i < scripts.length; i++) {\n        // If ready state is interactive, return the script tag\n        if (scripts[i].readyState === 'interactive') {\n          return scripts[i];\n        }\n  \n        // If src matches, return the script tag\n        if (scripts[i].src === scriptLocation) {\n          return scripts[i];\n        }\n  \n        // If inline source matches, return the script tag\n        if (\n          scriptLocation === currentLocation &&\n          scripts[i].innerHTML &&\n          scripts[i].innerHTML.trim() === inlineScriptSource\n        ) {\n          return scripts[i];\n        }\n      }\n  \n      // If no match, return null\n      return null;\n    }\n  };\n\n  return getCurrentScript\n}));\n\n\n/***/ }),\n\n/***/ \"8bbf\":\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE__8bbf__;\n\n/***/ }),\n\n/***/ \"eb77\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ \"fb15\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, \"VueFileAgentPlugin\", function() { return /* reexport */ src_VueFileAgentPlugin; });\n__webpack_require__.d(__webpack_exports__, \"mixin\", function() { return /* reexport */ mixin; });\n__webpack_require__.d(__webpack_exports__, \"VueFileAgentMixin\", function() { return /* reexport */ vue_file_agent_mixin; });\n__webpack_require__.d(__webpack_exports__, \"VueFilePreviewMixin\", function() { return /* reexport */ vue_file_preview_mixin; });\n__webpack_require__.d(__webpack_exports__, \"utils\", function() { return /* reexport */ utils; });\n__webpack_require__.d(__webpack_exports__, \"FileRecord\", function() { return /* reexport */ file_record; });\n__webpack_require__.d(__webpack_exports__, \"plugins\", function() { return /* reexport */ plugins; });\n__webpack_require__.d(__webpack_exports__, \"FileData\", function() { return /* reexport */ FileData; });\n\n// CONCATENATED MODULE: ./node_modules/@vue/cli-service/lib/commands/build/setPublicPath.js\n// This file is imported into lib/wc client bundles.\n\nif (typeof window !== 'undefined') {\n  var currentScript = window.document.currentScript\n  if (true) {\n    var getCurrentScript = __webpack_require__(\"8875\")\n    currentScript = getCurrentScript()\n\n    // for backward compatibility, because previously we directly included the polyfill\n    if (!('currentScript' in document)) {\n      Object.defineProperty(document, 'currentScript', { get: getCurrentScript })\n    }\n  }\n\n  var src = currentScript && currentScript.src.match(/(.+\\/)[^/]+\\.js(\\?.*)?$/)\n  if (src) {\n    __webpack_require__.p = src[1] // eslint-disable-line\n  }\n}\n\n// Indicate to webpack that this file can be concatenated\n/* harmony default export */ var setPublicPath = (null);\n\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{\"cacheDirectory\":\"node_modules/.cache/vue-loader\",\"cacheIdentifier\":\"72196104-vue-loader-template\"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/vue-file-icon.vue?vue&type=template&id=61d49b70&\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('svg',{attrs:{\"viewBox\":_vm.viewBoxComputed}},[_vm._l((_vm.icon.paths),function(d,index){return [(d)?_c('path',{key:index,attrs:{\"d\":d}}):_vm._e()]})],2)}\nvar staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./src/components/vue-file-icon.vue?vue&type=template&id=61d49b70&\n\n// CONCATENATED MODULE: ./node_modules/tslib/tslib.es6.js\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nfunction __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nfunction __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nfunction __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nfunction __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nfunction __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nfunction __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nfunction __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nfunction __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nfunction __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nfunction __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nfunction __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nfunction __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nfunction __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nfunction __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nfunction __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nfunction __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nfunction __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nfunction __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nfunction __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nfunction __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nfunction __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n\n// CONCATENATED MODULE: ./src/lib/extensions.ts\n/* harmony default export */ var extensions = ({\r\n    'audio': [\r\n        'aif',\r\n        'cda',\r\n        'mid',\r\n        'midi',\r\n        // 'mp3',\r\n        'mpa',\r\n        // 'ogg',\r\n        // 'wav',\r\n        'wma',\r\n        'wpl',\r\n    ],\r\n    'audio-playable': ['mp3', 'ogg', 'wav'],\r\n    'archive': ['7z', 'arj', 'deb', 'pkg', 'rar', 'rpm', 'tar.gz', 'z', 'zip'],\r\n    'disc': [\r\n        // 'bin',\r\n        'dmg',\r\n        'iso',\r\n        'toast',\r\n        'vcd',\r\n    ],\r\n    'database': [\r\n        'csv',\r\n        'dat',\r\n        'db',\r\n        'dbf',\r\n        'log',\r\n        'mdb',\r\n        'sav',\r\n        'sql',\r\n        'tar',\r\n    ],\r\n    'executable': ['apk', 'bat', 'bin', 'cgi', 'pl', 'com', 'exe', 'gadget', 'jar', 'py', 'wsf', 'ipa'],\r\n    'font': ['fnt', 'fon', 'otf', 'ttf'],\r\n    'image': ['ai', 'bmp', 'gif', 'ico', 'jpeg', 'jpg', 'png', 'ps', 'psd', 'svg', 'tif', 'tiff'],\r\n    'markup': [\r\n        'asp',\r\n        'aspx',\r\n        'cer',\r\n        'cfm',\r\n        'cgi',\r\n        'pl',\r\n        'css',\r\n        'scss',\r\n        'htm',\r\n        'html',\r\n        'jsp',\r\n        // 'vue',\r\n        'part',\r\n        'php',\r\n        'py',\r\n        'rss',\r\n        'xml',\r\n        'xhtml',\r\n    ],\r\n    'presentation': ['key', 'odp', 'pps', 'ppt', 'pptx'],\r\n    'script': ['c', 'class', 'cpp', 'cs', 'h', 'java', 'js', 'json', 'sh', 'swift', 'vb'],\r\n    'sheet': ['ods', 'xlr', 'xls', 'xlsx'],\r\n    'system': [\r\n        'bak',\r\n        'cab',\r\n        'cfg',\r\n        'cpl',\r\n        'cur',\r\n        'dll',\r\n        'dmp',\r\n        'drv',\r\n        'icns',\r\n        // 'ico',\r\n        'ini',\r\n        'lnk',\r\n        'msi',\r\n        'sys',\r\n        'tmp',\r\n    ],\r\n    'video': [\r\n        '3g2',\r\n        '3gp',\r\n        'avi',\r\n        'flv',\r\n        'h264',\r\n        // 'm4v',\r\n        'mkv',\r\n        // 'mov',\r\n        // 'mp4',\r\n        'mpg',\r\n        'mpeg',\r\n        'rm',\r\n        'swf',\r\n        'vob',\r\n        // 'webm',\r\n        'wmv',\r\n    ],\r\n    'video-playable': ['mp4', 'webm', 'mov'],\r\n    'vue': ['vue'],\r\n    'doc': [\r\n        'doc',\r\n        'docx',\r\n        'odt',\r\n        'rtf',\r\n        'tex',\r\n        // 'txt',\r\n        'wks',\r\n        'wps',\r\n        'wpd',\r\n    ],\r\n    'text': ['txt'],\r\n    'ebook': ['epub'],\r\n    'pdf': ['pdf'],\r\n    'folder': ['folder'],\r\n    'play': ['play'],\r\n});\r\n\n// CONCATENATED MODULE: ./src/lib/icons.ts\nvar icons_e_1, icons_a;\r\n\r\n\r\nvar SvgIcon = /** @class */ (function () {\r\n    function SvgIcon(paths, color, viewBox) {\r\n        this.paths = paths;\r\n        this.color = color;\r\n        this.viewBox = viewBox;\r\n        this.category = '';\r\n    }\r\n    return SvgIcon;\r\n}());\r\n\r\nvar playIconPaths = ['M24 4C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm-4 29V15l12 9-12 9z'];\r\nvar icons = {\r\n    'folder': new SvgIcon([\r\n        'M96.5 93.7h-93c-2 0-3.5-1.5-3.5-3.5V35.4h100v54.8c0 2-1.5 3.5-3.5 3.5z',\r\n        'M44.9 20V9.7c0-2-1.5-3.5-3.5-3.5h-38C1.5 6.3 0 7.8 0 9.7v25.7h100V23.5c0-2-1.5-3.5-3.5-3.5H44.9z',\r\n    ], '#efce4a'),\r\n    'audio': new SvgIcon([\r\n        'M32.5 37.5h-9v25h9L53.6 77V23L32.5 37.5M71.9 50c0 6.8-3.7 12.7-9.1 15.8l2.8 4.9c7.1-4.1 11.9-11.8 11.9-20.7 0-8.8-4.8-16.6-11.9-20.7l-2.8 4.9c5.4 3.1 9.1 9 9.1 15.8z',\r\n        // tslint:disable-next-line\r\n        'M62.1 50c0 3.2-1.7 5.9-4.3 7.4l2.7 4.7c4.2-2.4 7-6.9 7-12.1 0-5.2-2.8-9.7-7-12.1l-2.7 4.7c2.6 1.5 4.3 4.2 4.3 7.4z',\r\n    ], '#039'),\r\n    'video': new SvgIcon([\r\n        'M21 26.4v47.1h58V26.4H21zm10.9 43.5h-7.2v-7.2h7.2v7.2zm0-10.8h-7.2v-7.2h7.2v7.2zm0-10.9h-7.2V41h7.2v7.2zm0-10.9h-7.2v-7.2h7.2v7.2zm10.9 25.4V37.3L60.9 50 42.8 62.7zm32.6 7.2h-7.2v-7.2h7.2v7.2zm0-10.8h-7.2v-7.2h7.2v7.2zm0-10.9h-7.2V41h7.2v7.2zm0-10.9h-7.2v-7.2h7.2v7.2z',\r\n    ], '#ef6f2e'),\r\n    'audio-playable': new SvgIcon(playIconPaths, '#039', '0 0 48 48'),\r\n    'video-playable': new SvgIcon(playIconPaths, '#ef6f2e', '0 0 48 48'),\r\n    'archive': new SvgIcon([\r\n        'M72.4 38.5h-7.9v-7.9l7.9 7.9zm-21.3-7.9v28.8h21.4v-19h-9.9v-9.9H51.1zm3.3-7.6H30.8v5.6h9.3l-5.9 4.5v4.8l8.6-6.6v-2.7h30.1v-2.3L54.4 23zM42.9 35.1l-8.6 6.6v4.8l8.6-6.6v-4.8zm-8.7 20l8.6-6.6v-4.8l-8.6 6.6v4.8zm8.7 2v-4.8l-8.6 6.6v2.6h-3.4v5.6h5.3v3.8H33c-.6-1-1.6-1.6-2.8-1.6-1.8 0-3.2 1.4-3.2 3.2s1.4 3.2 3.2 3.2c1.2 0 2.2-.6 2.8-1.6h3.1V77h4.8v-2.9H44c.6 1 1.6 1.6 2.8 1.6 1.8 0 3.2-1.4 3.2-3.2s-1.4-3.2-3.2-3.2c-1.2 0-2.2.6-2.8 1.6h-3.1v-3.8h13.5l18.5-3.3v-2.3H37.1l5.8-4.4z',\r\n    ], '#ba8322'),\r\n    'system': new SvgIcon([\r\n        'M73.6 54.8c-2.1-.7-3.4-2.6-3.4-4.8s1.4-4.1 3.4-4.8c.6-.2 1-.9.8-1.5-.6-2.3-1.5-4.4-2.7-6.5-.3-.6-1.1-.8-1.7-.5-.7.4-1.6.6-2.4.6-2.8 0-5-2.3-5-5 0-.8.2-1.7.6-2.4.3-.6.1-1.3-.5-1.7-2-1.2-4.2-2.1-6.5-2.7-.6-.2-1.3.2-1.5.8-.7 2.1-2.6 3.4-4.8 3.4-2.2 0-4.1-1.4-4.8-3.4-.2-.6-.9-1-1.5-.8-2.3.6-4.4 1.5-6.5 2.7-.6.3-.8 1.1-.5 1.7.4.7.6 1.6.6 2.4 0 2.8-2.3 5-5 5-.8 0-1.7-.2-2.4-.6-.6-.3-1.3-.1-1.7.5-1.2 2-2.1 4.2-2.7 6.5-.2.6.2 1.3.8 1.5 2.1.7 3.4 2.6 3.4 4.8s-1.4 4.1-3.4 4.8c-.6.2-1 .9-.8 1.5.6 2.3 1.5 4.4 2.7 6.5.3.6 1.1.8 1.7.5.7-.4 1.6-.6 2.4-.6 2.8 0 5 2.3 5 5 0 .8-.2 1.7-.6 2.4-.3.6-.1 1.3.5 1.7 2 1.2 4.2 2.1 6.5 2.7h.3c.5 0 1-.3 1.2-.9.7-2.1 2.6-3.4 4.8-3.4 2.2 0 4.1 1.4 4.8 3.4.2.6.9 1 1.5.8 2.3-.6 4.4-1.5 6.5-2.7.6-.3.8-1.1.5-1.7-.4-.7-.6-1.6-.6-2.4 0-2.8 2.3-5 5-5 .8 0 1.7.2 2.4.6.6.3 1.3.1 1.7-.5 1.2-2 2.1-4.2 2.7-6.5.2-.5-.1-1.2-.8-1.4zM50 57.6c-4.2 0-7.6-3.4-7.6-7.6 0-4.2 3.4-7.6 7.6-7.6 4.2 0 7.6 3.4 7.6 7.6 0 4.2-3.4 7.6-7.6 7.6z',\r\n    ], '#999'),\r\n    'image': new SvgIcon([\r\n        'm 40.400002,35 a 8,8 0 0 1 -8,8 8,8 0 0 1 -8,-8 8,8 0 0 1 8,-8 8,8 0 0 1 8,8 z',\r\n        'M78.9 47.3l-9.7-9.6L50 57l-9.6-9.7-19.3 19.3V73h57.8z',\r\n    ], '#5b2d8d'),\r\n    'doc': new SvgIcon([\r\n        'M29.6 53l-5.9-18.2c-.2-.7-.4-1-.5-1-.1-.1-.2-.1-.4-.2l-2.1-.6-.1-2.6h11l.2 2.6-2.1.6v.2c0 .2.1.7.4 1.2l2.2 7 3.9-11.7 3-.1 3.6 11.7 2.5-7c.1-.5.4-1 .4-1.2v-.1l-1.8-.5-.1-2.7h8.6l.2 2.6-2.3.7c-.1 0-.2.1-.4.1 0 .1-.2.2-.4.9L43 52.8l-3.1.2-3.3-11.2-3.9 11-3.1.2z',\r\n        'M57.8 30.2h21.7v3.4H57.8zm0 9.2h21.7v3.4H57.8zm0 9.4h21.7v3.4H57.8zm-36.2 9.6h57.9v3.4H21.6zm0 9.4h57.9v3.4H21.6z',\r\n    ], '#2372ba'),\r\n    'executable': new SvgIcon(['M33.1 29.8l-6.6 6.6L37.2 47 26.5 57.6l6.6 6.6L50.2 47zm18.8 31.1h22.6v9.2H51.9z'], '#333'),\r\n    'ebook': new SvgIcon([\r\n        'M75.8 45.7c-.3-.6-.7-1.2-1.3-1.6-.1.5-.3 1-.6 1.5L58.3 69.8c-.6.9-1.9 1.1-2.9.8l-25-7c-1.5-.4-3.3-1.3-3.4-3 0-.6 0-.9.4-1.1.3-.3.8-.2 1.1-.1L52 66c3.4 1 4.4.2 6.9-3.5l14.4-22.2c.7-1.2.9-2.5.5-3.6s-1.4-2-2.7-2.4l-20.6-5.7c-.5-.1-1-.1-1.5-.1v-.1c-3.2-1.9-4.4 1.7-6 3-.6.5-1.4.8-1.7 1.3-.2.5-.1 1-.3 1.4-.6 1.4-2.4 3.6-3.3 4.3-.6.4-1.2.5-1.6 1.1-.3.4-.2 1.1-.4 1.6-.5 1.2-2.1 3.3-3.2 4.4-.4.4-1 .6-1.3 1.1-.3.4-.2 1.1-.4 1.6-.7 1.3-2.2 3.2-3.4 4.3-.6.6-1.3.9-1.6 1.5-.1.3 0 .7-.2 1.1-.2.6-.5 1.1-.7 1.7-.7.9-1 2.1-.9 3.4.2 3.1 2.5 6 5.3 6.8l25 7c2.3.6 5.2-.5 6.6-2.5l14.4-22.2c.7-1.1.9-2.4.5-3.6zm-28.9-7.9l1.1-1.6c.3-.4.9-.7 1.4-.5l16.5 4.6c.5.1.7.6.4 1l-1.1 1.6c-.3.4-.9.7-1.4.5l-16.5-4.6c-.5-.2-.7-.6-.4-1zM42.7 44l1.1-1.6c.3-.4.9-.7 1.4-.5l16.5 4.6c.5.1.7.6.4 1L60.9 49c-.3.4-.9.7-1.4.5L43.1 45c-.5-.1-.7-.6-.4-1z',\r\n    ], '#963'),\r\n    'markup': new SvgIcon([\r\n        'M21.5 48.3l16.2-14v7.1l-11 9.2v.1l11 9.2V67L21.5 53v-4.7zm30.6-17.6h4.3L48 71.3h-4.2l8.3-40.6zM62.3 60l11-9.2v-.1l-11-9.2v-7.1l16.2 14v4.9l-16.2 14V60z',\r\n    ] /* no color? */),\r\n    'script': new SvgIcon([\r\n        'M42.3 44.2h15.4V48H42.3v-3.8zm0 7.7h15.4v3.8H42.3v-3.8zm0 7.7h15.4v3.8H42.3v-3.8zM69.2 25H38.5c-4.2 0-7.7 3.4-7.7 7.7v34.6h-7.7c0 4.2 3.4 7.7 7.7 7.7h30.8c4.2 0 7.7-3.4 7.7-7.7V36.5H77v-3.8c-.1-4.3-3.5-7.7-7.8-7.7zm-3.8 41.6c0 2.5-2 4.5-4.5 4.5H32.7c1.9-1.3 1.9-3.8 1.9-3.8V32.7c0-2.1 1.7-3.8 3.8-3.8s3.8 1.7 3.8 3.8v3.8h23.1v30.1zM46.2 32.7v-3.8h23.1c3.5 0 3.8 2.2 3.8 3.8H46.2z',\r\n    ] /* no color? */),\r\n    'disc': new SvgIcon([\r\n        'M46.9 50c0 .8.3 1.6.9 2.2 1.2 1.2 3.2 1.2 4.4 0 .6-.6.9-1.4.9-2.2 0-.8-.3-1.6-.9-2.2-.6-.6-1.4-.9-2.2-.9-.8 0-1.6.3-2.2.9-.6.6-.9 1.4-.9 2.2z',\r\n        'M32.3 32.3c-9.8 9.8-9.8 25.6 0 35.4 9.8 9.8 25.6 9.8 35.4 0 9.8-9.8 9.8-25.6 0-35.4-9.8-9.7-25.6-9.7-35.4 0zm37 28.2c-.9 1.7-2.1 3.2-3.5 4.6-1.4 1.4-3 2.6-4.6 3.5l-5.8-11.1s.5-.2 1.6-1.2c1.1-1.1 1.3-1.6 1.3-1.6l11 5.8zM54.4 45.6c1.2 1.2 1.8 2.8 1.8 4.4 0 1.6-.6 3.2-1.8 4.4-2.4 2.4-6.4 2.4-8.8 0-1.2-1.2-1.8-2.8-1.8-4.4 0-1.6.6-3.2 1.8-4.4a6.1 6.1 0 0 1 8.8 0zm-8.5-4.4s-1.2.7-2.2 1.8c-.9 1-1 1.2-1.3 1.7l-11-5.9c.9-1.7 2.1-3.2 3.5-4.6 1.4-1.4 3-2.6 4.6-3.5l6.4 10.5z',\r\n    ], '#c96'),\r\n    'text': new SvgIcon(['M69.4 28.6v5.5H21.5v-5.5M30.6 41h47.9v5.6H30.6zm-9.1 12.4h47.9V59H21.5zm9.1 12.5h47.9v5.6H30.6z'], '#6b533b'),\r\n    'database': new SvgIcon([\r\n        'M48.1 75.5c-6.5-.3-12.3-2.3-15.4-5.4-.9-.9-1.8-2.1-2.2-2.9l-.3-.5v-6.1c0-6 0-6.1.1-5.6.3 1.3 1.1 2.7 2.3 3.7.8.7 2.5 1.8 3.8 2.5 2.4 1.2 5.2 2 8.4 2.5 1.9.3 2.6.3 5.3.3s3.4 0 5.3-.3c3.1-.5 6-1.3 8.3-2.5 1.4-.7 3-1.7 3.8-2.5 1.1-1 2-2.5 2.3-3.8.1-.5.1-.4.1 5.5v6l-.3.6c-1 1.9-2.6 3.6-4.7 4.8-4.3 2.7-10.5 4-16.8 3.7z',\r\n        'M48.1 60.4c-5.7-.3-11-1.9-14.3-4.4-.7-.6-1.8-1.6-2.3-2.2-.4-.6-.8-1.2-1.1-1.8l-.3-.5v-6c0-5.9 0-6 .1-5.5.2.9.7 2 1.5 2.9.4.5 1.1 1.2 1.5 1.4.1.1.5.3.7.5 2.7 1.9 6.5 3.3 10.8 3.9 1.9.3 2.6.3 5.3.3s3.4 0 5.3-.3c3.1-.5 6-1.3 8.4-2.5 1.4-.7 3-1.8 3.9-2.5 1.1-1 2-2.4 2.2-3.7.1-.5.1-.4.1 5.5v5.9l-.4.8c-.7 1.2-1.1 1.8-1.9 2.7-.8.8-1.6 1.5-2.7 2.1-4.3 2.4-10.5 3.7-16.8 3.4z',\r\n        'M47.7 45.4c-3.8-.3-6.8-.9-9.6-2-3.4-1.3-5.8-3.1-7.1-5.2-.3-.4-.5-1-.7-1.6-.2-.6-.3-2-.1-2.7.9-4.3 6.6-7.9 14.5-9 1.9-.3 2.6-.3 5.3-.3s3.4 0 5.3.3c3.1.5 6 1.3 8.4 2.5 3.5 1.7 5.6 4 6.1 6.5.1.7.1 2.1-.1 2.7-.4 1.3-1 2.2-2 3.2-2.8 2.9-7.9 4.9-14.1 5.6-.9-.1-5.1 0-5.9 0z',\r\n    ], '#a03537'),\r\n    'pdf': new SvgIcon([\r\n        'M46.2 21.8c-3.5 0-6.3 2.9-6.3 6.3 0 4.3 2.4 9.6 4.9 14.7-2 6.1-4.1 12.7-7 18.2-5.8 2.3-11 4-14 6.6l-.2.2c-1.1 1.2-1.8 2.7-1.8 4.4 0 3.5 2.9 6.3 6.3 6.3 1.7 0 3.4-.6 4.4-1.8 0 0 .2 0 .2-.2 2.3-2.7 5-7.8 7.5-12.2 5.5-2.1 11.5-4.4 16.9-5.8 4.1 3.4 10.1 5.5 15 5.5 3.5 0 6.3-2.9 6.3-6.3 0-3.5-2.9-6.3-6.3-6.3-4 0-9.6 1.4-13.9 2.9-3.5-3.4-6.7-7.5-9.2-11.9C50.6 37 52.6 32 52.6 28c-.2-3.5-2.9-6.2-6.4-6.2zm0 3.6c1.4 0 2.4 1.1 2.4 2.4 0 1.8-1.1 5.3-2.1 9-1.5-3.7-2.9-7.2-2.9-9 .1-1.2 1.2-2.4 2.6-2.4zm1.1 21.5c1.8 3.1 4.1 5.8 6.6 8.2-3.7 1.1-7.3 2.3-11 3.7 1.8-3.8 3.1-7.9 4.4-11.9zM72 55c1.4 0 2.4 1.1 2.4 2.4 0 1.4-1.1 2.4-2.4 2.4-2.9 0-6.9-1.2-10.1-3.1C65.6 56 69.7 55 72 55zM34.6 66.2c-1.8 3.2-3.5 6.1-4.7 7.6-.5.5-.9.6-1.7.6-1.4 0-2.4-1.1-2.4-2.4 0-.6.3-1.4.6-1.7 1.3-1.2 4.5-2.6 8.2-4.1z',\r\n    ], '#c11e07'),\r\n    'sheet': new SvgIcon([\r\n        'M62.1 30.9h14.1v9.4H62.1zm0 14.5h14.1v9.4H62.1zm0 14.3h14.1v9.4H62.1zm-19.2 0H57v9.4H42.9zm-19 0H38v9.4H23.9zm19.2-14.2h14.1v9.4H43.1zm-19.2 0H38v9.4H23.9zm19.2-14.6h14.1v9.4H43.1zm-19.2 0H38v9.4H23.9z',\r\n    ], '#30723f'),\r\n    'presentation': new SvgIcon([\r\n        'M 73.319289,26.32707 H 26.61477 c -2.335226,0 -4.258353,1.917194 -4.258353,4.245215 v 29.853446 c 0,2.328021 1.923127,4.245215 4.258353,4.245215 h 19.506006 l -1.923128,7.257947 h -2.197859 c -0.961564,0 -1.648395,0.684712 -1.648395,1.643309 0,0.958597 0.686831,1.643309 1.648395,1.643309 h 15.797117 c 0.961563,0 1.648394,-0.684712 1.648394,-1.643309 0,-0.958597 -0.686831,-1.643309 -1.648394,-1.643309 H 55.46168 l -1.923128,-7.39489 h 19.780737 c 2.335226,0 4.258353,-1.917193 4.258353,-4.245214 V 30.572285 c 0,-2.328021 -1.923127,-4.245215 -4.258353,-4.245215 z m 0.412099,34.372546 H 26.202672 V 30.2984 h 47.39135 z',\r\n        'm 38.428266,48.511741 h 3.846255 v 7.668775 h -3.846255 z m 6.456214,-2.464963 h 3.846254 V 56.180516 H 44.88448 Z m 6.318846,-2.601906 h 3.846255 v 12.735644 h -3.846255 z m 6.318847,-2.464964 h 3.846255 v 15.200608 h -3.846255 z m -0.274732,-5.614639 -6.730946,3.697445 -4.945184,-1.643308 -8.379341,4.519099 1.236296,1.369424 7.417777,-3.834387 4.945185,1.643309 7.692509,-4.245215 1.236296,1.369424 2.88469,-4.792984 -6.593578,0.410827 z',\r\n    ], '#c24f32'),\r\n    'font': new SvgIcon([\r\n        'M40.4 56.2H28.7l-1.4 3.1c-.5 1-.7 1.9-.7 2.6 0 .9.4 1.6 1.1 2 .4.3 1.5.4 3.2.6v.9H20v-.9c1.2-.2 2.2-.6 2.9-1.4.8-.8 1.7-2.4 2.8-4.8l11.8-25.6h.5l12 26.2c1.1 2.5 2.1 4.1 2.8 4.7.6.5 1.3.8 2.3.9v.9h-16v-.9h.7c1.3 0 2.2-.2 2.7-.5.4-.3.5-.6.5-1.1 0-.3 0-.6-.1-.9 0-.1-.3-.7-.7-1.8l-1.8-4zm-.8-1.8l-4.9-11-5.1 11h10z',\r\n        'M80 44.2l-4.7 15.7-.5 1.9c0 .2-.1.4-.1.5 0 .2.1.4.2.5.1.2.3.2.4.2.3 0 .8-.3 1.4-.8.2-.2.8-.9 1.8-2.2l.9.4c-1.2 2-2.4 3.5-3.7 4.5-1.3.9-2.7 1.4-4.2 1.4-.9 0-1.6-.2-2.1-.7-.5-.5-.7-1-.7-1.8 0-.6.3-1.8.8-3.4l.6-1.9c-1.9 3.1-3.7 5.4-5.4 6.7-1 .8-2.1 1.1-3.2 1.1-1.5 0-2.6-.6-3.2-1.8-.7-1.2-1-2.5-1-4 0-2.2.7-4.8 2.1-7.6 1.4-2.9 3.2-5.2 5.5-6.9 1.9-1.4 3.6-2.2 5.3-2.2.9 0 1.6.3 2.2.8.6.5 1 1.4 1.2 2.8l.9-2.9 5.5-.3zm-7.8 4.5c0-1.3-.2-2.2-.6-2.8-.3-.4-.7-.6-1.2-.6s-1 .2-1.6.7c-1.1 1-2.3 3-3.5 5.9-1.3 3-1.9 5.6-1.9 7.7 0 .8.1 1.4.4 1.8.3.4.6.6.9.6.7 0 1.5-.4 2.2-1.2 1.1-1.2 2-2.6 2.9-4.3 1.6-2.9 2.4-5.5 2.4-7.8z',\r\n    ], '#7291a1'),\r\n    'vue': new SvgIcon([\r\n        'M 66.425365,28.281905 H 56.751974 L 49.707631,39.427061 43.669624,28.281905 H 21.530262 L 49.707631,76.54823 77.885006,28.281905 Z m -37.888497,4.025337 h 6.767604 L 49.707631,57.239179 64.098226,32.307242 h 6.767597 L 49.707631,68.560446 Z',\r\n    ], '#41B883'),\r\n    'other': new SvgIcon([\r\n        'M71 36.3L57.8 23.1c-.4-.4-.9-.6-1.4-.6h-26c-1.1 0-2 .9-2 2v51.1c0 1.1.9 2 2 2h39.3c1.1 0 2-.9 2-2V37.7c-.1-.5-.3-1-.7-1.4zm-3.9 2.3H55.5V27l11.6 11.6zm.1 34.5H32.8V26.9h18.5v13.3c0 1.4 1.2 2.6 2.6 2.6h13.3v30.3z',\r\n    ] /* no color? */),\r\n    // system icons\r\n    'system-close': new SvgIcon(['M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z'], undefined, '0 0 24 24'),\r\n    'system-file-preview-new': new SvgIcon([\r\n        'M745,353c-5.6,0-11.3,0.2-17.2,0.7C687.4,237.3,577.8,157,451,157c-162.1,0-294,131.9-294,294c0,2.1,0,4.1,0,6.2C72.6,479,10,555.8,10,647c0,108.1,87.9,196,196,196h245V618.3l-63.4,63.4c-9.6,9.6-22.1,14.4-34.6,14.4s-25.1-4.8-34.6-14.4c-19.2-19.2-19.2-50.1,0-69.3l147-147c4.6-4.6,9.9-8.1,16-10.6c12-4.9,25.5-4.9,37.4,0c6,2.5,11.4,6.1,16,10.6l147,147c19.2,19.2,19.2,50.1,0,69.3c-9.6,9.6-22.1,14.4-34.6,14.4s-25.1-4.8-34.6-14.4L549,618.3V843h196c135.1,0,245-109.9,245-245S880.1,353,745,353z',\r\n    ], undefined, '0 0 1000 1000'),\r\n    // system icons\r\n    'system-sortable-handle': new SvgIcon(['M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z'], undefined, '0 0 24 24'),\r\n    'system-file-av-play': new SvgIcon(['M24 4C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm-4 29V15l12 9-12 9z'], undefined, '0 0 48 48'),\r\n    // M24 4C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm-4 29V15l12 9-12 9z\r\n    'system-file-name-edit': new SvgIcon([\r\n        'M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z',\r\n    ], undefined, '0 0 24 24'),\r\n};\r\nfor (var category in icons) {\r\n    if (icons.hasOwnProperty(category)) {\r\n        icons[category].category = category;\r\n    }\r\n}\r\n/* harmony default export */ var lib_icons = (icons);\r\nvar extensionsMap = {};\r\nfor (var cat in extensions) {\r\n    if (extensions.hasOwnProperty(cat)) {\r\n        try {\r\n            for (var icons_b = (icons_e_1 = void 0, __values(extensions[cat])), icons_c = icons_b.next(); !icons_c.done; icons_c = icons_b.next()) {\r\n                var icons_ext = icons_c.value;\r\n                extensionsMap[icons_ext] = cat;\r\n            }\r\n        }\r\n        catch (e_1_1) { icons_e_1 = { error: e_1_1 }; }\r\n        finally {\r\n            try {\r\n                if (icons_c && !icons_c.done && (icons_a = icons_b.return)) icons_a.call(icons_b);\r\n            }\r\n            finally { if (icons_e_1) throw icons_e_1.error; }\r\n        }\r\n    }\r\n}\r\nfunction getIconByName(name) {\r\n    var svgIcon = icons[name] || icons.other;\r\n    return svgIcon;\r\n}\r\nfunction getIconFromExt(ext) {\r\n    ext = ext.toLowerCase();\r\n    var cat = extensionsMap[ext];\r\n    return getIconByName(cat);\r\n}\r\n\n// EXTERNAL MODULE: external {\"commonjs\":\"vue\",\"commonjs2\":\"vue\",\"root\":\"Vue\"}\nvar external_commonjs_vue_commonjs2_vue_root_Vue_ = __webpack_require__(\"8bbf\");\nvar external_commonjs_vue_commonjs2_vue_root_Vue_default = /*#__PURE__*/__webpack_require__.n(external_commonjs_vue_commonjs2_vue_root_Vue_);\n\n// CONCATENATED MODULE: ./node_modules/ts-loader??ref--12-0!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/vue-file-icon.vue?vue&type=script&lang=ts&\n\r\n\r\n/* harmony default export */ var vue_file_iconvue_type_script_lang_ts_ = (external_commonjs_vue_commonjs2_vue_root_Vue_default.a.extend({\r\n    props: ['ext', 'name', 'viewBox'],\r\n    computed: {\r\n        viewBoxComputed: function () {\r\n            if (!this.viewBox && this.icon && this.icon.viewBox) {\r\n                return this.icon.viewBox;\r\n            }\r\n            return this.viewBox ? this.viewBox : '0 0 100 100';\r\n        },\r\n        icon: function () {\r\n            if (this.name) {\r\n                return getIconByName(this.name);\r\n            }\r\n            var svgIcon = getIconFromExt(this.ext);\r\n            return svgIcon;\r\n        },\r\n    },\r\n}));\r\n\n// CONCATENATED MODULE: ./src/components/vue-file-icon.vue?vue&type=script&lang=ts&\n /* harmony default export */ var components_vue_file_iconvue_type_script_lang_ts_ = (vue_file_iconvue_type_script_lang_ts_); \n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/runtime/componentNormalizer.js\n/* globals __VUE_SSR_CONTEXT__ */\n\n// IMPORTANT: Do NOT use ES2015 features in this file (except for modules).\n// This module is a runtime utility for cleaner component module output and will\n// be included in the final webpack user bundle.\n\nfunction normalizeComponent (\n  scriptExports,\n  render,\n  staticRenderFns,\n  functionalTemplate,\n  injectStyles,\n  scopeId,\n  moduleIdentifier, /* server only */\n  shadowMode /* vue-cli only */\n) {\n  // Vue.extend constructor export interop\n  var options = typeof scriptExports === 'function'\n    ? scriptExports.options\n    : scriptExports\n\n  // render functions\n  if (render) {\n    options.render = render\n    options.staticRenderFns = staticRenderFns\n    options._compiled = true\n  }\n\n  // functional template\n  if (functionalTemplate) {\n    options.functional = true\n  }\n\n  // scopedId\n  if (scopeId) {\n    options._scopeId = 'data-v-' + scopeId\n  }\n\n  var hook\n  if (moduleIdentifier) { // server build\n    hook = function (context) {\n      // 2.3 injection\n      context =\n        context || // cached call\n        (this.$vnode && this.$vnode.ssrContext) || // stateful\n        (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) // functional\n      // 2.2 with runInNewContext: true\n      if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n        context = __VUE_SSR_CONTEXT__\n      }\n      // inject component styles\n      if (injectStyles) {\n        injectStyles.call(this, context)\n      }\n      // register component module identifier for async chunk inferrence\n      if (context && context._registeredComponents) {\n        context._registeredComponents.add(moduleIdentifier)\n      }\n    }\n    // used by ssr in case component is cached and beforeCreate\n    // never gets called\n    options._ssrRegister = hook\n  } else if (injectStyles) {\n    hook = shadowMode\n      ? function () { injectStyles.call(this, this.$root.$options.shadowRoot) }\n      : injectStyles\n  }\n\n  if (hook) {\n    if (options.functional) {\n      // for template-only hot-reload because in that case the render fn doesn't\n      // go through the normalizer\n      options._injectStyles = hook\n      // register for functional component in vue file\n      var originalRender = options.render\n      options.render = function renderWithStyleInjection (h, context) {\n        hook.call(context)\n        return originalRender(h, context)\n      }\n    } else {\n      // inject component registration as beforeCreate hook\n      var existing = options.beforeCreate\n      options.beforeCreate = existing\n        ? [].concat(existing, hook)\n        : [hook]\n    }\n  }\n\n  return {\n    exports: scriptExports,\n    options: options\n  }\n}\n\n// CONCATENATED MODULE: ./src/components/vue-file-icon.vue\n\n\n\n\n\n/* normalize component */\n\nvar component = normalizeComponent(\n  components_vue_file_iconvue_type_script_lang_ts_,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var vue_file_icon = (component.exports);\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{\"cacheDirectory\":\"node_modules/.cache/vue-loader\",\"cacheIdentifier\":\"72196104-vue-loader-template\"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/vue-file-preview.vue?vue&type=template&id=89d27d16&\nvar vue_file_previewvue_type_template_id_89d27d16_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:[\n    'file-preview-wrapper-' + _vm.fileRecord.ext(),\n    _vm.fileRecord.isImage() ? 'file-preview-wrapper-image' : 'file-preview-wrapper-other',\n    'file-category-' + _vm.fileRecord.icon().category,\n    { 'file-is-playing-av': _vm.fileRecord.isPlayingAv },\n    { 'is-deletable': _vm.deletable === true },\n    { 'is-editable': _vm.editable === true },\n    { 'is-edit-input-focused': _vm.isEditInputFocused },\n    { 'has-error': _vm.fileRecord.error } ]},[(_vm.fileRecord.isPlayableAudio() || _vm.fileRecord.isPlayableVideo())?_c('div',{ref:\"wrapper\",staticClass:\"file-av-wrapper\"},[_c('div',{staticClass:\"file-av-action\",on:{\"click\":function($event){return _vm.playAv(_vm.fileRecord)}}},[_c('span',{staticClass:\"file-av-stop\"},[_c('VueFileIcon',{attrs:{\"name\":\"system-close\"}})],1),_c('span',{staticClass:\"file-av-play\"},[_c('VueFileIcon',{attrs:{\"name\":\"system-file-av-play\"}})],1)])]):_vm._e(),_c('span',{staticClass:\"file-preview\",class:{\n      'image-preview': _vm.fileRecord.isImage(),\n      'other-preview': !_vm.fileRecord.isImage(),\n      'dark-content': _vm.fileRecord.isImage() && _vm.fileRecord.isDarkColor(),\n    },style:({\n      'background-color': _vm.fileRecord.color(),\n    })},[(_vm.fileRecord.error)?_c('span',{staticClass:\"file-error-wrapper\",on:{\"click\":function($event){return _vm.dismissError()}}},[_c('span',{staticClass:\"file-error-message file-error-message-client\"},[_vm._v(\" \"+_vm._s(_vm.fileRecord.getErrorMessage(_vm.errorText))+\" \")])]):_vm._e(),_c('span',{staticClass:\"file-preview-overlay\"}),(_vm.fileRecord.isImage() || _vm.fileRecord.isPlayableVideo())?_c('span',{staticClass:\"thumbnail\",staticStyle:{\"position\":\"absolute\",\"top\":\"0\",\"right\":\"0\",\"bottom\":\"0\",\"left\":\"0\",\"overflow\":\"hidden\"}},[(_vm.hasLinkableUrl)?_c('a',{attrs:{\"href\":_vm.fileRecord.url(),\"target\":\"_blank\",\"title\":_vm.fileRecord.name()}},[_c('img',{staticClass:\"file-preview-img\",attrs:{\"src\":_vm.fileRecord.src()}})]):_c('img',{staticClass:\"file-preview-img\",attrs:{\"src\":_vm.fileRecord.src()}})]):_vm._e(),_c('span',{staticClass:\"file-ext\"},[_vm._v(_vm._s(_vm.fileRecord.ext()))]),_c('span',{staticClass:\"file-size\"},[_vm._v(_vm._s(_vm.fileRecord.size()))]),(_vm.deletable)?_c('span',{staticClass:\"file-delete\",on:{\"click\":function($event){return _vm.removeFileRecord(_vm.fileRecord)},\"touchstart\":function($event){return _vm.filenameClearPressed()},\"mousedown\":function($event){return _vm.filenameClearPressed()}}},[_c('VueFileIcon',{attrs:{\"name\":\"system-close\"}})],1):_vm._e(),_c('span',{staticClass:\"file-name\",on:{\"click\":function($event){return _vm.editFileName()}}},[(_vm.editable === true)?_c('input',{ref:\"input\",staticClass:\"file-name-input\",attrs:{\"disabled\":_vm.disabled === true,\"type\":\"text\"},domProps:{\"value\":_vm.fileRecord.name(true)},on:{\"focus\":function($event){return _vm.editInputFocused()},\"blur\":function($event){return _vm.editInputBlured()},\"change\":function($event){return _vm.filenameChanged()},\"input\":function($event){return _vm.filenameChanged()},\"keyup\":[function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.filenameChanged(true)},function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"esc\",27,$event.key,[\"Esc\",\"Escape\"])){ return null; }return _vm.filenameChanged(false)}]}}):_vm._e(),(_vm.editable === true)?_c('span',{staticClass:\"file-name-edit-icon\"},[_c('VueFileIcon',{attrs:{\"name\":\"system-file-name-edit\"}})],1):_vm._e(),_c('span',{staticClass:\"file-name-text\"},[_vm._v(_vm._s(_vm.fileRecord.name(true)))])]),(_vm.fileRecord.dimensions.width && _vm.fileRecord.dimensions.height)?_c('span',{staticClass:\"image-dimension\"},[_c('span',{staticClass:\"image-dimension-width\"},[_vm._v(_vm._s(_vm.fileRecord.dimensions.width))]),_c('span',{staticClass:\"image-dimension-height\"},[_vm._v(_vm._s(_vm.fileRecord.dimensions.height))])]):_vm._e(),(_vm.fileRecord.hasProgress())?_c('span',{staticClass:\"file-progress\",class:{\n        'file-progress-full': _vm.fileRecord.progress() >= 99.9999,\n        'file-progress-done': _vm.fileRecord.progress() >= 100,\n        'has-file-progress': _vm.fileRecord.progress() > 0,\n      }},[_c('span',{staticClass:\"file-progress-bar\",style:({ width: _vm.fileRecord.progress() + '%' })})]):_vm._e(),_c('span',{staticClass:\"file-icon\"},[(_vm.hasLinkableUrl)?_c('a',{attrs:{\"href\":_vm.fileRecord.url(),\"target\":\"_blank\",\"title\":_vm.fileRecord.name()}},[_c('VueFileIcon',{attrs:{\"ext\":_vm.fileRecord.ext()}})],1):_c('VueFileIcon',{attrs:{\"ext\":_vm.fileRecord.ext()}})],1)])])}\nvar vue_file_previewvue_type_template_id_89d27d16_staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./src/components/vue-file-preview.vue?vue&type=template&id=89d27d16&\n\n// CONCATENATED MODULE: ./src/lib/drop-handler.ts\n\r\nfunction getFilesFromDroppedItems(dataTransfer) {\r\n    return new Promise(function (resolve) {\r\n        if (!includesFolder(dataTransfer)) {\r\n            return resolve(dataTransfer.files);\r\n        }\r\n        var files = [];\r\n        var folderReadQueue = [];\r\n        // tslint:disable-next-line\r\n        for (var i = 0; i < dataTransfer.items.length; i++) {\r\n            var item = dataTransfer.items[i];\r\n            if (item.kind !== 'file') {\r\n                continue;\r\n            }\r\n            var fileSystemEntries = getEntries(item);\r\n            if (fileSystemEntries) {\r\n                folderReadQueue.push(fileSystemEntries);\r\n            }\r\n            else {\r\n                var file = item.getAsFile();\r\n                if (file) {\r\n                    files.push(file);\r\n                }\r\n            }\r\n        }\r\n        Promise.all(folderReadQueue).then(function (filesInFolders) {\r\n            resolve(files.concat.apply(files, __spread(filesInFolders)));\r\n        });\r\n    });\r\n}\r\nfunction getEntries(entry) {\r\n    // convert DataTransferItem to FileSystemEntry first if necessary\r\n    if (entry.getAsEntry) {\r\n        return getEntries(entry.getAsEntry());\r\n    }\r\n    if (entry.webkitGetAsEntry) {\r\n        return getEntries(entry.webkitGetAsEntry());\r\n    }\r\n    // return if item is from a browser that does not support webkitGetAsEntry\r\n    if (entry.getAsFile) {\r\n        return;\r\n    }\r\n    // Processing directories with more than 100 files:\r\n    // https://github.com/lian-yue/vue-upload-component/commit/9c9d8aafbcef005a2cc598454383ec65205d61ee\r\n    return new Promise(function (resolve) {\r\n        if (entry.isFile) {\r\n            entry.file(function (file) { return resolve([file]); });\r\n            return;\r\n        }\r\n        if (entry.isDirectory) {\r\n            var files_1 = [];\r\n            var entryReader_1 = entry.createReader();\r\n            var readEntries_1 = function () {\r\n                entryReader_1.readEntries(function (entries) {\r\n                    var iterateEntry = function (i) {\r\n                        if (!entries[i] && i === 0) {\r\n                            return resolve(files_1);\r\n                        }\r\n                        if (!entries[i]) {\r\n                            return readEntries_1();\r\n                        }\r\n                        getEntries(entries[i]).then(function (entryFiles) {\r\n                            files_1.push.apply(files_1, __spread(entryFiles));\r\n                            iterateEntry(i + 1);\r\n                        });\r\n                    };\r\n                    iterateEntry(0);\r\n                });\r\n            };\r\n            readEntries_1();\r\n        }\r\n        if (!entry.isFile && !entry.isDirectory) {\r\n            resolve([]);\r\n        }\r\n    });\r\n}\r\nfunction includesFolder(transfer) {\r\n    var e_1, _a;\r\n    if (!transfer.files.length) {\r\n        return true; // if dropping only folders, no files will exist\r\n    }\r\n    try {\r\n        // Loop through the dropped items and log their data\r\n        for (var _b = __values(transfer.items), _c = _b.next(); !_c.done; _c = _b.next()) {\r\n            var item = _c.value;\r\n            if (item.webkitGetAsEntry != null) {\r\n                var entry = item.webkitGetAsEntry();\r\n                if (entry && entry.isDirectory) {\r\n                    return true;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    catch (e_1_1) { e_1 = { error: e_1_1 }; }\r\n    finally {\r\n        try {\r\n            if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\r\n        }\r\n        finally { if (e_1) throw e_1.error; }\r\n    }\r\n    var files = transfer.files;\r\n    // tslint:disable-next-line\r\n    for (var i = 0; i < files.length; i++) {\r\n        // A folder has no type and has a size that is a multiple of 4096\r\n        if (!files[i].type && files[i].size % 4096 === 0) {\r\n            return true;\r\n        }\r\n    }\r\n    return false;\r\n}\r\n\n// CONCATENATED MODULE: ./src/lib/utils.ts\n\r\n\r\nvar ImageOrientation;\r\n(function (ImageOrientation) {\r\n    ImageOrientation[ImageOrientation[\"NORMAL\"] = 1] = \"NORMAL\";\r\n    ImageOrientation[ImageOrientation[\"UPSIDE_DOWN\"] = 6] = \"UPSIDE_DOWN\";\r\n})(ImageOrientation || (ImageOrientation = {}));\r\nvar utils_Utils = /** @class */ (function () {\r\n    function Utils() {\r\n    }\r\n    Utils.prototype.arrayMove = function (arr, previousIndex, newIndex) {\r\n        // https://github.com/Jexordexan/vue-slicksort/blob/master/src/utils.js\r\n        var array = arr.slice(0);\r\n        if (newIndex >= array.length) {\r\n            var k = newIndex - array.length;\r\n            while (k-- + 1) {\r\n                array.push(undefined);\r\n            }\r\n        }\r\n        array.splice(newIndex, 0, array.splice(previousIndex, 1)[0]);\r\n        return array;\r\n    };\r\n    Utils.prototype.getAverageColor = function (arr) {\r\n        var bytesPerPixel = 4;\r\n        var arrLength = arr.length;\r\n        if (arrLength < bytesPerPixel) {\r\n            return;\r\n        }\r\n        var step = 5;\r\n        var len = arrLength - (arrLength % bytesPerPixel);\r\n        var preparedStep = (step || 1) * bytesPerPixel;\r\n        var redTotal = 0;\r\n        var greenTotal = 0;\r\n        var blueTotal = 0;\r\n        var alphaTotal = 0;\r\n        var count = 0;\r\n        for (var i = 0; i < len; i += preparedStep) {\r\n            var alpha = arr[i + 3];\r\n            var red = arr[i] * alpha;\r\n            var green = arr[i + 1] * alpha;\r\n            var blue = arr[i + 2] * alpha;\r\n            redTotal += red;\r\n            greenTotal += green;\r\n            blueTotal += blue;\r\n            alphaTotal += alpha;\r\n            count++;\r\n        }\r\n        return alphaTotal\r\n            ? [\r\n                Math.round(redTotal / alphaTotal),\r\n                Math.round(greenTotal / alphaTotal),\r\n                Math.round(blueTotal / alphaTotal),\r\n                Math.round(alphaTotal / count),\r\n            ]\r\n            : [0, 0, 0, 0];\r\n    };\r\n    Utils.prototype.createVideoThumbnail = function (video, canvas, thumbnailSize, calculateAverageColor) {\r\n        var _this = this;\r\n        video.setAttribute('crossOrigin', 'anonymous'); // fix cross origin issue\r\n        return new Promise(function (resolve, reject) {\r\n            var loadedmetadata = false;\r\n            var loadeddata = false;\r\n            var tryGetThumbnail = function () {\r\n                if (!(loadedmetadata && loadeddata)) {\r\n                    return;\r\n                }\r\n                var context = canvas.getContext('2d');\r\n                context.drawImage(video, 0, 0, canvas.width, canvas.height);\r\n                var color;\r\n                if (calculateAverageColor) {\r\n                    var imageData = context.getImageData(0, 0, canvas.width, canvas.height);\r\n                    color = _this.getAverageColor(imageData.data);\r\n                }\r\n                var url = canvas.toDataURL();\r\n                resolve({\r\n                    url: url,\r\n                    color: color,\r\n                    width: video.videoWidth,\r\n                    height: video.videoHeight,\r\n                });\r\n            };\r\n            // Load metadata of the video to get video duration and dimensions\r\n            video.addEventListener('loadedmetadata', function () {\r\n                // var video_duration = video.duration;\r\n                canvas.width = thumbnailSize;\r\n                canvas.height = (canvas.width / video.videoWidth) * video.videoHeight;\r\n                video.currentTime = 1; // video time\r\n                loadedmetadata = true;\r\n                tryGetThumbnail();\r\n            });\r\n            video.addEventListener('loadeddata', function () {\r\n                loadeddata = true;\r\n                tryGetThumbnail();\r\n            });\r\n        });\r\n    };\r\n    Utils.prototype.getDataURL = function (file) {\r\n        return new Promise(function (resolve, reject) {\r\n            var reader = new FileReader();\r\n            reader.onload = function (event) {\r\n                if (!(event.target && event.target.result)) {\r\n                    return resolve('');\r\n                }\r\n                resolve(event.target.result);\r\n            };\r\n            reader.readAsDataURL(file);\r\n        });\r\n    };\r\n    Utils.prototype.getImageOrientationFromArrayBuffer = function (buffer) {\r\n        // -2: not jpeg\r\n        // -1: not defined\r\n        var view = new DataView(buffer);\r\n        if (view.getUint16(0, false) !== 0xffd8) {\r\n            return -2;\r\n        }\r\n        var length = view.byteLength;\r\n        var offset = 2;\r\n        while (offset < length) {\r\n            if (view.getUint16(offset + 2, false) <= 8) {\r\n                return -1;\r\n            }\r\n            var marker = view.getUint16(offset, false);\r\n            offset += 2;\r\n            if (marker === 0xffe1) {\r\n                if (view.getUint32((offset += 2), false) !== 0x45786966) {\r\n                    return -1;\r\n                }\r\n                var little = view.getUint16((offset += 6), false) === 0x4949;\r\n                offset += view.getUint32(offset + 4, little);\r\n                var tags = view.getUint16(offset, little);\r\n                offset += 2;\r\n                for (var i = 0; i < tags; i++) {\r\n                    if (view.getUint16(offset + i * 12, little) === 0x0112) {\r\n                        return view.getUint16(offset + i * 12 + 8, little);\r\n                    }\r\n                }\r\n                // tslint:disable-next-line\r\n            }\r\n            else if ((marker & 0xff00) !== 0xff00) {\r\n                break;\r\n            }\r\n            else {\r\n                offset += view.getUint16(offset, false);\r\n            }\r\n        }\r\n        return -1;\r\n    };\r\n    Utils.prototype.getImageOrientation = function (file) {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            var reader = new FileReader();\r\n            if (!reader.readAsArrayBuffer) {\r\n                return resolve(-3);\r\n            }\r\n            reader.onload = function (event) {\r\n                if (!(event.target && event.target.result)) {\r\n                    return resolve(-3);\r\n                }\r\n                resolve(_this.getImageOrientationFromArrayBuffer(event.target.result));\r\n            };\r\n            // https://stackoverflow.com/questions/3248946/what-is-the-maximum-size-of-jpeg-metadata\r\n            // https://twitter.com/jaffathecake/status/1085443592678752256\r\n            // reader.readAsArrayBuffer(file);\r\n            reader.readAsArrayBuffer(file.slice(0, 65536));\r\n        });\r\n    };\r\n    Utils.prototype.rotateCanvas = function (srcOrientation, canvas, ctx, width, height) {\r\n        // set proper canvas dimensions before transform & export\r\n        if (4 < srcOrientation && srcOrientation < 9) {\r\n            canvas.width = height;\r\n            canvas.height = width;\r\n        }\r\n        else {\r\n            canvas.width = width;\r\n            canvas.height = height;\r\n        }\r\n        // transform context before drawing image\r\n        switch (srcOrientation) {\r\n            case 2:\r\n                ctx.transform(-1, 0, 0, 1, width, 0);\r\n                break;\r\n            case 3:\r\n                ctx.transform(-1, 0, 0, -1, width, height);\r\n                break;\r\n            case 4:\r\n                ctx.transform(1, 0, 0, -1, 0, height);\r\n                break;\r\n            case 5:\r\n                ctx.transform(0, 1, 1, 0, 0, 0);\r\n                break;\r\n            case 6:\r\n                ctx.transform(0, 1, -1, 0, height, 0);\r\n                break;\r\n            case 7:\r\n                ctx.transform(0, -1, -1, 0, height, width);\r\n                break;\r\n            case 8:\r\n                ctx.transform(0, -1, 1, 0, 0, width);\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    };\r\n    Utils.prototype.getImageResized = function (image, widthLimit, heightLimit, orientation, calculateAverageColor) {\r\n        var width = image.width;\r\n        var height = image.height;\r\n        var thumbnailSize = widthLimit;\r\n        if (widthLimit && heightLimit) {\r\n            width = widthLimit;\r\n            height = heightLimit;\r\n        }\r\n        else {\r\n            if (width > height) {\r\n                if (width > thumbnailSize) {\r\n                    height *= thumbnailSize / width;\r\n                    width = thumbnailSize;\r\n                }\r\n            }\r\n            else {\r\n                if (height > thumbnailSize) {\r\n                    width *= thumbnailSize / height;\r\n                    height = thumbnailSize;\r\n                }\r\n            }\r\n        }\r\n        width = Math.floor(width);\r\n        height = Math.floor(height);\r\n        var canvas = document.createElement('canvas');\r\n        var context = canvas.getContext('2d');\r\n        if (!context) {\r\n            return null;\r\n        }\r\n        canvas.width = width;\r\n        canvas.height = height;\r\n        if (orientation !== undefined) {\r\n            this.rotateCanvas(orientation, canvas, context, width, height);\r\n        }\r\n        context.drawImage(image, 0, 0, width, height);\r\n        var avgColor = null;\r\n        try {\r\n            var rgba = void 0;\r\n            if (calculateAverageColor) {\r\n                var imageData = context.getImageData(0, 0, width, height);\r\n                rgba = this.getAverageColor(imageData.data);\r\n            }\r\n            if (rgba) {\r\n                avgColor = rgba;\r\n            }\r\n        }\r\n        catch (e) {\r\n            /* security error, img on diff domain */\r\n        }\r\n        return {\r\n            image: image,\r\n            url: canvas.toDataURL('image/png'),\r\n            color: avgColor,\r\n        };\r\n    };\r\n    Utils.prototype.resizeImageUrl = function (image, url, thumbnailSize, calculateAverageColor) {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            image.onload = function () {\r\n                if (!calculateAverageColor) {\r\n                    resolve({\r\n                        image: image,\r\n                        url: url,\r\n                        color: undefined,\r\n                    });\r\n                    return;\r\n                }\r\n                var resized = _this.getImageResized(image, thumbnailSize, undefined, undefined, calculateAverageColor);\r\n                if (resized) {\r\n                    resized.url = url;\r\n                }\r\n                resolve(resized);\r\n            };\r\n            image.onerror = function () {\r\n                reject('Image loading failed: ' + url);\r\n            };\r\n            image.src = url;\r\n        });\r\n    };\r\n    Utils.prototype.resizeImageFile = function (image, file, thumbnailSize, calculateAverageColor) {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            if (file.type.indexOf('image') === -1) {\r\n                reject(new Error('Not an image'));\r\n                return;\r\n            }\r\n            var createObjectURL = (window.URL || window.webkitURL || {}).createObjectURL;\r\n            var revokeObjectURL = (window.URL || window.webkitURL || {}).revokeObjectURL;\r\n            var shouldRevoke = false;\r\n            var orientationPromise = _this.getImageOrientation(file);\r\n            image.onload = function () {\r\n                orientationPromise.then(function (orientation) {\r\n                    var resized = _this.getImageResized(image, thumbnailSize, undefined, orientation, calculateAverageColor);\r\n                    if (shouldRevoke) {\r\n                        revokeObjectURL(image.src);\r\n                    }\r\n                    resolve(resized);\r\n                });\r\n            };\r\n            if (!(file instanceof File)) {\r\n                return reject('Invalid file object. Use url or a valid instance of File class');\r\n            }\r\n            if (createObjectURL && revokeObjectURL) {\r\n                shouldRevoke = true;\r\n                image.src = createObjectURL(file);\r\n                return;\r\n            }\r\n            _this.getDataURL(file).then(function (dataUrl) {\r\n                image.src = dataUrl;\r\n            });\r\n        });\r\n    };\r\n    Utils.prototype.resizeImage = function (thumbnailSize, file, url, calculateAverageColor) {\r\n        var image = new Image();\r\n        image.setAttribute('crossOrigin', 'anonymous');\r\n        return url\r\n            ? this.resizeImageUrl(image, url, thumbnailSize, calculateAverageColor)\r\n            : this.resizeImageFile(image, file, thumbnailSize, calculateAverageColor);\r\n    };\r\n    Utils.prototype.getSizeFormatted = function (bytes) {\r\n        var sizes = ['B', 'KB', 'MB', 'GB', 'TB'];\r\n        if (bytes === 0) {\r\n            return '0 B';\r\n        }\r\n        var i = Math.floor(Math.log(bytes) / Math.log(1024));\r\n        i = parseInt('' + i, 10);\r\n        return Math.round(bytes / Math.pow(1024, i)) + ' ' + sizes[i];\r\n    };\r\n    Utils.prototype.getSizeParsed = function (size) {\r\n        size = ('' + size).toUpperCase();\r\n        var matches = size.match(/([\\d|.]+?)\\s*?([A-Z]+)/);\r\n        var sizes = ['B', 'KB', 'MB', 'GB', 'TB'];\r\n        if (!matches) {\r\n            return parseFloat(size);\r\n        }\r\n        var i = sizes.indexOf(matches[2]);\r\n        if (i === -1) {\r\n            return parseFloat(size);\r\n        }\r\n        return parseFloat(matches[1]) * Math.pow(1024, i);\r\n    };\r\n    Utils.prototype.getColorForText = function (text) {\r\n        var getHashCode = function (value) {\r\n            var hash = 0;\r\n            if (value.length === 0) {\r\n                return hash;\r\n            }\r\n            for (var i = 0; i < value.length; i++) {\r\n                // tslint:disable-next-line\r\n                hash = value.charCodeAt(i) + ((hash << 5) - hash);\r\n                // tslint:disable-next-line\r\n                hash = hash & hash; // Convert to 32bit integer\r\n            }\r\n            return hash;\r\n        };\r\n        var intToHSL = function (value) {\r\n            var h = value % 360;\r\n            var s = value % 100;\r\n            var l = 50;\r\n            return 'hsl(' + h + ',' + s + '%,' + l + '%, 0.75)';\r\n        };\r\n        return intToHSL(getHashCode(text.toLowerCase()));\r\n    };\r\n    Utils.prototype.validateType = function (file, accept) {\r\n        var e_1, _a;\r\n        // https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/file#accept\r\n        // https://gitlab.com/meno/dropzone/blob/master/src/dropzone.js#L2511\r\n        if (!accept) {\r\n            return true;\r\n        } // If there are no accepted mime types, it's OK\r\n        var acceptedFiles = accept.split(',');\r\n        var mimeType = file.type;\r\n        var baseMimeType = mimeType.replace(/\\/.*$/, '');\r\n        try {\r\n            for (var acceptedFiles_1 = __values(acceptedFiles), acceptedFiles_1_1 = acceptedFiles_1.next(); !acceptedFiles_1_1.done; acceptedFiles_1_1 = acceptedFiles_1.next()) {\r\n                var validType = acceptedFiles_1_1.value;\r\n                validType = validType.trim();\r\n                if (validType.charAt(0) === '.') {\r\n                    // extension\r\n                    if (file.name.toLowerCase().indexOf(validType.toLowerCase(), file.name.length - validType.length) !== -1) {\r\n                        return true;\r\n                    }\r\n                }\r\n                else if (/\\/\\*$/.test(validType)) {\r\n                    // This is something like a image/* mime type\r\n                    if (baseMimeType === validType.replace(/\\/.*$/, '')) {\r\n                        return true;\r\n                    }\r\n                }\r\n                else {\r\n                    if (mimeType === validType) {\r\n                        return true;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\r\n        finally {\r\n            try {\r\n                if (acceptedFiles_1_1 && !acceptedFiles_1_1.done && (_a = acceptedFiles_1.return)) _a.call(acceptedFiles_1);\r\n            }\r\n            finally { if (e_1) throw e_1.error; }\r\n        }\r\n        return false;\r\n    };\r\n    Utils.prototype.validateSize = function (file, maxSize) {\r\n        if (!maxSize) {\r\n            return true;\r\n        }\r\n        var bytes = this.getSizeParsed(maxSize);\r\n        return file.size <= bytes;\r\n    };\r\n    Utils.prototype.getFilesFromDroppedItems = function (dataTransfer) {\r\n        return getFilesFromDroppedItems(dataTransfer);\r\n    };\r\n    return Utils;\r\n}());\r\n/* harmony default export */ var utils = (new utils_Utils());\r\n\n// CONCATENATED MODULE: ./src/lib/file-record.ts\n\r\n\r\n\r\nvar file_record_FileRecord = /** @class */ (function () {\r\n    function FileRecord(data, options) {\r\n        this.urlValue = null;\r\n        this.urlResized = null;\r\n        this.image = {};\r\n        this.isPlayingAv = false;\r\n        this.oldFileName = null;\r\n        this.oldCustomName = null;\r\n        this.upload = { data: null, error: false };\r\n        this.urlValue = null;\r\n        this.urlResized = null;\r\n        this.lastKnownSrc = null;\r\n        this.image = {};\r\n        this.isPlayingAv = false;\r\n        this.oldFileName = null;\r\n        this.oldCustomName = null;\r\n        this.raw = data;\r\n        this.file = data.file instanceof File ? data.file : this.createDummyFile(data);\r\n        this.progressInternal = !isNaN(data.progress) ? data.progress : 0;\r\n        // this.width = FileRecord.defaultWidth;\r\n        // this.height = FileRecord.defaultHeight;\r\n        this.thumbnailSize = options.thumbnailSize || 360;\r\n        this.read = !!options.read;\r\n        this.dimensions = data.dimensions || { width: 0, height: 0 };\r\n        this.dimensions.width = this.dimensions.width || 0;\r\n        this.dimensions.height = this.dimensions.height || 0;\r\n        this.error = data.error || false;\r\n        this.options = options;\r\n        this.maxSize = options.maxSize;\r\n        this.accept = options.accept;\r\n        this.id = Math.random() + ':' + new Date().getTime();\r\n        this.videoThumbnail = data.videoThumbnail;\r\n        this.imageColor = data.imageColor;\r\n        this.customName = data.customName;\r\n        this.calculateAverageColor = options.averageColor !== undefined ? options.averageColor : true;\r\n        this.validate();\r\n    }\r\n    FileRecord.getFromRaw = function (rawFileRecord, options, isSync) {\r\n        if (isSync === void 0) { isSync = false; }\r\n        var fileRecord = new FileRecord(rawFileRecord, options);\r\n        var promise = fileRecord.setUrl(rawFileRecord.url);\r\n        rawFileRecord.progress = fileRecord.progress.bind(fileRecord); // convert it as a function\r\n        rawFileRecord.src = fileRecord.src.bind(fileRecord);\r\n        rawFileRecord.name = fileRecord.name.bind(fileRecord); // convert it as a function\r\n        if (isSync) {\r\n            return fileRecord;\r\n        }\r\n        return promise;\r\n    };\r\n    FileRecord.fromRaw = function (rawFileRecord, options) {\r\n        return FileRecord.getFromRaw(rawFileRecord, options, false);\r\n    };\r\n    FileRecord.fromRawSync = function (rawFileRecord, options) {\r\n        return FileRecord.getFromRaw(rawFileRecord, options, true);\r\n    };\r\n    FileRecord.fromRawArray = function (rawFileRecords, options) {\r\n        var e_1, _a;\r\n        var promises = [];\r\n        try {\r\n            for (var rawFileRecords_1 = __values(rawFileRecords), rawFileRecords_1_1 = rawFileRecords_1.next(); !rawFileRecords_1_1.done; rawFileRecords_1_1 = rawFileRecords_1.next()) {\r\n                var rawFileRecord = rawFileRecords_1_1.value;\r\n                promises.push(FileRecord.fromRaw(rawFileRecord, options));\r\n            }\r\n        }\r\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\r\n        finally {\r\n            try {\r\n                if (rawFileRecords_1_1 && !rawFileRecords_1_1.done && (_a = rawFileRecords_1.return)) _a.call(rawFileRecords_1);\r\n            }\r\n            finally { if (e_1) throw e_1.error; }\r\n        }\r\n        return Promise.all(promises);\r\n    };\r\n    FileRecord.toRawArray = function (fileRecords) {\r\n        var e_2, _a;\r\n        var rawFileRecords = [];\r\n        try {\r\n            for (var fileRecords_1 = __values(fileRecords), fileRecords_1_1 = fileRecords_1.next(); !fileRecords_1_1.done; fileRecords_1_1 = fileRecords_1.next()) {\r\n                var fileRecord = fileRecords_1_1.value;\r\n                rawFileRecords.push(fileRecord.toRaw());\r\n            }\r\n        }\r\n        catch (e_2_1) { e_2 = { error: e_2_1 }; }\r\n        finally {\r\n            try {\r\n                if (fileRecords_1_1 && !fileRecords_1_1.done && (_a = fileRecords_1.return)) _a.call(fileRecords_1);\r\n            }\r\n            finally { if (e_2) throw e_2.error; }\r\n        }\r\n        return rawFileRecords;\r\n    };\r\n    FileRecord.readFile = function (fileRecord) {\r\n        return new Promise(function (resolve, reject) {\r\n            if (!fileRecord.read) {\r\n                fileRecord.setUrl(null).then(function () {\r\n                    resolve(fileRecord);\r\n                }, function (err) {\r\n                    // ignore error\r\n                    resolve(fileRecord);\r\n                });\r\n                return;\r\n            }\r\n            utils.getDataURL(fileRecord.file).then(function (dataUrl) {\r\n                fileRecord.setUrl(dataUrl).then(function () {\r\n                    resolve(fileRecord);\r\n                }, reject);\r\n            }, reject);\r\n        });\r\n    };\r\n    FileRecord.readFiles = function (fileRecords) {\r\n        var e_3, _a;\r\n        var promises = [];\r\n        try {\r\n            for (var fileRecords_2 = __values(fileRecords), fileRecords_2_1 = fileRecords_2.next(); !fileRecords_2_1.done; fileRecords_2_1 = fileRecords_2.next()) {\r\n                var fileRecord = fileRecords_2_1.value;\r\n                promises.push(FileRecord.readFile(fileRecord));\r\n            }\r\n        }\r\n        catch (e_3_1) { e_3 = { error: e_3_1 }; }\r\n        finally {\r\n            try {\r\n                if (fileRecords_2_1 && !fileRecords_2_1.done && (_a = fileRecords_2.return)) _a.call(fileRecords_2);\r\n            }\r\n            finally { if (e_3) throw e_3.error; }\r\n        }\r\n        return Promise.all(promises);\r\n    };\r\n    // populate(data, options = {}) {}\r\n    FileRecord.prototype.createDummyFile = function (data) {\r\n        var file = {};\r\n        file.lastModified = data.lastModified;\r\n        var d = new Date();\r\n        if (file.lastModified) {\r\n            d.setTime(file.lastModified);\r\n        }\r\n        file.lastModifiedDate = d;\r\n        file.name = typeof data.name === 'function' ? data.name() : data.name;\r\n        file.size = data.size;\r\n        file.type = data.type;\r\n        return file;\r\n    };\r\n    FileRecord.prototype.hasProgress = function () {\r\n        return !isNaN(this.progressInternal); // && this._progress <= 100;\r\n    };\r\n    FileRecord.prototype.progress = function (value) {\r\n        if (value !== undefined) {\r\n            this.progressInternal = value;\r\n            return;\r\n        }\r\n        return this.progressInternal || 0;\r\n    };\r\n    FileRecord.prototype.url = function (value) {\r\n        if (value !== undefined) {\r\n            return this.setUrl(value);\r\n        }\r\n        return this.urlValue || undefined;\r\n    };\r\n    FileRecord.prototype.src = function () {\r\n        if (this.isImage()) {\r\n            return this.urlResized || this.urlValue || this.file.url;\r\n        }\r\n        if (this.isPlayableVideo()) {\r\n            return this.videoThumbnail || '';\r\n        }\r\n        return '';\r\n    };\r\n    FileRecord.prototype.size = function () {\r\n        if (!this.file) {\r\n            return '';\r\n        }\r\n        return utils.getSizeFormatted(this.file.size);\r\n    };\r\n    FileRecord.prototype.ext = function () {\r\n        if (this.file && this.file.name.indexOf('.') !== -1) {\r\n            return this.file.name.split('.').pop();\r\n        }\r\n        return '?';\r\n        // return this.file.type.split('/').shift();\r\n    };\r\n    FileRecord.prototype.name = function (withoutExt) {\r\n        var ext = this.ext();\r\n        if (this.customName) {\r\n            return this.customName + (withoutExt ? '' : ext !== '?' ? '.' + ext : '');\r\n        }\r\n        var name = this.file && this.file.name;\r\n        if (withoutExt) {\r\n            if (ext !== '?') {\r\n                return name.substr(0, name.length - (ext.length + 1));\r\n            }\r\n        }\r\n        return name;\r\n    };\r\n    FileRecord.prototype.isDarkColor = function () {\r\n        if (this.imageColor) {\r\n            var rgb = this.imageColor;\r\n            var darkPoint = 20;\r\n            return rgb[0] <= darkPoint && rgb[1] <= darkPoint && rgb[2] <= darkPoint;\r\n        }\r\n        return false;\r\n    };\r\n    FileRecord.prototype.color = function () {\r\n        if (this.imageColor) {\r\n            var rgb = this.imageColor;\r\n            return 'rgb(' + rgb[0] + ', ' + rgb[1] + ', ' + rgb[2] + ')';\r\n        }\r\n        if (this.isImage()) {\r\n            return 'transparent';\r\n        }\r\n        var ext = this.ext();\r\n        var svgIcon = this.icon();\r\n        // var svgIcon = getIconFromExt(ext);\r\n        if (svgIcon.color) {\r\n            return svgIcon.color;\r\n        }\r\n        return utils.getColorForText(ext);\r\n    };\r\n    FileRecord.prototype.isImage = function () {\r\n        return this.file && this.file.type.indexOf('image') !== -1;\r\n    };\r\n    FileRecord.prototype.isVideo = function () {\r\n        return this.file && this.file.type.indexOf('video') !== -1;\r\n    };\r\n    FileRecord.prototype.isPlayableVideo = function () {\r\n        return this.icon().category === 'video-playable';\r\n    };\r\n    FileRecord.prototype.isAudio = function () {\r\n        return this.file && this.file.type.indexOf('audio') !== -1;\r\n    };\r\n    FileRecord.prototype.isPlayableAudio = function () {\r\n        return this.icon().category === 'audio-playable';\r\n    };\r\n    FileRecord.prototype.isText = function () {\r\n        return this.file && this.file.type.indexOf('text') !== -1;\r\n    };\r\n    FileRecord.prototype.setUrl = function (url) {\r\n        var _this = this;\r\n        this.urlValue = url;\r\n        return new Promise(function (resolve, reject) {\r\n            if (_this.isImage()) {\r\n                _this.resizeImage().then(function () {\r\n                    resolve(_this);\r\n                }, function (err) {\r\n                    resolve(_this);\r\n                });\r\n                return;\r\n            }\r\n            resolve(_this);\r\n        });\r\n    };\r\n    FileRecord.prototype.imageResized = function (resized) {\r\n        if (!resized) {\r\n            return;\r\n        }\r\n        this.urlResized = resized.url;\r\n        this.image = resized.image;\r\n        if (resized.image && resized.image.width && resized.image.height) {\r\n            this.dimensions.width = resized.image.width;\r\n            this.dimensions.height = resized.image.height;\r\n        }\r\n        this.lastKnownSrc = this.urlResized;\r\n        this.imageColor = resized.color;\r\n    };\r\n    FileRecord.prototype.resizeImage = function () {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            utils\r\n                .resizeImage(_this.thumbnailSize, _this.file, _this.urlValue, _this.calculateAverageColor)\r\n                .then(function (resized) {\r\n                _this.imageResized(resized);\r\n                resolve(_this);\r\n            })\r\n                .catch(reject);\r\n        });\r\n    };\r\n    FileRecord.prototype.icon = function () {\r\n        var ext = this.ext();\r\n        var svgIcon = getIconFromExt(ext);\r\n        return svgIcon;\r\n    };\r\n    FileRecord.prototype.getErrorMessage = function (errorText) {\r\n        var error = this.error;\r\n        if (!error) {\r\n            return '';\r\n        }\r\n        errorText = errorText || {};\r\n        errorText = {\r\n            common: errorText.common || 'Invalid file.',\r\n            type: errorText.type || 'Invalid file type.',\r\n            size: errorText.size || 'Files should not exceed ' + this.maxSize + ' in size',\r\n        };\r\n        if (error.type) {\r\n            return errorText.type;\r\n        }\r\n        else if (error.size) {\r\n            return errorText.size;\r\n        }\r\n        else if (error.upload) {\r\n            return this.upload.error ? this.upload.error : error.upload;\r\n        }\r\n        return errorText.common;\r\n    };\r\n    FileRecord.prototype.toRaw = function () {\r\n        var _this = this;\r\n        var raw = this.raw || {};\r\n        // raw.url = this.urlValue;\r\n        raw.url = this.url.bind(this);\r\n        raw.urlResized = this.urlResized;\r\n        raw.src = this.src.bind(this);\r\n        raw.name = this.name.bind(this);\r\n        raw.lastModified = this.file.lastModified;\r\n        raw.sizeText = this.size();\r\n        raw.size = this.file.size;\r\n        raw.type = this.file.type;\r\n        raw.ext = this.ext();\r\n        raw.color = this.color();\r\n        raw.file = this.file;\r\n        raw.progress = this.progress.bind(this); // pass it as a function\r\n        raw.upload = this.upload;\r\n        if (!('error' in raw)) {\r\n            Object.defineProperty(raw, 'error', {\r\n                get: function () {\r\n                    return _this.error;\r\n                },\r\n            });\r\n        }\r\n        raw.dimensions = this.dimensions;\r\n        return raw;\r\n    };\r\n    FileRecord.prototype.validate = function () {\r\n        var validType = utils.validateType(this.file, this.accept);\r\n        var validSize = utils.validateSize(this.file, this.maxSize);\r\n        if (!validType || !validSize) {\r\n            this.error = {\r\n                type: !validType,\r\n                size: !validSize,\r\n            };\r\n        }\r\n        else {\r\n            this.error = false;\r\n        }\r\n    };\r\n    return FileRecord;\r\n}());\r\n/* harmony default export */ var file_record = (file_record_FileRecord);\r\n\n// CONCATENATED MODULE: ./src/components/vue-file-preview-mixin.ts\n\r\n\r\n\r\n\r\n/* harmony default export */ var vue_file_preview_mixin = (external_commonjs_vue_commonjs2_vue_root_Vue_default.a.extend({\r\n    props: ['value', 'deletable', 'editable', 'linkable', 'errorText', 'disabled', 'thumbnailSize', 'averageColor'],\r\n    components: {\r\n        VueFileIcon: vue_file_icon,\r\n    },\r\n    data: function () {\r\n        return {\r\n            isEditInputFocused: false,\r\n            isEditCancelable: true,\r\n            fileRecord: {},\r\n        };\r\n    },\r\n    computed: {\r\n        hasLinkableUrl: function () {\r\n            if (!this.linkable) {\r\n                return false;\r\n            }\r\n            return !!this.fileRecord.url() && !this.fileRecord.isPlayableVideo() && !this.fileRecord.isPlayableAudio();\r\n        },\r\n    },\r\n    methods: {\r\n        updateFileRecord: function () {\r\n            var _this = this;\r\n            if (this.value instanceof file_record) {\r\n                this.fileRecord = this.value;\r\n                return;\r\n            }\r\n            file_record.fromRaw(this.value, {\r\n                thumbnailSize: this.thumbnailSize,\r\n                averageColor: this.averageColor,\r\n            }).then(function (fileRecord) {\r\n                _this.fileRecord = fileRecord;\r\n            });\r\n            this.fileRecord = file_record.fromRawSync(this.value, {\r\n                thumbnailSize: this.thumbnailSize,\r\n                averageColor: this.averageColor,\r\n            });\r\n        },\r\n        createThumbnail: function (fileRecord, video) {\r\n            if (fileRecord.videoThumbnail) {\r\n                video.poster = fileRecord.src();\r\n                return;\r\n            }\r\n            var canvas = document.createElement('canvas');\r\n            utils\r\n                .createVideoThumbnail(video, canvas, this.fileRecord.thumbnailSize, this.averageColor !== false)\r\n                .then(function (thumbnail) {\r\n                fileRecord.imageColor = thumbnail.color;\r\n                fileRecord.videoThumbnail = thumbnail.url;\r\n                fileRecord.dimensions.width = thumbnail.width;\r\n                fileRecord.dimensions.height = thumbnail.height;\r\n                video.poster = fileRecord.src();\r\n            });\r\n        },\r\n        playAv: function (fileRecord) {\r\n            if (fileRecord.stopAv) {\r\n                fileRecord.stopAv();\r\n                return;\r\n            }\r\n            var createObjectURL = (window.URL || window.webkitURL || {}).createObjectURL;\r\n            var revokeObjectURL = (window.URL || window.webkitURL || {}).revokeObjectURL;\r\n            var wrapper = this.$refs.wrapper;\r\n            var player = document.createElement(fileRecord.isAudio() ? 'audio' : 'video');\r\n            if (player instanceof HTMLVideoElement && fileRecord.isPlayableVideo()) {\r\n                this.createThumbnail(fileRecord, player);\r\n            }\r\n            player.controls = true;\r\n            // player.style.width = this.prvWidth + 'px';\r\n            wrapper.appendChild(player);\r\n            var url = fileRecord.url() || createObjectURL(fileRecord.file);\r\n            player.src = url;\r\n            player.play();\r\n            fileRecord.isPlayingAv = true;\r\n            fileRecord.stopAv = function () {\r\n                // player.src = null;\r\n                player.src = '';\r\n                wrapper.removeChild(player);\r\n                revokeObjectURL(url);\r\n                fileRecord.isPlayingAv = false;\r\n                fileRecord.stopAv = null;\r\n            };\r\n        },\r\n        removeFileRecord: function (fileRecord) {\r\n            if (this.clearFilename()) {\r\n                return;\r\n            }\r\n            if (this.disabled === true) {\r\n                return;\r\n            }\r\n            this.$emit('remove', fileRecord);\r\n        },\r\n        editFileName: function () {\r\n            if (this.editable !== true) {\r\n                return;\r\n            }\r\n            if (!this.$refs.input) {\r\n                return;\r\n            }\r\n            this.$refs.input.focus();\r\n        },\r\n        editInputFocused: function () {\r\n            this.isEditInputFocused = true;\r\n            this.isEditCancelable = true;\r\n        },\r\n        editInputBlured: function () {\r\n            var _this = this;\r\n            this.fileRecord.oldFileName = this.fileRecord.name();\r\n            var oldValue = this.fileRecord.name(true);\r\n            var value = this.$refs.input.value;\r\n            this.fileRecord.customName = value;\r\n            var newValue = this.fileRecord.name(true);\r\n            if (newValue !== oldValue) {\r\n                this.fileRecord.oldCustomName = oldValue;\r\n                this.$emit('rename', this.fileRecord);\r\n            }\r\n            var timeout = 100;\r\n            setTimeout(function () {\r\n                _this.$nextTick(function () {\r\n                    if (!_this.isEditCancelable) {\r\n                        return;\r\n                    }\r\n                    _this.isEditInputFocused = false;\r\n                });\r\n            }, timeout);\r\n        },\r\n        filenameChanged: function (completed) {\r\n            if (completed) {\r\n                this.$refs.input.blur(); // @see editInputBlured method\r\n            }\r\n            if (completed === false) {\r\n                this.clearFilename();\r\n            }\r\n        },\r\n        filenameClearPressed: function () {\r\n            if (!(this.editable === true && this.isEditInputFocused)) {\r\n                return;\r\n            }\r\n            this.isEditCancelable = false;\r\n        },\r\n        clearFilename: function () {\r\n            if (!(this.editable === true && this.isEditInputFocused)) {\r\n                return false;\r\n            }\r\n            this.$refs.input.value = '';\r\n            this.isEditCancelable = true;\r\n            this.editInputBlured();\r\n            return true;\r\n        },\r\n        dismissError: function () {\r\n            if (this.fileRecord.error && (this.fileRecord.error.size || this.fileRecord.error.type)) {\r\n                return;\r\n            }\r\n            this.fileRecord.error = false;\r\n        },\r\n    },\r\n    created: function () {\r\n        this.updateFileRecord();\r\n    },\r\n    watch: {\r\n        value: function () {\r\n            this.updateFileRecord();\r\n        },\r\n    },\r\n}));\r\n\n// CONCATENATED MODULE: ./node_modules/ts-loader??ref--12-0!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/vue-file-preview.vue?vue&type=script&lang=ts&\n\r\n\r\n/* harmony default export */ var vue_file_previewvue_type_script_lang_ts_ = (external_commonjs_vue_commonjs2_vue_root_Vue_default.a.extend({\r\n    mixins: [vue_file_preview_mixin],\r\n}));\r\n\n// CONCATENATED MODULE: ./src/components/vue-file-preview.vue?vue&type=script&lang=ts&\n /* harmony default export */ var components_vue_file_previewvue_type_script_lang_ts_ = (vue_file_previewvue_type_script_lang_ts_); \n// CONCATENATED MODULE: ./src/components/vue-file-preview.vue\n\n\n\n\n\n/* normalize component */\n\nvar vue_file_preview_component = normalizeComponent(\n  components_vue_file_previewvue_type_script_lang_ts_,\n  vue_file_previewvue_type_template_id_89d27d16_render,\n  vue_file_previewvue_type_template_id_89d27d16_staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var vue_file_preview = (vue_file_preview_component.exports);\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{\"cacheDirectory\":\"node_modules/.cache/vue-loader\",\"cacheIdentifier\":\"72196104-vue-loader-template\"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/vue-file-list.vue?vue&type=template&id=5ef04e06&\nvar vue_file_listvue_type_template_id_5ef04e06_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_vm._t(\"default\")],2)}\nvar vue_file_listvue_type_template_id_5ef04e06_staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./src/components/vue-file-list.vue?vue&type=template&id=5ef04e06&\n\n// CONCATENATED MODULE: ./node_modules/ts-loader??ref--12-0!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/vue-file-list.vue?vue&type=script&lang=ts&\n\r\n/* harmony default export */ var vue_file_listvue_type_script_lang_ts_ = (external_commonjs_vue_commonjs2_vue_root_Vue_default.a.extend({\r\n    props: ['value', 'axis', 'appendTo'],\r\n}));\r\n\n// CONCATENATED MODULE: ./src/components/vue-file-list.vue?vue&type=script&lang=ts&\n /* harmony default export */ var components_vue_file_listvue_type_script_lang_ts_ = (vue_file_listvue_type_script_lang_ts_); \n// CONCATENATED MODULE: ./src/components/vue-file-list.vue\n\n\n\n\n\n/* normalize component */\n\nvar vue_file_list_component = normalizeComponent(\n  components_vue_file_listvue_type_script_lang_ts_,\n  vue_file_listvue_type_template_id_5ef04e06_render,\n  vue_file_listvue_type_template_id_5ef04e06_staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var vue_file_list = (vue_file_list_component.exports);\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{\"cacheDirectory\":\"node_modules/.cache/vue-loader\",\"cacheIdentifier\":\"72196104-vue-loader-template\"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/vue-file-list-item.vue?vue&type=template&id=00f7ef53&\nvar vue_file_list_itemvue_type_template_id_00f7ef53_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_vm._t(\"default\")],2)}\nvar vue_file_list_itemvue_type_template_id_00f7ef53_staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./src/components/vue-file-list-item.vue?vue&type=template&id=00f7ef53&\n\n// CONCATENATED MODULE: ./node_modules/ts-loader??ref--12-0!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/vue-file-list-item.vue?vue&type=script&lang=ts&\n\r\n/* harmony default export */ var vue_file_list_itemvue_type_script_lang_ts_ = (external_commonjs_vue_commonjs2_vue_root_Vue_default.a.extend({\r\n    props: ['index'],\r\n}));\r\n\n// CONCATENATED MODULE: ./src/components/vue-file-list-item.vue?vue&type=script&lang=ts&\n /* harmony default export */ var components_vue_file_list_itemvue_type_script_lang_ts_ = (vue_file_list_itemvue_type_script_lang_ts_); \n// CONCATENATED MODULE: ./src/components/vue-file-list-item.vue\n\n\n\n\n\n/* normalize component */\n\nvar vue_file_list_item_component = normalizeComponent(\n  components_vue_file_list_itemvue_type_script_lang_ts_,\n  vue_file_list_itemvue_type_template_id_00f7ef53_render,\n  vue_file_list_itemvue_type_template_id_00f7ef53_staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var vue_file_list_item = (vue_file_list_item_component.exports);\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{\"cacheDirectory\":\"node_modules/.cache/vue-loader\",\"cacheIdentifier\":\"72196104-vue-loader-template\"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/vue-file-agent.vue?vue&type=template&id=4fc1199c&\nvar vue_file_agentvue_type_template_id_4fc1199c_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:[\n    'is-sortable-' + (_vm.isSortable ? 'enabled' : 'disabled'),\n    {\n      'is-sortable-hold': _vm.sortable === 'hold',\n      'is-sortable-handle': _vm.sortable === 'handle',\n      'is-sortable-immediately': _vm.sortable === true,\n      'is-sorting': _vm.isSorting,\n      'is-sorting-active': _vm.isSortingActive,\n      'is-drag-over': _vm.isDragging,\n      'is-disabled': _vm.disabled === true,\n      'is-readonly': _vm.readonly === true,\n      'is-drag-valid': !(_vm.disabled === true || _vm.readonly === true || (_vm.hasMultiple && !_vm.canAddMore)),\n    },\n    'theme-' + _vm.theme ],attrs:{\"id\":'vfa-' + _vm.uniqueId},on:{\"dragover\":_vm.dragOver,\"dragenter\":_vm.dragEnter,\"dragleave\":_vm.dragLeave,\"drop\":_vm.drop}},[_vm._t(\"before-outer\"),_c('div',{staticClass:\"grid-block-wrapper vue-file-agent file-input-wrapper\",class:{\n      'is-compact': !!_vm.compact,\n      'is-single': !_vm.hasMultiple,\n      'has-multiple': _vm.hasMultiple,\n      'no-meta': _vm.meta === false,\n    }},[_vm._t(\"before-inner\"),_c('canvas',{ref:\"thumbnailCanvas\",staticStyle:{\"position\":\"fixed\",\"visibility\":\"hidden\",\"z-index\":\"-3\"}}),(_vm.overallProgress)?_c('div',{staticClass:\"overall-progress\",class:{ 'overall-progress-full': _vm.overallProgress >= 100 }},[_c('div',{staticClass:\"overall-progress-bar\",style:({ width: _vm.overallProgress + '%' })}),_c('div',{staticClass:\"overall-progress-left\",style:({ width: 100 - _vm.overallProgress + '%' })})]):_vm._e(),_c(_vm.isSortable ? 'vfa-sortable-list' : 'VueFileList',{tag:\"component\",attrs:{\"axis\":_vm.theme == 'list' ? 'y' : 'xy',\"appendTo\":'#vfa-' + _vm.uniqueId + ' .vue-file-agent',\"transitionDuration\":_vm.transitionDuration,\"pressDelay\":_vm.sortable === 'hold' ? 200 : 0,\"useDragHandle\":_vm.sortable === 'handle',\"helperClass\":'active-sorting-item'},on:{\"sort-start\":function($event){return _vm.sortStart()},\"sort-end\":function($event){return _vm.sortEnd($event)}},model:{value:(_vm.fileRecords),callback:function ($$v) {_vm.fileRecords=$$v},expression:\"fileRecords\"}},[_c('transition-group',{attrs:{\"name\":\"grid-box\",\"tag\":\"div\"}},[_vm._l((_vm.fileRecords),function(fileRecord,index){return _c(_vm.isSortable ? 'vfa-sortable-item' : 'VueFileListItem',{key:fileRecord.id,tag:\"component\",staticClass:\"file-preview-wrapper grid-box-item grid-block\",attrs:{\"index\":index}},[(_vm.sortable === 'handle')?_c('span',{directives:[{name:\"vfa-sortable-handle\",rawName:\"v-vfa-sortable-handle\"}],staticClass:\"file-sortable-handle\"},[_vm._t(\"sortable-handle\",[_c('VueFileIcon',{attrs:{\"name\":\"system-sortable-handle\"}})])],2):_vm._e(),_vm._t(\"file-preview\",[_c('VueFilePreview',{attrs:{\"averageColor\":_vm.averageColor,\"value\":fileRecord,\"deletable\":_vm.isDeletable,\"editable\":_vm.editable === true,\"linkable\":_vm.linkable === true,\"errorText\":_vm.errorText,\"disabled\":_vm.disabled,\"thumbnailSize\":_vm.thumbnailSize},on:{\"remove\":function($event){return _vm.removeFileRecord($event)},\"rename\":function($event){return _vm.filenameChanged($event)}}})],{\"fileRecord\":fileRecord,\"fileData\":fileRecord,\"index\":index})],2)}),(_vm.canAddMore && _vm.readonly !== true)?[_vm._t(\"file-preview-new\",[_c('div',{key:\"new\",staticClass:\"file-preview-wrapper grid-box-item grid-block file-preview-new\"},[_c('span',{staticClass:\"file-preview\"},[_c('span',{staticStyle:{\"position\":\"absolute\",\"top\":\"0\",\"right\":\"0\",\"bottom\":\"0\",\"left\":\"0\"}},[_c('VueFileIcon',{attrs:{\"name\":\"system-file-preview-new\"}}),_c('span',{staticClass:\"help-text\"},[_vm._v(_vm._s(_vm.helpTextComputed))])],1)])])])]:_vm._e()],2)],1),(_vm.readonly !== true)?_c('input',{ref:\"fileInput\",staticClass:\"file-input\",attrs:{\"title\":\"\",\"disabled\":_vm.disabled === true || (_vm.hasMultiple && !_vm.canAddMore),\"type\":\"file\",\"multiple\":_vm.hasMultiple,\"accept\":_vm.accept || '*',\"capture\":_vm.capture || undefined},on:{\"change\":_vm.filesChanged}}):_vm._e(),_vm._t(\"after-inner\")],2),_vm._t(\"after-outer\")],2)}\nvar vue_file_agentvue_type_template_id_4fc1199c_staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./src/components/vue-file-agent.vue?vue&type=template&id=4fc1199c&\n\n// CONCATENATED MODULE: ./src/lib/ajax-request.ts\n/* inspired by axios */\r\nvar AjaxRequest = /** @class */ (function () {\r\n    function AjaxRequest() {\r\n    }\r\n    AjaxRequest.prototype.createError = function (message, code, request, response) {\r\n        var error = new Error(message);\r\n        error.error = true;\r\n        if (code) {\r\n            error.code = code;\r\n        }\r\n        error.request = request;\r\n        error.response = response;\r\n        return error;\r\n    };\r\n    AjaxRequest.prototype.settle = function (resolve, reject, response) {\r\n        var validateStatus = function (status) {\r\n            return status >= 200 && status < 300;\r\n        };\r\n        // Note: status is not exposed by XDomainRequest\r\n        if (!response.status || !validateStatus || validateStatus(response.status)) {\r\n            resolve(response);\r\n        }\r\n        else {\r\n            reject(this.createError('Request failed with status code ' + response.status, null, response.request, response));\r\n        }\r\n    };\r\n    AjaxRequest.prototype.request = function (method, url, formData, configureFn) {\r\n        var _this = this;\r\n        if (formData === void 0) { formData = null; }\r\n        return new Promise(function (resolve, reject) {\r\n            // tslint:disable-next-line\r\n            var request = new XMLHttpRequest();\r\n            var loadEvent = 'onreadystatechange';\r\n            request.open(method, url, true);\r\n            // Listen for ready state\r\n            request[loadEvent] = function () {\r\n                if (!request || request.readyState !== 4) {\r\n                    return;\r\n                }\r\n                // The request errored out and we didn't get a response, this will be\r\n                // handled by onerror instead\r\n                // With one exception: request that using file: protocol, most browsers\r\n                // will return status as 0 even though it's a successful request\r\n                if (request.status === 0 && !(request.responseURL && request.responseURL.indexOf('file:') === 0)) {\r\n                    return;\r\n                }\r\n                // Prepare the response\r\n                var responseHeaders = request.getAllResponseHeaders();\r\n                var responseData = request.responseText;\r\n                var contentType = request.getResponseHeader('Content-Type');\r\n                if (contentType && contentType.indexOf('application/json') !== -1) {\r\n                    responseData = JSON.parse(responseData);\r\n                }\r\n                else {\r\n                    try {\r\n                        responseData = JSON.parse(responseData);\r\n                    }\r\n                    catch (e) {\r\n                        /* ignore, possibly non json response */\r\n                    }\r\n                }\r\n                var response = {\r\n                    data: responseData,\r\n                    // IE sends 1223 instead of 204 (https://github.com/axios/axios/issues/201)\r\n                    status: request.status === 1223 ? 204 : request.status,\r\n                    statusText: request.status === 1223 ? 'No Content' : request.statusText,\r\n                    headers: responseHeaders,\r\n                    request: request,\r\n                };\r\n                _this.settle(resolve, reject, response);\r\n                // Clean up request\r\n                request = null;\r\n            };\r\n            // Handle browser request cancellation (as opposed to a manual cancellation)\r\n            request.onabort = function () {\r\n                if (!request) {\r\n                    return;\r\n                }\r\n                reject(_this.createError('Request aborted', 'ECONNABORTED', request));\r\n                // Clean up request\r\n                request = null;\r\n            };\r\n            // Handle low level network errors\r\n            request.onerror = function () {\r\n                // Real errors are hidden from us by the browser\r\n                // onerror should only fire if it's a network error\r\n                reject(_this.createError('Network Error', null, request));\r\n                // Clean up request\r\n                request = null;\r\n            };\r\n            // Handle timeout\r\n            request.ontimeout = function () {\r\n                reject(_this.createError('timeout exceeded', 'ECONNABORTED', request));\r\n                // Clean up request\r\n                request = null;\r\n            };\r\n            // // Handle progress if needed\r\n            // if (typeof config.onDownloadProgress === 'function') {\r\n            //   request.addEventListener('progress', config.onDownloadProgress);\r\n            // }\r\n            // Not all browsers support upload events\r\n            // if (typeof progressCallback === 'function' && request.upload) {\r\n            //   request.upload.addEventListener('progress', progressCallback);\r\n            // }\r\n            if (typeof configureFn === 'function') {\r\n                configureFn(request);\r\n            }\r\n            request.send(formData);\r\n        });\r\n    };\r\n    AjaxRequest.prototype.post = function (url, formData, configureFn) {\r\n        return this.request('POST', url, formData, configureFn);\r\n    };\r\n    AjaxRequest.prototype.delete = function (url, formData, configureFn) {\r\n        return this.request('DELETE', url, formData, configureFn);\r\n    };\r\n    AjaxRequest.prototype.put = function (url, formData, configureFn) {\r\n        return this.request('PUT', url, formData, configureFn);\r\n    };\r\n    return AjaxRequest;\r\n}());\r\n/* harmony default export */ var ajax_request = (new AjaxRequest());\r\n\n// CONCATENATED MODULE: ./src/lib/upload-helper.ts\n\r\n\r\nvar upload_helper_UploadHelper = /** @class */ (function () {\r\n    function UploadHelper() {\r\n    }\r\n    // useAxios(axios){\r\n    //   this.axios = axios;\r\n    // }\r\n    UploadHelper.prototype.addHeaders = function (xhr, headers) {\r\n        xhr.setRequestHeader('Accept', 'application/json');\r\n        if (headers) {\r\n            for (var key in headers) {\r\n                if (headers.hasOwnProperty(key)) {\r\n                    xhr.setRequestHeader(key, headers[key]);\r\n                }\r\n            }\r\n        }\r\n        return xhr;\r\n    };\r\n    UploadHelper.prototype.doUpload = function (url, headers, formData, progressCallback, configureFn) {\r\n        var _this = this;\r\n        return ajax_request.post(url, formData, function (xhr) {\r\n            _this.addHeaders(xhr, headers);\r\n            xhr.upload.addEventListener('progress', progressCallback, false);\r\n            if (typeof configureFn === 'function') {\r\n                configureFn(xhr);\r\n            }\r\n        });\r\n    };\r\n    UploadHelper.prototype.doDeleteUpload = function (url, headers, uploadData, configureFn) {\r\n        var _this = this;\r\n        if (typeof uploadData !== 'string') {\r\n            uploadData = JSON.stringify(uploadData);\r\n        }\r\n        return ajax_request.delete(url, uploadData, function (xhr) {\r\n            xhr.setRequestHeader('Content-Type', 'application/json');\r\n            _this.addHeaders(xhr, headers);\r\n            if (typeof configureFn === 'function') {\r\n                configureFn(xhr);\r\n            }\r\n        });\r\n    };\r\n    UploadHelper.prototype.doUpdateUpload = function (url, headers, uploadData, configureFn) {\r\n        var _this = this;\r\n        if (typeof uploadData !== 'string') {\r\n            uploadData = JSON.stringify(uploadData);\r\n        }\r\n        return ajax_request.put(url, uploadData, function (xhr) {\r\n            xhr.setRequestHeader('Content-Type', 'application/json');\r\n            _this.addHeaders(xhr, headers);\r\n            if (typeof configureFn === 'function') {\r\n                configureFn(xhr);\r\n            }\r\n        });\r\n    };\r\n    // doUploadAxios(axios, formData, progressCallback){\r\n    //   return axios.post('/upload', formData, {\r\n    //     onUploadProgress: progressCallback,\r\n    //   });\r\n    // }\r\n    // doDeleteUploadAxios(axios, data, configureFn){\r\n    //   return axios.delete('/upload', data, {\r\n    //   });\r\n    // }\r\n    UploadHelper.prototype.prepareUploadError = function (fileRecord, err, timeout) {\r\n        var errorText = err.message;\r\n        if (err.response && err.response.data) {\r\n            try {\r\n                var errorMsg = err.response.data.error || JSON.parse(err.response.data).error;\r\n                errorText = errorMsg;\r\n            }\r\n            catch (e) {\r\n                // ignore\r\n            }\r\n        }\r\n        if (!fileRecord.error) {\r\n            fileRecord.error = {};\r\n        }\r\n        fileRecord.error.upload = errorText;\r\n        fileRecord.upload.data = undefined;\r\n        fileRecord.upload.error = errorText;\r\n        if (timeout) {\r\n            setTimeout(function () {\r\n                if (!fileRecord.error) {\r\n                    fileRecord.error = {};\r\n                }\r\n                fileRecord.error.upload = false;\r\n                if (!fileRecord.error.size && !fileRecord.error.type) {\r\n                    fileRecord.error = false;\r\n                }\r\n            }, timeout);\r\n        }\r\n    };\r\n    UploadHelper.prototype.upload = function (url, headers, fileRecords, createFormData, progressFn, configureFn) {\r\n        var e_1, _a;\r\n        var _this = this;\r\n        var updateOverallProgress = function () {\r\n            /* no op */\r\n        };\r\n        if (progressFn) {\r\n            updateOverallProgress = function () {\r\n                var e_2, _a;\r\n                var prgTotal = 0;\r\n                try {\r\n                    for (var fileRecords_2 = __values(fileRecords), fileRecords_2_1 = fileRecords_2.next(); !fileRecords_2_1.done; fileRecords_2_1 = fileRecords_2.next()) {\r\n                        var fileRecord = fileRecords_2_1.value;\r\n                        prgTotal += fileRecord.progress();\r\n                    }\r\n                }\r\n                catch (e_2_1) { e_2 = { error: e_2_1 }; }\r\n                finally {\r\n                    try {\r\n                        if (fileRecords_2_1 && !fileRecords_2_1.done && (_a = fileRecords_2.return)) _a.call(fileRecords_2);\r\n                    }\r\n                    finally { if (e_2) throw e_2.error; }\r\n                }\r\n                progressFn(prgTotal / fileRecords.length);\r\n            };\r\n        }\r\n        var promises = [];\r\n        var failedUploadsCount = 0;\r\n        var _loop_1 = function (fileRecord) {\r\n            var formData = void 0;\r\n            if (typeof createFormData === 'function') {\r\n                formData = createFormData(fileRecord);\r\n            }\r\n            else {\r\n                formData = new FormData();\r\n                formData.append('file', fileRecord.file);\r\n                formData.append('filename', fileRecord.name());\r\n            }\r\n            // ((fileRecord) => {\r\n            var promise = this_1.doUpload(url, headers, formData, function (progressEvent) {\r\n                var percentCompleted = (progressEvent.loaded * 100) / progressEvent.total;\r\n                // do not complete until promise resolved\r\n                fileRecord.progress(percentCompleted >= 100 ? 99.9999 : percentCompleted);\r\n                updateOverallProgress();\r\n            }, function (xhr) {\r\n                fileRecord.xhr = xhr;\r\n                if (typeof configureFn === 'function') {\r\n                    configureFn(xhr);\r\n                }\r\n            });\r\n            promises.push(new Promise(function (resolve, reject) {\r\n                promise.then(function (response) {\r\n                    delete fileRecord.xhr;\r\n                    fileRecord.upload.data = response.data;\r\n                    fileRecord.upload.error = false;\r\n                    fileRecord.progress(100);\r\n                    if (fileRecord.xhrQueue) {\r\n                        fileRecord.xhrQueue();\r\n                        delete fileRecord.xhrQueue;\r\n                    }\r\n                    resolve(response);\r\n                } /* */, function (err) {\r\n                    _this.prepareUploadError(fileRecord, err);\r\n                    resolve(err);\r\n                    failedUploadsCount++;\r\n                } /* */);\r\n            }));\r\n        };\r\n        var this_1 = this;\r\n        try {\r\n            for (var fileRecords_1 = __values(fileRecords), fileRecords_1_1 = fileRecords_1.next(); !fileRecords_1_1.done; fileRecords_1_1 = fileRecords_1.next()) {\r\n                var fileRecord = fileRecords_1_1.value;\r\n                _loop_1(fileRecord);\r\n            }\r\n        }\r\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\r\n        finally {\r\n            try {\r\n                if (fileRecords_1_1 && !fileRecords_1_1.done && (_a = fileRecords_1.return)) _a.call(fileRecords_1);\r\n            }\r\n            finally { if (e_1) throw e_1.error; }\r\n        }\r\n        // return Promise.all(promises);\r\n        return new Promise(function (resolve, reject) {\r\n            Promise.all(promises).then(function (responses) {\r\n                if (failedUploadsCount === promises.length) {\r\n                    // all uploads failed\r\n                    reject(responses);\r\n                    return;\r\n                }\r\n                resolve(responses);\r\n            }, reject);\r\n        });\r\n    };\r\n    UploadHelper.prototype.deleteUpload = function (url, headers, fileRecord, uploadData, configureFn) {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            if (fileRecord.xhr) {\r\n                fileRecord.xhr.abort();\r\n            }\r\n            if (uploadData === undefined) {\r\n                uploadData = fileRecord.upload.data;\r\n            }\r\n            if (uploadData) {\r\n                _this.doDeleteUpload(url, headers, uploadData, function (xhr) {\r\n                    if (typeof configureFn === 'function') {\r\n                        configureFn(xhr);\r\n                    }\r\n                }).then(function (result) {\r\n                    resolve(result);\r\n                }, function (err) {\r\n                    _this.prepareUploadError(fileRecord, err);\r\n                    reject(err);\r\n                });\r\n            }\r\n        });\r\n    };\r\n    UploadHelper.prototype.updateUpload = function (url, headers, fileRecord, uploadData, configureFn) {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            if (fileRecord.xhr) {\r\n                // probably updated while being uploaded.\r\n                fileRecord.xhrQueue = function () {\r\n                    _this.updateUpload(url, headers, fileRecord, uploadData);\r\n                };\r\n                return resolve();\r\n            }\r\n            if (uploadData === undefined) {\r\n                uploadData = fileRecord.upload.data || {};\r\n                uploadData.old_filename = fileRecord.oldFileName;\r\n                uploadData.filename = fileRecord.name();\r\n            }\r\n            if (uploadData) {\r\n                _this.doUpdateUpload(url, headers, uploadData, function (xhr) {\r\n                    if (typeof configureFn === 'function') {\r\n                        configureFn(xhr);\r\n                    }\r\n                }).then(function (response) {\r\n                    fileRecord.upload.data = response.data;\r\n                    fileRecord.upload.error = false;\r\n                    resolve(response);\r\n                }, function (err) {\r\n                    _this.prepareUploadError(fileRecord, err);\r\n                    reject(err);\r\n                });\r\n            }\r\n        });\r\n    };\r\n    UploadHelper.prototype.doTusUpload = function (tus, url, fileRecord, headers, progressCallback, tusOptionsFn) {\r\n        var tusOptions = tusOptionsFn ? tusOptionsFn(fileRecord) : {};\r\n        return new Promise(function (resolve, reject) {\r\n            if (!tus) {\r\n                return reject(new Error('tus required. Please install tus-js-client'));\r\n            }\r\n            // https://github.com/tus/tus-js-client\r\n            // Create a new tus upload\r\n            var file = fileRecord.file;\r\n            var upload = new tus.Upload(file, {\r\n                endpoint: url,\r\n                headers: headers,\r\n                retryDelays: tusOptions.retryDelays ? tusOptions.retryDelays : [0, 3000, 5000, 10000, 20000],\r\n                metadata: tusOptions.metadata\r\n                    ? tusOptions.metadata\r\n                    : {\r\n                        filename: file.name,\r\n                        filetype: file.type,\r\n                    },\r\n                onError: function (error) {\r\n                    reject(error);\r\n                    // console.log(\"Failed because: \" + error)\r\n                },\r\n                onProgress: function (bytesUploaded, bytesTotal) {\r\n                    var event = { loaded: bytesUploaded, total: bytesTotal };\r\n                    progressCallback(event);\r\n                },\r\n                onSuccess: function () {\r\n                    resolve(upload);\r\n                },\r\n            });\r\n            fileRecord.tusUpload = upload;\r\n            // Start the upload\r\n            upload.start();\r\n        });\r\n    };\r\n    UploadHelper.prototype.tusUpload = function (tus, url, headers, fileRecords, progressFn, tusOptionsFn) {\r\n        var e_3, _a;\r\n        var _this = this;\r\n        var updateOverallProgress = function () {\r\n            /* no op */\r\n        };\r\n        if (progressFn) {\r\n            updateOverallProgress = function () {\r\n                var e_4, _a;\r\n                var prgTotal = 0;\r\n                try {\r\n                    for (var fileRecords_4 = __values(fileRecords), fileRecords_4_1 = fileRecords_4.next(); !fileRecords_4_1.done; fileRecords_4_1 = fileRecords_4.next()) {\r\n                        var fileRecord = fileRecords_4_1.value;\r\n                        prgTotal += fileRecord.progress();\r\n                    }\r\n                }\r\n                catch (e_4_1) { e_4 = { error: e_4_1 }; }\r\n                finally {\r\n                    try {\r\n                        if (fileRecords_4_1 && !fileRecords_4_1.done && (_a = fileRecords_4.return)) _a.call(fileRecords_4);\r\n                    }\r\n                    finally { if (e_4) throw e_4.error; }\r\n                }\r\n                progressFn(prgTotal / fileRecords.length);\r\n            };\r\n        }\r\n        var promises = [];\r\n        var _loop_2 = function (fileRecord) {\r\n            var promise = this_2.doTusUpload(tus, url, fileRecord, headers, function (progressEvent) {\r\n                var percentCompleted = (progressEvent.loaded * 100) / progressEvent.total;\r\n                // do not complete until promise resolved\r\n                fileRecord.progress(percentCompleted >= 100 ? 99.9999 : percentCompleted);\r\n                updateOverallProgress();\r\n            }, tusOptionsFn);\r\n            promise.then(function (response) {\r\n                // delete fileRecord.tusUpload;\r\n                fileRecord.progress(100);\r\n            }, function (err) {\r\n                _this.prepareUploadError(fileRecord, err);\r\n            });\r\n            promises.push(promise);\r\n        };\r\n        var this_2 = this;\r\n        try {\r\n            for (var fileRecords_3 = __values(fileRecords), fileRecords_3_1 = fileRecords_3.next(); !fileRecords_3_1.done; fileRecords_3_1 = fileRecords_3.next()) {\r\n                var fileRecord = fileRecords_3_1.value;\r\n                _loop_2(fileRecord);\r\n            }\r\n        }\r\n        catch (e_3_1) { e_3 = { error: e_3_1 }; }\r\n        finally {\r\n            try {\r\n                if (fileRecords_3_1 && !fileRecords_3_1.done && (_a = fileRecords_3.return)) _a.call(fileRecords_3);\r\n            }\r\n            finally { if (e_3) throw e_3.error; }\r\n        }\r\n        return Promise.all(promises);\r\n    };\r\n    UploadHelper.prototype.tusDeleteUpload = function (tus, url, headers, fileRecord) {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            if (!tus) {\r\n                return reject('tus required');\r\n            }\r\n            if (!fileRecord.tusUpload) {\r\n                return resolve();\r\n            }\r\n            // const shouldTerminate = true;\r\n            var abort = function (shouldTerminate) {\r\n                return new Promise(function (res, rej) {\r\n                    fileRecord.tusUpload.abort(shouldTerminate, function (err) {\r\n                        if (err) {\r\n                            _this.prepareUploadError(fileRecord, err);\r\n                            rej(err);\r\n                            return;\r\n                        }\r\n                        res();\r\n                    });\r\n                });\r\n            };\r\n            abort(false).then(function () {\r\n                setTimeout(function () {\r\n                    abort(true).then(resolve, reject);\r\n                }, 1000);\r\n            });\r\n        });\r\n    };\r\n    return UploadHelper;\r\n}());\r\n/* harmony default export */ var upload_helper = (new upload_helper_UploadHelper());\r\n\n// CONCATENATED MODULE: ./src/lib/plugins.ts\n/* harmony default export */ var plugins = ({\r\n    tus: null,\r\n});\r\n\n// CONCATENATED MODULE: ./src/components/vue-file-agent-mixin.ts\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n// tslint:disable-next-line\r\nvar dragCounter = 0;\r\n/* harmony default export */ var vue_file_agent_mixin = (external_commonjs_vue_commonjs2_vue_root_Vue_default.a.extend({\r\n    props: [\r\n        'accept',\r\n        'auto',\r\n        'averageColor',\r\n        'capture',\r\n        'compact',\r\n        'deletable',\r\n        'disabled',\r\n        'editable',\r\n        'errorText',\r\n        'helpText',\r\n        'linkable',\r\n        'maxFiles',\r\n        'maxSize',\r\n        'meta',\r\n        'multiple',\r\n        'progress',\r\n        'read',\r\n        'readonly',\r\n        'resumable',\r\n        'sortable',\r\n        'theme',\r\n        'thumbnailSize',\r\n        'uploadConfig',\r\n        'uploadHeaders',\r\n        'uploadUrl',\r\n        'uploadWithCredentials',\r\n        'value',\r\n    ],\r\n    components: {\r\n        VueFileIcon: vue_file_icon,\r\n        VueFilePreview: vue_file_preview,\r\n        VueFileList: vue_file_list,\r\n        VueFileListItem: vue_file_list_item,\r\n    },\r\n    directives: {\r\n        // https://github.com/Jexordexan/vue-slicksort/blob/master/src/HandleDirective.js\r\n        vfaSortableHandle: {\r\n            bind: function (el) {\r\n                el.sortableHandle = true;\r\n            },\r\n        },\r\n    },\r\n    data: function () {\r\n        return {\r\n            fileRecords: [],\r\n            rawFileRecords: [],\r\n            isDragging: false,\r\n            isSorting: false,\r\n            isSortingActive: false,\r\n            transitionDuration: 300,\r\n            overallProgress: 0,\r\n            uniqueId: '',\r\n            sortTimeout: 0,\r\n        };\r\n    },\r\n    computed: {\r\n        canAddMore: function () {\r\n            if (!this.hasMultiple) {\r\n                return this.fileRecords.length === 0;\r\n            }\r\n            if (!this.maxFiles) {\r\n                return true;\r\n            }\r\n            return this.fileRecords.length < this.maxFiles;\r\n        },\r\n        helpTextComputed: function () {\r\n            if (this.helpText) {\r\n                return this.helpText;\r\n            }\r\n            return 'Choose ' + (this.hasMultiple ? 'files' : 'file') + ' or drag & drop here';\r\n        },\r\n        isDeletable: function () {\r\n            if (typeof this.deletable === 'string') {\r\n                return this.deletable !== 'false';\r\n            }\r\n            return !!this.deletable;\r\n        },\r\n        isSortable: function () {\r\n            return !!this.sortable;\r\n        },\r\n        hasMultiple: function () {\r\n            if (typeof this.multiple === 'string') {\r\n                return this.multiple !== 'false';\r\n            }\r\n            if (this.multiple === undefined) {\r\n                return Array.isArray(this.value);\r\n            }\r\n            return !!this.multiple;\r\n        },\r\n        shouldRead: function () {\r\n            if (typeof this.read === 'string') {\r\n                return this.read === 'true';\r\n            }\r\n            return !!this.read;\r\n        },\r\n    },\r\n    methods: {\r\n        createThumbnail: function (fileRecord, video) {\r\n            var _this = this;\r\n            return new Promise(function (resolve, reject) {\r\n                var canvas = document.createElement('canvas');\r\n                utils\r\n                    .createVideoThumbnail(video, canvas, fileRecord.thumbnailSize, _this.averageColor !== false)\r\n                    .then(function (thumbnail) {\r\n                    fileRecord.imageColor = thumbnail.color;\r\n                    fileRecord.videoThumbnail = thumbnail.url;\r\n                    fileRecord.dimensions.width = thumbnail.width;\r\n                    fileRecord.dimensions.height = thumbnail.height;\r\n                    resolve();\r\n                }, reject);\r\n            });\r\n        },\r\n        initVideo: function (fileRecord) {\r\n            if (!fileRecord.isPlayableVideo()) {\r\n                return;\r\n            }\r\n            var createObjectURL = (window.URL || window.webkitURL || {}).createObjectURL;\r\n            var revokeObjectURL = (window.URL || window.webkitURL || {}).revokeObjectURL;\r\n            var video = document.createElement('video');\r\n            video.src = createObjectURL(fileRecord.file);\r\n            this.createThumbnail(fileRecord, video).then(function () {\r\n                revokeObjectURL(video.src);\r\n            });\r\n            video.load();\r\n        },\r\n        getFileRecordOrRawInstance: function (fileRecordOrRaw, raw) {\r\n            var i;\r\n            if (fileRecordOrRaw instanceof file_record) {\r\n                i = this.fileRecords.indexOf(fileRecordOrRaw);\r\n            }\r\n            else {\r\n                i = this.rawFileRecords.indexOf(fileRecordOrRaw);\r\n            }\r\n            if (i === -1) {\r\n                return fileRecordOrRaw;\r\n            }\r\n            return raw ? this.rawFileRecords[i] : this.fileRecords[i];\r\n        },\r\n        getFileRecordRawInstance: function (fileRecordOrRaw) {\r\n            return this.getFileRecordOrRawInstance(fileRecordOrRaw, true);\r\n        },\r\n        getFileRecordInstance: function (fileRecordOrRaw) {\r\n            return this.getFileRecordOrRawInstance(fileRecordOrRaw, false);\r\n        },\r\n        prepareConfigureFn: function (configureXhr) {\r\n            var uploadWithCredentials = this.uploadWithCredentials;\r\n            if (uploadWithCredentials !== true && uploadWithCredentials !== false) {\r\n                return configureXhr;\r\n            }\r\n            return function (request) {\r\n                request.withCredentials = uploadWithCredentials;\r\n                if (typeof configureXhr === 'function') {\r\n                    configureXhr(request);\r\n                }\r\n            };\r\n        },\r\n        upload: function (url, headers, fileRecordsOrRaw, createFormData, configureXhr) {\r\n            var e_1, _a;\r\n            var _this = this;\r\n            var validFileRecords = [];\r\n            var validFilesRawData = [];\r\n            try {\r\n                for (var fileRecordsOrRaw_1 = __values(fileRecordsOrRaw), fileRecordsOrRaw_1_1 = fileRecordsOrRaw_1.next(); !fileRecordsOrRaw_1_1.done; fileRecordsOrRaw_1_1 = fileRecordsOrRaw_1.next()) {\r\n                    var fileRecordOrRaw = fileRecordsOrRaw_1_1.value;\r\n                    var fileRecord = this.getFileRecordInstance(fileRecordOrRaw);\r\n                    if (!fileRecord.error) {\r\n                        validFileRecords.push(fileRecord);\r\n                        validFilesRawData.push(this.getFileRecordRawInstance(fileRecord));\r\n                    }\r\n                }\r\n            }\r\n            catch (e_1_1) { e_1 = { error: e_1_1 }; }\r\n            finally {\r\n                try {\r\n                    if (fileRecordsOrRaw_1_1 && !fileRecordsOrRaw_1_1.done && (_a = fileRecordsOrRaw_1.return)) _a.call(fileRecordsOrRaw_1);\r\n                }\r\n                finally { if (e_1) throw e_1.error; }\r\n            }\r\n            if (this.resumable) {\r\n                return upload_helper.tusUpload(plugins.tus, url, headers, validFileRecords, function (overallProgress) {\r\n                    _this.overallProgress = overallProgress;\r\n                }, this.resumable === true ? undefined : this.resumable);\r\n            }\r\n            return new Promise(function (resolve, reject) {\r\n                upload_helper\r\n                    .upload(url, headers, validFileRecords, createFormData, function (overallProgress) {\r\n                    _this.overallProgress = overallProgress;\r\n                }, _this.prepareConfigureFn(configureXhr))\r\n                    .then(function (res) {\r\n                    for (var i = 0; i < res.length; i++) {\r\n                        res[i].fileRecord = validFilesRawData[i];\r\n                    }\r\n                    _this.$emit('upload', res);\r\n                    resolve(res);\r\n                }, function (err) {\r\n                    for (var i = 0; i < err.length; i++) {\r\n                        err[i].fileRecord = validFilesRawData[i];\r\n                    }\r\n                    _this.$emit('upload:error', err);\r\n                    reject(err);\r\n                });\r\n            });\r\n        },\r\n        deleteUpload: function (url, headers, fileRecordOrRaw, uploadData, configureXhr) {\r\n            var _this = this;\r\n            if (this.fileRecords.length < 1) {\r\n                this.overallProgress = 0;\r\n            }\r\n            var fileRecord = this.getFileRecordInstance(fileRecordOrRaw);\r\n            var rawFileRecord = this.getFileRecordRawInstance(fileRecordOrRaw);\r\n            if (this.resumable) {\r\n                return upload_helper.tusDeleteUpload(plugins.tus, url, headers, fileRecord);\r\n            }\r\n            return new Promise(function (resolve, reject) {\r\n                upload_helper\r\n                    .deleteUpload(url, headers, fileRecord, uploadData, _this.prepareConfigureFn(configureXhr))\r\n                    .then(function (res) {\r\n                    res.fileRecord = rawFileRecord;\r\n                    _this.$emit('upload:delete', res);\r\n                    resolve(res);\r\n                }, function (err) {\r\n                    err.fileRecord = rawFileRecord;\r\n                    _this.$emit('upload:delete:error', err);\r\n                    reject(err);\r\n                });\r\n            });\r\n        },\r\n        updateUpload: function (url, headers, fileRecord, uploadData, configureXhr) {\r\n            var _this = this;\r\n            fileRecord = this.getFileRecordInstance(fileRecord);\r\n            var rawFileRecord = this.getFileRecordRawInstance(fileRecord);\r\n            return new Promise(function (resolve, reject) {\r\n                upload_helper\r\n                    .updateUpload(url, headers, fileRecord, uploadData, _this.prepareConfigureFn(configureXhr))\r\n                    .then(function (res) {\r\n                    res.fileRecords = rawFileRecord;\r\n                    _this.$emit('upload:update', res);\r\n                    resolve(res);\r\n                }, function (err) {\r\n                    err.fileRecords = rawFileRecord;\r\n                    _this.$emit('upload:update:error', err);\r\n                    reject(err);\r\n                });\r\n            });\r\n        },\r\n        autoUpload: function (fileRecords) {\r\n            if (!this.uploadUrl || this.auto === false) {\r\n                return Promise.resolve(false);\r\n            }\r\n            return this.upload(this.uploadUrl, this.uploadHeaders, fileRecords, this.uploadConfig);\r\n        },\r\n        autoDeleteUpload: function (fileRecord) {\r\n            if (!this.uploadUrl || this.auto === false) {\r\n                return Promise.resolve(false);\r\n            }\r\n            return this.deleteUpload(this.uploadUrl, this.uploadHeaders, fileRecord, this.uploadConfig);\r\n        },\r\n        autoUpdateUpload: function (fileRecord) {\r\n            if (!this.uploadUrl || this.auto === false) {\r\n                return Promise.resolve(false);\r\n            }\r\n            return this.updateUpload(this.uploadUrl, this.uploadHeaders, fileRecord, this.uploadConfig);\r\n        },\r\n        equalFiles: function (file1, file2) {\r\n            return ( true &&\r\n                file1.name === file2.name &&\r\n                file1.size === file2.size &&\r\n                file1.type === file2.type &&\r\n                // file1.lastModifiedDate.getTime() === file2.lastModifiedDate.getTime() &&\r\n                file1.lastModified === file2.lastModified);\r\n        },\r\n        isFileAddedAlready: function (file) {\r\n            var e_2, _a;\r\n            try {\r\n                for (var _b = __values(this.fileRecords), _c = _b.next(); !_c.done; _c = _b.next()) {\r\n                    var fileRecord = _c.value;\r\n                    if (this.equalFiles(file, fileRecord.file)) {\r\n                        return true;\r\n                    }\r\n                }\r\n            }\r\n            catch (e_2_1) { e_2 = { error: e_2_1 }; }\r\n            finally {\r\n                try {\r\n                    if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\r\n                }\r\n                finally { if (e_2) throw e_2.error; }\r\n            }\r\n            return false;\r\n        },\r\n        handleFiles: function (files) {\r\n            var e_3, _a, e_4, _b, _c;\r\n            var _this = this;\r\n            if (this.disabled === true || this.readonly === true) {\r\n                return;\r\n            }\r\n            if (this.hasMultiple && !this.canAddMore) {\r\n                return;\r\n            }\r\n            var fileRecords = [];\r\n            var filesFiltered = [];\r\n            // tslint:disable-next-line\r\n            for (var i = 0; i < files.length; i++) {\r\n                if (this.hasMultiple && this.isFileAddedAlready(files[i])) {\r\n                    continue;\r\n                }\r\n                filesFiltered.push(files[i]);\r\n            }\r\n            files = filesFiltered;\r\n            if (this.hasMultiple && this.maxFiles && files.length > this.maxFiles - this.fileRecords.length) {\r\n                files = files.slice(0, this.maxFiles - this.fileRecords.length);\r\n            }\r\n            try {\r\n                for (var files_1 = __values(files), files_1_1 = files_1.next(); !files_1_1.done; files_1_1 = files_1.next()) {\r\n                    var file = files_1_1.value;\r\n                    fileRecords.push(new file_record({\r\n                        file: file,\r\n                    }, {\r\n                        read: this.shouldRead,\r\n                        maxSize: this.maxSize,\r\n                        accept: this.accept,\r\n                        thumbnailSize: this.thumbnailSize,\r\n                        averageColor: this.averageColor,\r\n                    }));\r\n                }\r\n            }\r\n            catch (e_3_1) { e_3 = { error: e_3_1 }; }\r\n            finally {\r\n                try {\r\n                    if (files_1_1 && !files_1_1.done && (_a = files_1.return)) _a.call(files_1);\r\n                }\r\n                finally { if (e_3) throw e_3.error; }\r\n            }\r\n            try {\r\n                for (var fileRecords_1 = __values(fileRecords), fileRecords_1_1 = fileRecords_1.next(); !fileRecords_1_1.done; fileRecords_1_1 = fileRecords_1.next()) {\r\n                    var fileRecord = fileRecords_1_1.value;\r\n                    if (fileRecord.file.size <= 20 * 1024 * 1024) {\r\n                        // <= 20MB\r\n                        this.initVideo(fileRecord);\r\n                    }\r\n                }\r\n            }\r\n            catch (e_4_1) { e_4 = { error: e_4_1 }; }\r\n            finally {\r\n                try {\r\n                    if (fileRecords_1_1 && !fileRecords_1_1.done && (_b = fileRecords_1.return)) _b.call(fileRecords_1);\r\n                }\r\n                finally { if (e_4) throw e_4.error; }\r\n            }\r\n            if (this.hasMultiple) {\r\n                // splice: for list transitions to work properly\r\n                (_c = this.fileRecords).splice.apply(_c, __spread([this.fileRecords.length, 0], fileRecords));\r\n            }\r\n            else {\r\n                this.fileRecords = fileRecords;\r\n            }\r\n            file_record.readFiles(fileRecords).then(function (fileRecordsNew) {\r\n                var allFileRecordsRaw = file_record.toRawArray(_this.fileRecords);\r\n                _this.rawFileRecords = allFileRecordsRaw;\r\n                _this.$emit('input', Array.isArray(_this.value) ? allFileRecordsRaw : allFileRecordsRaw[0]);\r\n                _this.$emit('select', file_record.toRawArray(fileRecordsNew));\r\n            });\r\n            this.autoUpload(fileRecords);\r\n        },\r\n        filesChanged: function (event) {\r\n            var files = event.target.files;\r\n            this.$emit('change', event);\r\n            if (!files[0]) {\r\n                return;\r\n            }\r\n            if (!this.hasMultiple) {\r\n                files = [files[0]];\r\n            }\r\n            this.handleFiles(files);\r\n            if (this.$refs.fileInput) {\r\n                this.$refs.fileInput.value = null; // do not use ''\r\n                // because chrome won't fire change event for same file\r\n            }\r\n        },\r\n        drop: function (event) {\r\n            var _this = this;\r\n            event.stopPropagation();\r\n            event.preventDefault();\r\n            dragCounter = 0;\r\n            this.isDragging = false;\r\n            if (this.disabled === true || this.readonly === true) {\r\n                return;\r\n            }\r\n            if (!event.dataTransfer) {\r\n                return;\r\n            }\r\n            utils.getFilesFromDroppedItems(event.dataTransfer).then(function (files) {\r\n                _this.$emit('drop', event);\r\n                if (!files || !files[0]) {\r\n                    return;\r\n                }\r\n                if (!_this.hasMultiple) {\r\n                    files = [files[0]];\r\n                }\r\n                _this.handleFiles(files);\r\n            });\r\n        },\r\n        dragEnter: function (event) {\r\n            if (!event.dataTransfer) {\r\n                return;\r\n            }\r\n            this.isDragging = true;\r\n            event.stopPropagation();\r\n            event.preventDefault();\r\n            dragCounter++;\r\n            event.dataTransfer.dropEffect = 'copy'; // Explicitly show this is a copy.\r\n        },\r\n        dragOver: function (event) {\r\n            if (!event.dataTransfer) {\r\n                return;\r\n            }\r\n            this.isDragging = true;\r\n            event.stopPropagation();\r\n            event.preventDefault();\r\n            event.dataTransfer.dropEffect = 'copy'; // Explicitly show this is a copy.\r\n        },\r\n        dragLeave: function (event) {\r\n            if (!event.dataTransfer) {\r\n                return;\r\n            }\r\n            dragCounter--;\r\n            if (dragCounter === 0) {\r\n                this.isDragging = false;\r\n            }\r\n        },\r\n        removeFileRecord: function (fileRecordOrRaw) {\r\n            var rawFileRecord = this.getFileRecordRawInstance(fileRecordOrRaw);\r\n            this.$emit('beforedelete', rawFileRecord);\r\n            if (!this.uploadUrl || this.auto === false) {\r\n                return;\r\n            }\r\n            this.deleteFileRecord(fileRecordOrRaw);\r\n        },\r\n        deleteFileRecord: function (fileRecordOrRaw) {\r\n            var _this = this;\r\n            var i;\r\n            if (fileRecordOrRaw instanceof file_record) {\r\n                i = this.fileRecords.indexOf(fileRecordOrRaw);\r\n            }\r\n            else {\r\n                i = this.rawFileRecords.indexOf(fileRecordOrRaw);\r\n            }\r\n            var fileRecord = this.fileRecords[i];\r\n            var rawFileRecord = this.rawFileRecords[i];\r\n            this.$emit('input', this.rawFileRecords);\r\n            this.$emit('delete', rawFileRecord);\r\n            fileRecord = this.fileRecords.splice(i, 1)[0];\r\n            rawFileRecord = this.rawFileRecords.splice(i, 1)[0];\r\n            this.autoDeleteUpload(fileRecord).then(function (res) {\r\n                /* no op */\r\n            }, function (err) {\r\n                _this.fileRecords.splice(i, 1, fileRecord);\r\n                _this.rawFileRecords.splice(i, 1, rawFileRecord);\r\n            });\r\n        },\r\n        filenameChanged: function (fileRecord) {\r\n            this.$emit('rename', file_record.toRawArray([fileRecord])[0]);\r\n            this.autoUpdateUpload(fileRecord).then(function (res) {\r\n                /* no op */\r\n            }, function (err) {\r\n                fileRecord.customName = fileRecord.oldCustomName;\r\n            });\r\n        },\r\n        checkValue: function () {\r\n            var _this = this;\r\n            var rawFileRecords = this.value || [];\r\n            rawFileRecords = Array.isArray(rawFileRecords) ? rawFileRecords : [rawFileRecords];\r\n            var fdPromises = [];\r\n            var rawFileRecordsNew = [];\r\n            for (var i = 0; i < rawFileRecords.length; i++) {\r\n                var existingIndex = this.rawFileRecords.indexOf(rawFileRecords[i]);\r\n                if (existingIndex !== -1) {\r\n                    fdPromises.push(Promise.resolve(this.fileRecords[existingIndex]));\r\n                    rawFileRecordsNew[i] = this.rawFileRecords[existingIndex];\r\n                }\r\n                else {\r\n                    fdPromises.push(file_record.fromRaw(rawFileRecords[i], {\r\n                        read: this.shouldRead,\r\n                        maxSize: this.maxSize,\r\n                        accept: this.accept,\r\n                        thumbnailSize: this.thumbnailSize,\r\n                        averageColor: this.averageColor,\r\n                    }));\r\n                    rawFileRecordsNew.push(rawFileRecords[i]);\r\n                }\r\n            }\r\n            this.rawFileRecords = rawFileRecordsNew;\r\n            Promise.all(fdPromises).then(function (fileRecords) {\r\n                _this.fileRecords = fileRecords;\r\n            });\r\n        },\r\n        sortStart: function () {\r\n            if (this.sortTimeout) {\r\n                clearTimeout(this.sortTimeout);\r\n            }\r\n            this.isSorting = true;\r\n            this.isSortingActive = true;\r\n        },\r\n        sortEnd: function (sortData) {\r\n            var _this = this;\r\n            this.isSortingActive = false;\r\n            if (this.sortTimeout) {\r\n                clearTimeout(this.sortTimeout);\r\n            }\r\n            this.sortTimeout = setTimeout(function () {\r\n                _this.isSorting = false;\r\n            }, this.transitionDuration + 100);\r\n            if (sortData.oldIndex !== sortData.newIndex) {\r\n                this.rawFileRecords = utils.arrayMove(this.rawFileRecords, sortData.oldIndex, sortData.newIndex);\r\n                this.$nextTick(function () {\r\n                    _this.$emit('input', _this.rawFileRecords);\r\n                    _this.$emit('sort', {\r\n                        oldIndex: sortData.oldIndex,\r\n                        newIndex: sortData.newIndex,\r\n                    });\r\n                });\r\n            }\r\n        },\r\n    },\r\n    created: function () {\r\n        this.uniqueId = new Date().getTime().toString(36) + Math.random().toString(36).slice(2);\r\n        this.checkValue();\r\n    },\r\n    watch: {\r\n        value: function () {\r\n            this.checkValue();\r\n        },\r\n    },\r\n}));\r\n\n// CONCATENATED MODULE: ./node_modules/ts-loader??ref--12-0!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/vue-file-agent.vue?vue&type=script&lang=ts&\n\r\n\r\n/* harmony default export */ var vue_file_agentvue_type_script_lang_ts_ = (external_commonjs_vue_commonjs2_vue_root_Vue_default.a.extend({\r\n    mixins: [vue_file_agent_mixin],\r\n}));\r\n\n// CONCATENATED MODULE: ./src/components/vue-file-agent.vue?vue&type=script&lang=ts&\n /* harmony default export */ var components_vue_file_agentvue_type_script_lang_ts_ = (vue_file_agentvue_type_script_lang_ts_); \n// EXTERNAL MODULE: ./src/components/vue-file-agent.vue?vue&type=style&index=0&lang=scss&\nvar vue_file_agentvue_type_style_index_0_lang_scss_ = __webpack_require__(\"6816\");\n\n// CONCATENATED MODULE: ./src/components/vue-file-agent.vue\n\n\n\n\n\n\n/* normalize component */\n\nvar vue_file_agent_component = normalizeComponent(\n  components_vue_file_agentvue_type_script_lang_ts_,\n  vue_file_agentvue_type_template_id_4fc1199c_render,\n  vue_file_agentvue_type_template_id_4fc1199c_staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var vue_file_agent = (vue_file_agent_component.exports);\n// CONCATENATED MODULE: ./src/index.ts\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar src_VueFileAgentPlugin = /** @class */ (function () {\r\n    function VueFileAgentPlugin() {\r\n        this.VueFileIcon = vue_file_icon;\r\n        this.VueFilePreview = vue_file_preview;\r\n        this.VueFileAgent = vue_file_agent;\r\n        this.component = vue_file_agent;\r\n        this.mixin = vue_file_agent_mixin;\r\n        this.plugins = plugins;\r\n        this.VueFileAgentMixin = vue_file_agent_mixin;\r\n        this.VueFilePreviewMixin = vue_file_preview_mixin;\r\n        this.install = function (Vue, options) {\r\n            Vue.component('VueFileIcon', vue_file_icon);\r\n            Vue.component('VueFilePreview', vue_file_preview);\r\n            Vue.component('VueFileList', vue_file_list);\r\n            Vue.component('VueFileListItem', vue_file_list_item);\r\n            Vue.component('VueFileAgent', vue_file_agent);\r\n            Vue.prototype.$vueFileAgent = {\r\n                mixin: vue_file_agent_mixin,\r\n            };\r\n        };\r\n    }\r\n    return VueFileAgentPlugin;\r\n}());\r\n\r\nvar vfaPlugin = new src_VueFileAgentPlugin();\r\n// auto install\r\nif (typeof window !== 'undefined' && window.Vue) {\r\n    vfaPlugin.install(window.Vue, {});\r\n    window.VueFileAgent = vfaPlugin;\r\n}\r\nvar mixin = vue_file_agent_mixin;\r\n\r\n\r\nvar FileData = file_record; // for backward compatibility\r\n/* harmony default export */ var src_0 = (vfaPlugin);\r\n\n// CONCATENATED MODULE: ./node_modules/@vue/cli-service/lib/commands/build/entry-lib.js\n\n\n/* harmony default export */ var entry_lib = __webpack_exports__[\"default\"] = (src_0);\n\n\n\n/***/ })\n\n/******/ });\n});\n//# sourceMappingURL=vue-file-agent.umd.js.map","const axios = require(\"axios\");\nimport Data from \"./data\";\n// import JWT from \"../500apps/jwt\";\n\nconst File_Manager_URL = \"https://api.${region}.500apps.com/files/public/signed\";\nconst Delete_File_URL = \"https://api.${region}.500apps.com/files/public/object\";\n\nclass FileManager extends Data {\n  constructor() {\n    super(File_Manager_URL);\n  }\n  async getFiles(appname) {\n    // eslint-disable-next-line\n    let region = window.region;\n    let url = `${File_Manager_URL}/?app=${appname}`;\n    this.url = eval(\"`\" + url + \"`\");\n\n    this.disablePCors();\n    this.setOffset(0);\n\n    let results = await this.get();\n    return results;\n  }\n\n  async getSignedLink(appname, postType, file, contentType, acl) {\n    // eslint-disable-next-line\n    let region = window.region;\n    let url = `${File_Manager_URL}/${window.domain}?key=${file}&type=${postType}&content_type=${contentType}&acl=${acl}&app=${appname}`;\n\n    this.url = eval(\"`\" + url + \"`\");\n\n    this.disablePCors();\n    this.setOffset(0);\n    console.log(\"Get signed Link\", this.url);\n    let results = await this.get();\n    return results.presign_url;\n  }\n\n  async upload(appname, postType, file, value, contentType, acl) {\n    let presign_data = await this.getSignedLink(appname, postType, file.name, contentType, acl);\n    var formData = new FormData();\n    let fields = presign_data.fields;\n    for (var field in fields) {\n      formData.append(field, fields[field]);\n    }\n    formData.append(\"file\", file);\n    value = value ? value : formData;\n    let config = {\n      headers: {\n        \"Content-Type\": `${contentType}`,\n        \"x-amz-acl\": `${acl}`,\n      },\n    };\n    let region = this.getRegion();\n    let change_url = `https://my.${region}.500apps.com/pcors?url=` + presign_data.url;\n    let result = await axios.post(change_url, value, config);\n    result = result.data;\n    return { upload_data: result, presign_data: presign_data };\n  }\n  async delete(appname, file_name) {\n    if (appname) {\n      file_name = \"\";\n      return;\n    }\n    let url = `${Delete_File_URL}/${window.domain}?key=${file_name}&app=${appname}`;\n    // eslint-disable-next-line\n    url = eval(\"`\" + url + \"`\");\n    let config = {\n      headers: {\n        Authorization: `Bearer`,\n        withCredentials: true,\n      },\n    };\n    let delete_response = await axios.delete(url, config);\n    return delete_response;\n  }\n  async uploadToS3(appname, dataURL, fileName, type, Blob) {\n    // Get S3 Presign URL\n    const s3data = await this.getSignedLink(appname, \"post-object\", fileName, type, \"public-read\");\n    // Get Blob data from data URI\n    const convertBlob = dataURL ? await this.dataURLtoBlob(dataURL, type) : Blob;\n    // Send with compressed to s3.\n    await axios.post(s3data.url, this.createFormData(convertBlob, s3data), {\n      headers: {\n        \"x-amz-acl\": \"public-read\",\n        \"Content-Type\": type,\n      },\n    });\n    return s3data.url + s3data.fields.key;\n  }\n  async dataURLtoBlob(dataurl, type) {\n    // If file type is Audio or Video\n    if (type !== \"image\") {\n      const blob = await fetch(dataurl).then((r) => r.blob());\n      return blob;\n    }\n    // Separate the mime data\n    var arr = dataurl.split(\",\");\n    var mime = arr[0].match(/:(.*?);/)[1];\n\n    // Convert from base64 to raw binary data\n    var bstr = atob(arr[1]);\n    var n = bstr.length;\n\n    // Create the buffer and set the bytes of the buffer\n    var u8arr = new Uint8Array(n);\n    while (n--) {\n      u8arr[n] = bstr.charCodeAt(n);\n    }\n\n    // Add the ArrayBuffer to a blob\n    return new Blob([u8arr], { type: mime });\n  }\n  createFormData(fileData, data) {\n    //this passes all the presigned url key and values as post params and posts it to the S3 url along with the file object.\n    var formData = new FormData();\n    let appendData = data.fields;\n    for (var field in appendData) {\n      formData.append(field, appendData[field]);\n    }\n    formData.append(\"file\", fileData);\n    return formData;\n  }\n}\n\nexport default new FileManager();\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar isForced = require('../internals/is-forced');\nvar redefine = require('../internals/redefine');\nvar has = require('../internals/has');\nvar classof = require('../internals/classof-raw');\nvar inheritIfRequired = require('../internals/inherit-if-required');\nvar toPrimitive = require('../internals/to-primitive');\nvar fails = require('../internals/fails');\nvar create = require('../internals/object-create');\nvar getOwnPropertyNames = require('../internals/object-get-own-property-names').f;\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar defineProperty = require('../internals/object-define-property').f;\nvar trim = require('../internals/string-trim').trim;\n\nvar NUMBER = 'Number';\nvar NativeNumber = global[NUMBER];\nvar NumberPrototype = NativeNumber.prototype;\n\n// Opera ~12 has broken Object#toString\nvar BROKEN_CLASSOF = classof(create(NumberPrototype)) == NUMBER;\n\n// `ToNumber` abstract operation\n// https://tc39.es/ecma262/#sec-tonumber\nvar toNumber = function (argument) {\n  var it = toPrimitive(argument, false);\n  var first, third, radix, maxCode, digits, length, index, code;\n  if (typeof it == 'string' && it.length > 2) {\n    it = trim(it);\n    first = it.charCodeAt(0);\n    if (first === 43 || first === 45) {\n      third = it.charCodeAt(2);\n      if (third === 88 || third === 120) return NaN; // Number('+0x1') should be NaN, old V8 fix\n    } else if (first === 48) {\n      switch (it.charCodeAt(1)) {\n        case 66: case 98: radix = 2; maxCode = 49; break; // fast equal of /^0b[01]+$/i\n        case 79: case 111: radix = 8; maxCode = 55; break; // fast equal of /^0o[0-7]+$/i\n        default: return +it;\n      }\n      digits = it.slice(2);\n      length = digits.length;\n      for (index = 0; index < length; index++) {\n        code = digits.charCodeAt(index);\n        // parseInt parses a string to a first unavailable symbol\n        // but ToNumber should return NaN if a string contains unavailable symbols\n        if (code < 48 || code > maxCode) return NaN;\n      } return parseInt(digits, radix);\n    }\n  } return +it;\n};\n\n// `Number` constructor\n// https://tc39.es/ecma262/#sec-number-constructor\nif (isForced(NUMBER, !NativeNumber(' 0o1') || !NativeNumber('0b1') || NativeNumber('+0x1'))) {\n  var NumberWrapper = function Number(value) {\n    var it = arguments.length < 1 ? 0 : value;\n    var dummy = this;\n    return dummy instanceof NumberWrapper\n      // check on 1..constructor(foo) case\n      && (BROKEN_CLASSOF ? fails(function () { NumberPrototype.valueOf.call(dummy); }) : classof(dummy) != NUMBER)\n        ? inheritIfRequired(new NativeNumber(toNumber(it)), dummy, NumberWrapper) : toNumber(it);\n  };\n  for (var keys = DESCRIPTORS ? getOwnPropertyNames(NativeNumber) : (\n    // ES3:\n    'MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,' +\n    // ES2015 (in case, if modules with ES2015 Number statics required before):\n    'EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,' +\n    'MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,' +\n    // ESNext\n    'fromString,range'\n  ).split(','), j = 0, key; keys.length > j; j++) {\n    if (has(NativeNumber, key = keys[j]) && !has(NumberWrapper, key)) {\n      defineProperty(NumberWrapper, key, getOwnPropertyDescriptor(NativeNumber, key));\n    }\n  }\n  NumberWrapper.prototype = NumberPrototype;\n  NumberPrototype.constructor = NumberWrapper;\n  redefine(global, NUMBER, NumberWrapper);\n}\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FileUpload.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}