{"version":3,"sources":["webpack:///./src/views/openedornot/Unsubscribe.vue?148c","webpack:///src/views/openedornot/Unsubscribe.vue","webpack:///./src/views/openedornot/Unsubscribe.vue?5b85","webpack:///./src/views/openedornot/Unsubscribe.vue","webpack:///./src/js/openedornot/unsubscribe.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","selected","_l","item","key","on","$event","selectOption","_s","directives","name","rawName","value","expression","domProps","target","composing","reason","_e","showMessage","showError","submit","_m","staticRenderFns","component","axios","require","Unsubscribe_Server","OpenedOrNot","form","url","eval","put","response","data"],"mappings":"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","file":"js/Unsubscribe.6d6dabe9.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"vh-100\"},[_c('b-navbar',{staticClass:\"border-bottom p-3\",attrs:{\"variant\":\"faded\",\"type\":\"light\"}},[_c('div',{staticClass:\"navbar-brand pb-0 mx-auto\"},[_c('div',{staticClass:\"d-flex\"},[_c('img',{attrs:{\"src\":\"https://infinity.500apps.com/img/extensions/openedornot.svg\",\"height\":\"32\",\"width\":\"32\"}}),_c('h2',{staticClass:\"mb-0 pt-2 pl-2\"},[_vm._v(\"OpenedOrNot\")])]),_c('p',{staticClass:\"mb-0\"},[_vm._v(\"Powered By \"),_c('span',{staticClass:\"text-primary\"},[_vm._v(\"500apps\")])])])]),_c('div',[_c('b-row',{staticClass:\"text-center mt-7\"},[_c('b-col'),_c('b-col',{attrs:{\"cols\":\"8\"}},[(_vm.isUnSubscribed)?[_c('h3',[_vm._v(\"Successful\")]),_c('p',[_vm._v(\"You have successfully unsubscribed from daily reports emails from OpenedorNot\")])]:[_c('h3',[_vm._v(\"Unsubscribe from Daily Report Email\")]),_c('p',[_vm._v(\"To help us improve our services, we would be grateful if you could tell us why:\")]),_c('b-row',[_c('div',{staticClass:\"col-7 mx-auto\"},[_c('b-dropdown',{staticClass:\"col-12 px-0 bg-white\",attrs:{\"menu-class\":\"w-100\",\"text\":_vm.selected}},_vm._l((_vm.options),function(item){return _c('b-dropdown-item',{key:item,on:{\"click\":function($event){return _vm.selectOption(item)}}},[_vm._v(_vm._s(item))])}),1),(_vm.showMessage)?_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.reason),expression:\"reason\"}],staticClass:\"mt-3 form-control\",attrs:{\"rows\":\"3\",\"placeholder\":\"Please provide your reason here.....\"},domProps:{\"value\":(_vm.reason)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.reason=$event.target.value}}}):_vm._e(),(_vm.showMessage && _vm.showError)?_c('p',{staticClass:\"text-danger mb-0\"},[_vm._v(\"Reason is required\")]):_vm._e()],1)]),_c('b-button',{staticClass:\"mt-5\",attrs:{\"variant\":\"primary\",\"disabled\":_vm.selected == 'Please select a reason' ? true : false},on:{\"click\":function($event){return _vm.submit()}}},[_c('small',[_vm._v(\"click here to unsubscribe\")])])]],2),_c('b-col')],1)],1),_vm._m(0)],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"fixed-bottom text-center bg-white border-top\"},[_c('p',{staticClass:\"mb-0 mt-3 text-muted\"},[_vm._v(\"Thanks\")]),_c('p',[_c('b',[_vm._v(\"500apps Team\")])])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"vh-100\">\n    <!-- Header -->\n    <b-navbar variant=\"faded\" type=\"light\" class=\"border-bottom p-3\">\n      <div class=\"navbar-brand pb-0 mx-auto\">\n        <div class=\"d-flex\">\n          <img src=\"https://infinity.500apps.com/img/extensions/openedornot.svg\" height=\"32\" width=\"32\" />\n          <h2 class=\"mb-0 pt-2 pl-2\">OpenedOrNot</h2>\n        </div>\n        <p class=\"mb-0\">Powered By <span class=\"text-primary\">500apps</span></p>\n      </div>\n    </b-navbar>\n    <div>\n      <b-row class=\"text-center mt-7\">\n        <b-col></b-col>\n        <b-col cols=\"8\">\n          <template v-if=\"isUnSubscribed\">\n            <h3>Successful</h3>\n            <p>You have successfully unsubscribed from daily reports emails from OpenedorNot</p>\n          </template>\n          <template v-else>\n            <h3>Unsubscribe from Daily Report Email</h3>\n            <p>To help us improve our services, we would be grateful if you could tell us why:</p>\n            <!-- Reason -->\n            <b-row>\n              <div class=\"col-7 mx-auto\">\n                <b-dropdown menu-class=\"w-100\" :text=\"selected\" class=\"col-12 px-0 bg-white\">\n                  <b-dropdown-item v-for=\"item in options\" :key=\"item\" @click=\"selectOption(item)\">{{ item }}</b-dropdown-item>\n                </b-dropdown>\n                <textarea v-if=\"showMessage\" class=\"mt-3 form-control\" v-model=\"reason\" rows=\"3\" placeholder=\"Please provide your reason here.....\"></textarea>\n                <p class=\"text-danger mb-0\" v-if=\"showMessage && showError\">Reason is required</p>\n              </div>\n            </b-row>\n            <b-button variant=\"primary\" :disabled=\"selected == 'Please select a reason' ? true : false\" class=\"mt-5\" @click=\"submit()\"><small>click here to unsubscribe</small></b-button>\n          </template>\n        </b-col>\n        <b-col></b-col>\n      </b-row>\n    </div>\n    <!-- Footer -->\n    <div class=\"fixed-bottom text-center bg-white border-top\">\n      <p class=\"mb-0 mt-3 text-muted\">Thanks</p>\n      <p><b>500apps Team</b></p>\n    </div>\n  </div>\n</template>\n<script>\n  import OpenedOrNot from \"@/js/openedornot/unsubscribe\";\n  export default {\n    data() {\n      return {\n        selected: \"Please select a reason\",\n        options: [\"Emails about the daily activities do not interest me\", \"I no longer wish to receive these daily report\", \"Others\"],\n        showMessage: false,\n        reason: \"\",\n        showError: false,\n        isUnSubscribed: false,\n      };\n    },\n    methods: {\n      selectOption(text) {\n        this.selected = text;\n        if (text === \"Others\") this.showMessage = true;\n        else {\n          this.showMessage = false;\n          this.showError = false;\n        }\n      },\n      /**\n       * Save Reason in DB\n       */\n      submit() {\n        // Show Error message if reason is not given\n        if (this.selected === \"Others\" && this.reason.length === 0) this.showError = true;\n        else {\n          const reason = this.selected === \"Others\" ? this.reason : this.selected;\n\n          const obj = {\n            from_email: this.$route.params.email,\n            is_subscribed: 0,\n            domain_id: window.domain,\n            reason,\n          };\n\n          // Update in DB\n          OpenedOrNot.update(obj).then(() => {\n            this.showError = false;\n            this.isUnSubscribed = true;\n          });\n        }\n      },\n    },\n  };\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Unsubscribe.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Unsubscribe.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Unsubscribe.vue?vue&type=template&id=3d567d61&\"\nimport script from \"./Unsubscribe.vue?vue&type=script&lang=js&\"\nexport * from \"./Unsubscribe.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","const axios = require(\"axios\");\nconst Unsubscribe_Server = \"https://api.${region}.500apps.com/openedornot/update\";\n\nclass OpenedOrNot {\n  async update(form) {\n    const url = eval(\"`\" + Unsubscribe_Server + \"`\");\n    let response = await axios.put(url, form);\n    return response.data;\n  }\n}\n\nexport default new OpenedOrNot();\n"],"sourceRoot":""}