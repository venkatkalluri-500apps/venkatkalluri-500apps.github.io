(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["ninjacapture148","ninjacapture150"],{"0c38":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-row",{staticClass:"h-100 mt-5"},[t.cancelStatus?a("b-col",{staticClass:"text-center card mx-auto border-0 text-center py-6 rounded",attrs:{cols:"7"}},[a("div",{staticClass:"confirmation-check"},[a("svg",{attrs:{version:"1.1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 130.2 130.2"}},[a("circle",{staticClass:"path circle",attrs:{fill:"none",stroke:"#73AF55","stroke-width":"6","stroke-miterlimit":"10",cx:"65.1",cy:"65.1",r:"62.1"}}),a("polyline",{staticClass:"path check",attrs:{fill:"none",stroke:"#73AF55","stroke-width":"6","stroke-linecap":"round","stroke-miterlimit":"10",points:"100.2,40.2 51.5,88.8 29.8,67.5 "}})])]),a("h4",{staticClass:"pt-3 mb-3"},[t._v("Confirmed!")]),a("span",[a("p",{staticClass:"text-dark"},[t._v(" You have cancelled appointment successfully. Confirmation email would also be sent to you. ")])])]):a("b-col",{staticClass:"mx-auto",attrs:{md:"10",xl:"9"}},[a("b-card",{staticClass:"p-md-3",attrs:{"body-class":"p-md-5"}},[a("div",{staticClass:"border-bottom pb-4 border-light"},[a("div",{staticClass:"d-flex align-items-center justify-content-center text-success d-flex flex-column "},[a("i",{staticClass:"fe fe-check-circle display-3 mb-3 font-weight-normal line-height-1"}),a("h2",{staticClass:"mb-0"},[t._v("Confirmed")])])]),a("div",{staticClass:"my-3 my-md-4 rounded"},[a("b-list-group",{attrs:{flush:""}},[a("b-list-group-item",{staticClass:"border-bottom-0 py-2"},[a("b-row",[a("b-col",{attrs:{cols:"12",md:"5",lg:"3"}},[a("p",{staticClass:"mb-2 mb-md-0  text-muted"},[a("i",{staticClass:"mr-2 fe fe-bell align-bottom"}),t._v(" Event Name")])]),a("b-col",{staticClass:"my-auto"},[a("p",{staticClass:"mb-0"},[t._v(t._s(t.eventData.events.title))])])],1)],1),a("b-list-group-item",{staticClass:"border-bottom-0 py-2"},[a("b-row",[a("b-col",{attrs:{cols:"12",md:"5",lg:"3"}},[a("p",{staticClass:"mb-2 mb-md-0 text-muted"},[a("i",{staticClass:"mr-2 fe fe-user align-bottom"}),t._v(" Event Owner")])]),a("b-col",{staticClass:"my-auto"},[a("p",{staticClass:"mb-0"},[t._v(t._s(t.userName))])])],1)],1),a("b-list-group-item",{staticClass:"border-bottom-0 py-2"},[a("b-row",[a("b-col",{attrs:{cols:"12",md:"5",lg:"3"}},[a("p",{staticClass:"mb-2 mb-md-0 text-muted"},[a("i",{staticClass:"mr-2 fe fe-calendar align-bottom"}),t._v(" Date & Time")])]),a("b-col",{staticClass:"my-auto"},[a("p",{staticClass:"mb-0"},[t._v(t._s(t.timeformat(t.eventData.unix_times.start_unix,!0,"llll"))+" - "+t._s(t.timeformat(t.eventData.unix_times.end_unix,!0,"LT")))])])],1)],1),a("b-list-group-item",{staticClass:"border-bottom-0 py-2"},[a("b-row",[a("b-col",{attrs:{cols:"12",md:"5",lg:"3"}},[a("p",{staticClass:"mb-2 mb-md-0  text-muted"},[a("i",{staticClass:"mr-2 fe fe-calendar align-bottom"}),t._v("Location")])]),a("b-col",{staticClass:"my-auto"},[a("h4",{staticClass:"mb-0 mobile-font"},[t._v(t._s(t.eventData.events.location))]),t.eventData&&t.eventData.events&&t.eventData.events.location&&"conference"==t.eventData.events.location?a("small",[a("b-link",{attrs:{href:JSON.parse(t.eventData.events.location_info).location_address,target:"blank"}},[t._v(t._s(JSON.parse(t.eventData.events.location_info).location_address))])],1):t.eventData&&t.eventData.events&&t.eventData.events.location?a("small",[t.eventData&&t.eventData.events&&t.eventData.events.location_info&&JSON.parse(t.eventData.events.location_info).location_address&&"invitee_call"!=JSON.parse(t.eventData.events.location_info).location_address?a("p",{staticClass:"mb-0"},[t._v(" "+t._s(JSON.parse(t.eventData.events.location_info).location_address)+" ")]):t._e(),t.eventData&&t.eventData.events&&t.eventData.events.location_info&&JSON.parse(t.eventData.events.location_info).location_more_info?a("p",{staticClass:"mt-0"},[t._v(" "+t._s(JSON.parse(t.eventData.events.location_info).location_more_info)+" ")]):t._e()]):a("small",[t._v("--")])])],1)],1),a("b-list-group-item",{staticClass:"border-bottom-0 py-2"},[a("b-row",[a("b-col",{attrs:{cols:"12",md:"5",lg:"3"}},[a("p",{staticClass:"mb-2 mb-md-0 text-muted"},[a("i",{staticClass:"mr-2 fe fe-phone align-bottom"}),t._v(" Contact Details")])]),a("b-col",{staticClass:"my-auto pt-2 pt-md-0"},[a("div",[a("p",{staticClass:"mb-0"},[t._v(t._s(t.eventData.events_participants.name))]),a("small",[t._v(t._s(t.eventData.events_participants.email)+" "),t.eventData&&t.eventData.events_participants&&t.eventData.events_participants.custom_fields&&JSON.parse(t.eventData.events_participants.custom_fields).phone?a("span",{staticClass:"ml-3"},[t._v(" "+t._s(JSON.parse(t.eventData.events_participants.custom_fields).phone)+" ")]):t._e()])])])],1)],1),a("b-list-group-item",{staticClass:"border-bottom-0 py-2"},[a("b-row",[a("b-col",{attrs:{cols:"12",md:"5",lg:"3"}},[a("p",{staticClass:"mb-2 mb-md-0  text-muted"},[a("i",{staticClass:"mr-2 fe fe-calendar align-bottom"}),t._v(" Booked On")])]),a("b-col",{staticClass:"my-auto"},[a("p",{staticClass:"mb-0"},[t._v(t._s(t.timeformat(new Date)))])])],1)],1),a("p",{staticClass:"mb-0  py-3 border-bottom border-light mb-3"},[t._v("Additional Info")]),t._l(t.additional_info,(function(e,s){return a("b-list-group-item",{key:s,staticClass:"border-bottom-0 py-2"},[a("b-row",[a("b-col",{attrs:{cols:"12",md:"5",lg:"3"}},[a("p",{staticClass:"mb-2 mb-md-0 text-muted text-truncate"},[a("i",{staticClass:"mr-2 fe fe-list pr-1 align-bottom"}),t._v(t._s(s))])]),a("b-col",{staticClass:"my-auto"},[a("p",{staticClass:"mb-0"},[t._v(t._s(e))])])],1)],1)}))],2)],1),a("div",{staticClass:"border-top flex-column flex-md-row d-flex justify-content-between align-items-md-center pt-4"},[a("div",{staticClass:"d-flex align-items-md-center mt-2 flex-column flex-md-row"},[a("b-button",{staticClass:"px-md-3 mb-3 mb-md-0",attrs:{variant:"light",size:"sm"},on:{click:function(e){return t.downloadICS()}}},[a("i",{staticClass:"fe fe-download mr-1"}),t._v(" Download as ICS ")])],1),a("div",{staticClass:"d-md-flex justify-content-end align-items-center text-center ml-auto pr-0 mt-md-3 mt-2"},[a("span",{staticClass:"mr-md-4"},[a("b-link",{attrs:{href:"https://500apps.com",target:"blank"}},[t._v("Create your own event")])],1),a("b-button",{staticClass:"px-lg-4 px-4 px-md-2 mt-md-2 mt-3",attrs:{variant:"outline-primary",size:"sm"},on:{click:function(e){return t.reloadPage()}}},[t._v("Book another appointment")])],1)])])],1)],1)},n=[],o=(a("4160"),a("b64b"),a("159b"),a("c1df")),r=a.n(o),i={name:"Confirmation",components:{},props:{userName:String,cancelStatus:Boolean,eventData:Object,response:Object},data:function(){return{additional_info:{}}},created:function(){this.filterCustomfieldData()},methods:{reloadPage:function(){this.$router.go()},downloadICS:function(){window.open("data:text/calendar;charset=utf8,"+escape(this.response.ical_data))},timeformat:function(t,e,a){return e?r.a.utc(r()(1e3*t),"YYYY-MM-DD HH").tz(this.eventData.time_zone).format(a):r()(t).format("llll")},filterCustomfieldData:function(){var t=this,e=JSON.parse(this.eventData.events_participants.custom_fields);Object.keys(e).forEach((function(a){"name"!=a&&"email"!=a&&"phone"!=a&&(t.additional_info[a]=e[a])}))}}},l=i,c=(a("6504"),a("2877")),_=Object(c["a"])(l,s,n,!1,null,null,null);e["default"]=_.exports},6504:function(t,e,a){"use strict";a("c611")},"7eaf":function(module,__webpack_exports__,__webpack_require__){"use strict";var regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("96cf"),regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_0__),_home_agile_Desktop_Public_infinity_public_2_node_modules_vue_babel_preset_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("c964"),_home_agile_Desktop_Public_infinity_public_2_node_modules_vue_babel_preset_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("276c"),_home_agile_Desktop_Public_infinity_public_2_node_modules_vue_babel_preset_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("e954"),_js_core_data__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("a11a"),Schedulely_Server="https://api.${region}.500apps.com/schedulely/v1/",Shortcut_Server="https://api.500apps.com/shortcuts/shortcut",Shortcut_Region_Server="https://api.${region}.500apps.com/shortcuts/shortcut",Schedulely=function(){function Schedulely(){Object(_home_agile_Desktop_Public_infinity_public_2_node_modules_vue_babel_preset_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__["a"])(this,Schedulely)}return Object(_home_agile_Desktop_Public_infinity_public_2_node_modules_vue_babel_preset_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_3__["a"])(Schedulely,[{key:"get",value:function get(params){var region=window.region,url=eval("`"+" ".concat(Schedulely_Server+params)+"`"),data=new _js_core_data__WEBPACK_IMPORTED_MODULE_4__["a"](url);return data.disablePCors(),data.get()}},{key:"add",value:function add(params,form){var region=window.region,url=eval("`"+" ".concat(Schedulely_Server+params)+"`"),data=new _js_core_data__WEBPACK_IMPORTED_MODULE_4__["a"](url);return data.disablePCors(),data.multi_call(form)}},{key:"edit",value:function edit(id,params,form){var region=window.region,url=eval("`"+" ".concat(Schedulely_Server+params)+"`"),data=new _js_core_data__WEBPACK_IMPORTED_MODULE_4__["a"](url);return data.disablePCors(),data.edit(id,form)}},{key:"get_agents",value:function get_agents(region,params){var url="";url=eval("`"+" ".concat(Schedulely_Server+params)+"`");var data=new _js_core_data__WEBPACK_IMPORTED_MODULE_4__["a"](url);return data.disablePCors(),data.get()}},{key:"getShortcutData",value:function(){var _getShortcutData=Object(_home_agile_Desktop_Public_infinity_public_2_node_modules_vue_babel_preset_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__["a"])(regeneratorRuntime.mark((function _callee(name){var url,data;return regeneratorRuntime.wrap((function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:return url=!window.region||"dev"!=window.region&&"qa"!=window.region?eval("`"+" ".concat(Shortcut_Server,"/").concat(name)+"`"):eval("`"+" ".concat(Shortcut_Region_Server,"/").concat(name)+"`"),data=new _js_core_data__WEBPACK_IMPORTED_MODULE_4__["a"](url),data.disablePCors(),_context.abrupt("return",data.get());case 4:case"end":return _context.stop()}}),_callee)})));function getShortcutData(t){return _getShortcutData.apply(this,arguments)}return getShortcutData}()}]),Schedulely}();__webpack_exports__["a"]=new Schedulely},c611:function(t,e,a){},f68e:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.showConfirm?a("div",[a("Confirmation",{attrs:{cancelStatus:!0}})],1):a("b-card",{staticClass:"col-sm-6 mt-7 mx-auto"},[t.pageError?a("b-card-body",[a("h3",{staticClass:"text-center"},[t._v("Sorry! Your URL is Broken")])]):a("b-card-body",{staticClass:"p-0",attrs:{"no-body":""}},[a("div",[a("h4",{staticClass:"mb-0 pt-3"},[t._v("Cancel Appointment")]),a("p",{staticClass:"text-muted mb-0 mt-1 small"},[t._v("Cancel your booked appointment")])]),a("hr"),a("b-row",{staticClass:"pt-3",attrs:{lg:"12"}},[a("b-col",{attrs:{lg:"4"}},[a("span",{staticClass:"text-muted"},[t._v(" Event Owner : ")])]),a("b-col",{attrs:{lg:"8"}},[a("span",[t._v(" "+t._s(t.eventTypeData.name)+" ")])])],1),a("b-row",{staticClass:"pt-3",attrs:{lg:"6"}},[a("b-col",{attrs:{lg:"4"}},[a("span",{staticClass:"text-muted"},[t._v(" Event Name : ")])]),a("b-col",{attrs:{lg:"8"}},[a("span",[t._v(" "+t._s(t.eventTypeData.title)+" ")])])],1),a("b-row",{staticClass:"pt-3",attrs:{lg:"12"}},[a("b-col",{attrs:{lg:"4"}},[a("span",{staticClass:"text-muted"},[t._v(" Description : ")])]),a("b-col",{attrs:{lg:"8"}},[a("span",{domProps:{innerHTML:t._s(decodeURI(t.eventTypeData.description))}})])],1),a("b-row",{staticClass:"pt-3",attrs:{lg:"12"}},[a("b-col",{attrs:{lg:"4"}},[a("span",{staticClass:"text-muted"},[t._v(" Status: ")])]),a("b-col",{attrs:{lg:"8"}},[a("span",[t._v(" "+t._s(t.eventTypeData.status)+" ")])])],1),a("b-row",{staticClass:"pt-3",attrs:{lg:"12"}},[a("b-col",{attrs:{lg:"4"}},[a("span",{staticClass:"text-muted"},[t._v(" Appointment Date / Time : ")])]),a("b-col",{attrs:{lg:"8"}},[t.eventTypeData.start_time?a("span",[t._v(" "+t._s(t.moment(t.moment.utc(t.eventTypeData.start_time)).format("llll"))+" ")]):t._e()])],1),t.cancelEventStatus?a("b-row",{staticClass:"pt-3",attrs:{lg:"12"}},[a("b-col",[a("span",{staticClass:"text-muted"},[t._v(" Cancellation Reason : ")]),a("b-form",{staticClass:"mt-4",on:{submit:function(e){return e.preventDefault(),t.cancelEvent(e)}}},[a("b-form-textarea",{attrs:{autocomplete:"off",placeholder:"Enter cancellation reason",required:"",trim:""},model:{value:t.form.cancelReason,callback:function(e){t.$set(t.form,"cancelReason",e)},expression:"form.cancelReason"}}),a("hr"),a("button",{staticClass:"btn btn-primary float-right p-2 px-4",attrs:{type:"submit"}},[t._v(" Confirm ")])],1)],1)],1):t._e()],1)],1),a("b-overlay",{attrs:{show:t.isBusy,"no-wrap":"",opacity:"0.5"}})],1)},n=[],o=(a("99af"),a("96cf"),a("c964")),r=a("7eaf"),i=a("0c38"),l=a("c1df"),c=a.n(l),_={name:"CancelEvent",components:{Confirmation:i["default"]},data:function(){return{domain:"",eventTypeData:{},cancelEventStatus:!1,showCancelText:"",form:{cancelReason:""},pageError:!1,showConfirm:!1,isBusy:!1}},mounted:function(){this.domainId=window.domain,this.$route.query&&this.$route.query.email?this.getEventTypeData():this.pageError=!0},methods:{getEventTypeData:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,s,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.isBusy=!0,a={email:t.$route.query.email},e.next=5,r["a"].add("".concat(t.domainId,"/").concat(t.$route.params.user_id,"/").concat(t.$route.params.event_id,"/events"),a);case 5:s=e.sent,s.length>0?(t.eventTypeData=s[0],n=new Date(t.eventTypeData.start_time),n=n.setMinutes(n.getMinutes()-c()().utcOffset()),n>(new Date).getTime()&&"scheduled"==t.eventTypeData.status&&(t.cancelEventStatus=!0)):t.cancelEventStatus=!1,t.isBusy=!1,e.next=15;break;case 10:e.prev=10,e.t0=e["catch"](0),console.log(e.t0),t.pageError=!0,t.isBusy=!1;case 15:case"end":return e.stop()}}),e,null,[[0,10]])})))()},cancelEvent:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.isBusy=!0,"cancel"!==t.eventTypeData.status){e.next=5;break}t.showCancelText="This appointment has been already cancelled.",e.next=10;break;case 5:return a={status:"cancelled",event_id:t.$route.params.event_id,email:t.$route.query.email,cancel_reason:t.form.cancelReason},e.next=8,r["a"].edit(t.$route.params.event_id,"".concat(t.domainId,"/").concat(t.$route.params.user_id,"/cancelEvent"),a);case 8:t.showConfirm=!0,t.isBusy=!1;case 10:case"end":return e.stop()}}),e)})))()}}},m=_,u=a("2877"),d=Object(u["a"])(m,s,n,!1,null,null,null);e["default"]=d.exports}}]);
//# sourceMappingURL=ninjacapture148.95b8275a.js.map