{"version":3,"sources":["webpack:///./src/views/dialer/Voxdesk.vue?6ee5","webpack:///./src/js/dialer/call-back.js","webpack:///./src/views/dialer/Visitor.vue?1412","webpack:///./src/js/dialer/call-log.js","webpack:///./node_modules/js-cookie/src/js.cookie.js","webpack:///./src/views/dialer/Visitor.vue?b80d","webpack:///src/views/dialer/Visitor.vue","webpack:///./src/views/dialer/Visitor.vue?1313","webpack:///./src/views/dialer/Visitor.vue","webpack:///./src/views/dialer/Dialer.vue?1f06","webpack:///./src/js/dialer/permission.js","webpack:///src/views/dialer/Dialer.vue","webpack:///./src/views/dialer/Dialer.vue?65c1","webpack:///./src/views/dialer/Dialer.vue","webpack:///./src/views/dialer/Voxdesk.vue?01b5","webpack:///src/views/dialer/Voxdesk.vue","webpack:///./src/views/dialer/Voxdesk.vue?9dd9","webpack:///./src/views/dialer/Voxdesk.vue?5769","webpack:///./src/views/dialer/Call_Back.vue?bc4c","webpack:///src/views/dialer/Call_Back.vue","webpack:///./src/views/dialer/Call_Back.vue?4fc6","webpack:///./src/views/dialer/Call_Back.vue","webpack:///./src/views/dialer/Permission.vue?f01a","webpack:///./src/views/dialer/Permission.vue"],"names":["CallBack_Server","CallBack","form","JWT","setHeader","headers","api_key","region","this","getRegion","url","eval","axios","post","response","data","Data","Call_Log","CallLog","put","factory","registeredInModuleLoader","module","exports","OldCookies","window","Cookies","api","noConflict","extend","i","result","arguments","length","attributes","key","decode","s","replace","decodeURIComponent","init","converter","set","value","document","path","defaults","expires","Date","toUTCString","JSON","stringify","test","e","write","encodeURIComponent","String","escape","stringifiedAttributes","attributeName","split","cookie","get","json","jar","cookies","parts","slice","join","charAt","name","read","parse","getJSON","remove","withConverter","render","_vm","_h","$createElement","_c","_self","class","theme","staticClass","attrs","widgetData","domain_id","on","showCallNow","visitor_select","status","_v","_s","description","_e","flow_id","$route","params","from","connection","digitPressed","style","background","buttonName","btncolor","btncolor2","borderColor","isTwilioReady","variant","prefer","_m","staticRenderFns","component","destination","ref","is_make_call","is_start_timer","config","enable","Permissions","stream","constraints","audio","navigator","mediaDevices","getUserMedia","msg","error","agent_id","app_name","callConnected","$event","preventDefault","onSubmit","model","callback","$$v","$set","expression","countryChanged","sendType","send_type","getTimezones","isDisabled","errorClass","message","script"],"mappings":"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","file":"js/dialer.10fb6cd3.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Voxdesk.vue?vue&type=style&index=0&id=b959b990&scoped=true&lang=css&\"","import axios from \"axios\";\nimport JWT from \"./jwt\";\nimport Data from \"../core/data\";\n// Server url to save call back info\nconst CallBack_Server = \"https://api.${region}.500apps.com/pbxplus/v1/contact-info?app_name=pbxplus\";\n\nclass CallBack extends Data {\n  // Method used to send call back info\n  async add(form) {\n    let headers = await JWT.setHeader();\n    headers[\"x-api-key\"] = form.api_key;\n    // eslint-disable-next-line\n    let region = this.getRegion();\n    let url = CallBack_Server;\n    url = eval(\"`\" + url + \"`\");\n    let response = await axios.post(url, form, { headers });\n    return response.data;\n  }\n}\nexport default new CallBack();\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Visitor.vue?vue&type=style&index=0&id=eda6f4ca&scoped=true&lang=css&\"","import axios from \"axios\";\nimport JWT from \"./jwt\";\nimport Data from \"../core/data\";\n\n// Server url to update call log info\nconst Call_Log = \"https://api.${region}.500apps.com/pbxplus/v1/call-log?app_name=pbxplus\";\n\nclass CallLog extends Data {\n  // Method used to send call back info\n  // Update end time in call logs\n  async add(form) {\n    let headers = await JWT.setHeader();\n    headers[\"x-api-key\"] = form.api_key;\n    // eslint-disable-next-line\n    let region = this.getRegion();\n    let url = Call_Log;\n    url = eval(\"`\" + url + \"`\");\n    let response = await axios.put(url, form, { headers });\n    return response.data;\n  }\n}\nexport default new CallLog();\n","/*!\n * JavaScript Cookie v2.2.1\n * https://github.com/js-cookie/js-cookie\n *\n * Copyright 2006, 2015 Klaus Hartl & Fagner Brack\n * Released under the MIT license\n */\n;(function (factory) {\n\tvar registeredInModuleLoader;\n\tif (typeof define === 'function' && define.amd) {\n\t\tdefine(factory);\n\t\tregisteredInModuleLoader = true;\n\t}\n\tif (typeof exports === 'object') {\n\t\tmodule.exports = factory();\n\t\tregisteredInModuleLoader = true;\n\t}\n\tif (!registeredInModuleLoader) {\n\t\tvar OldCookies = window.Cookies;\n\t\tvar api = window.Cookies = factory();\n\t\tapi.noConflict = function () {\n\t\t\twindow.Cookies = OldCookies;\n\t\t\treturn api;\n\t\t};\n\t}\n}(function () {\n\tfunction extend () {\n\t\tvar i = 0;\n\t\tvar result = {};\n\t\tfor (; i < arguments.length; i++) {\n\t\t\tvar attributes = arguments[ i ];\n\t\t\tfor (var key in attributes) {\n\t\t\t\tresult[key] = attributes[key];\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n\n\tfunction decode (s) {\n\t\treturn s.replace(/(%[0-9A-Z]{2})+/g, decodeURIComponent);\n\t}\n\n\tfunction init (converter) {\n\t\tfunction api() {}\n\n\t\tfunction set (key, value, attributes) {\n\t\t\tif (typeof document === 'undefined') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tattributes = extend({\n\t\t\t\tpath: '/'\n\t\t\t}, api.defaults, attributes);\n\n\t\t\tif (typeof attributes.expires === 'number') {\n\t\t\t\tattributes.expires = new Date(new Date() * 1 + attributes.expires * 864e+5);\n\t\t\t}\n\n\t\t\t// We're using \"expires\" because \"max-age\" is not supported by IE\n\t\t\tattributes.expires = attributes.expires ? attributes.expires.toUTCString() : '';\n\n\t\t\ttry {\n\t\t\t\tvar result = JSON.stringify(value);\n\t\t\t\tif (/^[\\{\\[]/.test(result)) {\n\t\t\t\t\tvalue = result;\n\t\t\t\t}\n\t\t\t} catch (e) {}\n\n\t\t\tvalue = converter.write ?\n\t\t\t\tconverter.write(value, key) :\n\t\t\t\tencodeURIComponent(String(value))\n\t\t\t\t\t.replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g, decodeURIComponent);\n\n\t\t\tkey = encodeURIComponent(String(key))\n\t\t\t\t.replace(/%(23|24|26|2B|5E|60|7C)/g, decodeURIComponent)\n\t\t\t\t.replace(/[\\(\\)]/g, escape);\n\n\t\t\tvar stringifiedAttributes = '';\n\t\t\tfor (var attributeName in attributes) {\n\t\t\t\tif (!attributes[attributeName]) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tstringifiedAttributes += '; ' + attributeName;\n\t\t\t\tif (attributes[attributeName] === true) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t// Considers RFC 6265 section 5.2:\n\t\t\t\t// ...\n\t\t\t\t// 3.  If the remaining unparsed-attributes contains a %x3B (\";\")\n\t\t\t\t//     character:\n\t\t\t\t// Consume the characters of the unparsed-attributes up to,\n\t\t\t\t// not including, the first %x3B (\";\") character.\n\t\t\t\t// ...\n\t\t\t\tstringifiedAttributes += '=' + attributes[attributeName].split(';')[0];\n\t\t\t}\n\n\t\t\treturn (document.cookie = key + '=' + value + stringifiedAttributes);\n\t\t}\n\n\t\tfunction get (key, json) {\n\t\t\tif (typeof document === 'undefined') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar jar = {};\n\t\t\t// To prevent the for loop in the first place assign an empty array\n\t\t\t// in case there are no cookies at all.\n\t\t\tvar cookies = document.cookie ? document.cookie.split('; ') : [];\n\t\t\tvar i = 0;\n\n\t\t\tfor (; i < cookies.length; i++) {\n\t\t\t\tvar parts = cookies[i].split('=');\n\t\t\t\tvar cookie = parts.slice(1).join('=');\n\n\t\t\t\tif (!json && cookie.charAt(0) === '\"') {\n\t\t\t\t\tcookie = cookie.slice(1, -1);\n\t\t\t\t}\n\n\t\t\t\ttry {\n\t\t\t\t\tvar name = decode(parts[0]);\n\t\t\t\t\tcookie = (converter.read || converter)(cookie, name) ||\n\t\t\t\t\t\tdecode(cookie);\n\n\t\t\t\t\tif (json) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tcookie = JSON.parse(cookie);\n\t\t\t\t\t\t} catch (e) {}\n\t\t\t\t\t}\n\n\t\t\t\t\tjar[name] = cookie;\n\n\t\t\t\t\tif (key === name) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {}\n\t\t\t}\n\n\t\t\treturn key ? jar[key] : jar;\n\t\t}\n\n\t\tapi.set = set;\n\t\tapi.get = function (key) {\n\t\t\treturn get(key, false /* read as raw */);\n\t\t};\n\t\tapi.getJSON = function (key) {\n\t\t\treturn get(key, true /* read as json */);\n\t\t};\n\t\tapi.remove = function (key, attributes) {\n\t\t\tset(key, '', extend(attributes, {\n\t\t\t\texpires: -1\n\t\t\t}));\n\t\t};\n\n\t\tapi.defaults = {};\n\n\t\tapi.withConverter = init;\n\n\t\treturn api;\n\t}\n\n\treturn init(function () {});\n}));\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:_vm.theme},[_c('Header',{staticClass:\"visitor-btns\",attrs:{\"widgetData\":_vm.widgetData,\"domain_id\":_vm.domain_id,\"from\":\"visitor\"},on:{\"visitor_click\":_vm.showCallNow}}),(_vm.visitor_select != 'call_back' && _vm.status != 'connected')?_c('div',{staticClass:\"height-288 d-flex justify-content-center p-3\"},[_c('div',{staticClass:\"p-2 font-size-13px\"},[_vm._v(_vm._s(_vm.widgetData.description))])]):_vm._e(),(_vm.visitor_select == 'call_back')?_c('CallBack',{attrs:{\"call_flow_id\":_vm.flow_id,\"api_key\":_vm.api_key,\"domain_id\":_vm.domain_id}}):_vm._e(),(_vm.visitor_select == 'call_now')?_c('div',{class:_vm.status == 'connected' ? 'callnow-keypad' : ''},[(_vm.status == 'connected')?_c('div',{staticClass:\"width-400\"},[_c('b-card',{staticClass:\"h-100 bg-dailer rounded-20 mb-0\",attrs:{\"body-class\":\"dailer-padding\"}},[(_vm.$route.params.from != 'visitor')?_c('div',{staticClass:\"d-flex justify-content-center\"},[_c('img',{staticClass:\"avatar rounded-circle mb-3\",attrs:{\"src\":\"https://infinity.500apps.com/avatars/avatar-47.png\"}})]):_vm._e(),_c('Timer',{staticClass:\"timer-alignment\",attrs:{\"domain_id\":_vm.domain_id,\"connection\":_vm.connection}}),_c('KeyPad',{attrs:{\"domain_id\":_vm.domain_id},on:{\"digitPressed\":_vm.digitPressed}})],1)],1):_vm._e()]):_vm._e(),_c('div',{staticClass:\"text-center d-flex justify-content-between\"},[(_vm.visitor_select == 'call_now')?_c('b-button',{staticClass:\"rounded-top-0\",style:({ background: _vm.buttonName == 'Call Now' ? _vm.widgetData.btncolor : _vm.widgetData.btncolor2, borderColor: _vm.buttonName == 'Call Now' ? _vm.widgetData.btncolor : _vm.widgetData.btncolor2 }),attrs:{\"disabled\":!_vm.isTwilioReady,\"block\":\"\",\"variant\":_vm.variant},on:{\"click\":_vm.prefer}},[_c('span',{staticClass:\"fe fe-phone small mr-2\"}),_vm._v(_vm._s(_vm.buttonName)+\" \"),(!_vm.isTwilioReady)?_c('b-spinner',{attrs:{\"small\":\"\",\"variant\":\"light\",\"label\":\"Spinning\"}}):_vm._e()],1):_vm._e()],1),_vm._m(0)],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"pbx-widget-footer\"},[_c('p',{staticClass:\"font-size-10px d-flex align-items-center justify-content-center mb-0\"},[_vm._v(\" Powered by \"),_c('a',{staticClass:\"ml-2 text-primary cursor-pointer\",attrs:{\"rel\":\"nofollow\",\"onclick\":\"window.open('http://www.pbxplus.com/', '_blank')\"}},[_vm._v(\"PBXPlus\")])])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div :class=\"theme\">\n    <Header :widgetData=\"widgetData\" class=\"visitor-btns\" :domain_id=\"domain_id\" @visitor_click=\"showCallNow\" from=\"visitor\" />\n\n    <div v-if=\"visitor_select != 'call_back' && status != 'connected'\" class=\"height-288 d-flex justify-content-center p-3\">\n      <div class=\"p-2 font-size-13px\">{{ widgetData.description }}</div>\n    </div>\n    <CallBack :call_flow_id=\"flow_id\" :api_key=\"api_key\" :domain_id=\"domain_id\" v-if=\"visitor_select == 'call_back'\" />\n    <div v-if=\"visitor_select == 'call_now'\" :class=\"status == 'connected' ? 'callnow-keypad' : ''\">\n      <div v-if=\"status == 'connected'\" class=\"width-400\">\n        <b-card class=\"h-100 bg-dailer rounded-20 mb-0\" body-class=\"dailer-padding\">\n          <div v-if=\"$route.params.from != 'visitor'\" class=\"d-flex justify-content-center\">\n            <img src=\"https://infinity.500apps.com/avatars/avatar-47.png\" class=\"avatar rounded-circle mb-3\" />\n          </div>\n          <Timer class=\"timer-alignment\" :domain_id=\"domain_id\" :connection=\"connection\" />\n          <KeyPad :domain_id=\"domain_id\" @digitPressed=\"digitPressed\" />\n        </b-card>\n      </div>\n    </div>\n    <div class=\"text-center d-flex justify-content-between\">\n      <b-button\n        :disabled=\"!isTwilioReady\"\n        block\n        :style=\"{ background: buttonName == 'Call Now' ? widgetData.btncolor : widgetData.btncolor2, borderColor: buttonName == 'Call Now' ? widgetData.btncolor : widgetData.btncolor2 }\"\n        :variant=\"variant\"\n        class=\"rounded-top-0\"\n        @click=\"prefer\"\n        v-if=\"visitor_select == 'call_now'\"\n        ><span class=\"fe fe-phone small mr-2\"></span>{{ buttonName }}\n        <b-spinner small v-if=\"!isTwilioReady\" variant=\"light\" label=\"Spinning\"></b-spinner>\n      </b-button>\n    </div>\n    <div class=\"pbx-widget-footer\">\n      <p class=\"font-size-10px d-flex align-items-center justify-content-center mb-0\">\n        Powered by <a rel=\"nofollow\" class=\"ml-2 text-primary cursor-pointer\" onclick=\"window.open('http://www.pbxplus.com/', '_blank')\">PBXPlus</a>\n      </p>\n    </div>\n  </div>\n</template>\n\n<script>\n  import { mapGetters } from \"vuex\";\n  import Header from \"./Header.vue\";\n  import KeyPad from \"./KeyPad.vue\";\n  import Timer from \"./Timer.vue\";\n  import Call from \"../../js/dialer/call\";\n  import CallLog from \"../../js/dialer/call-log\";\n  import CallBack from \"./Call_Back.vue\";\n  export default {\n    components: {\n      CallBack,\n      Header,\n      KeyPad,\n      Timer,\n    },\n    props: {\n      flow_id: String,\n      api_key: String,\n      domain_id: String,\n    },\n    data() {\n      return {\n        theme: \"visitor preview-keypad\",\n        is_call_now: false,\n        status: \"\",\n        connectedCall: false,\n        visitor_select: \"\",\n        connection: \"\",\n        buttonName: \"Call Now\",\n        variant: \"success\",\n        widgetData: {},\n        showText: false,\n      };\n    },\n    computed: {\n      ...mapGetters([\"isTwilioReady\", \"device\", \"checkDeviceStatus\"]),\n    },\n    watch: {\n      checkDeviceStatus(data) {\n        if (data === \"connect\") {\n          this.connectedCall = true;\n          this.status = \"connected\";\n        } else if (data == \"disconnect\") this.updateCallLog();\n      },\n    },\n    mounted: async function() {\n      this.visitor_select = \"call_now\";\n      let response;\n      try {\n        response = await Call.getCapabilityVisitor(this.domain_id, this.flow_id, this.api_key);\n        this.$store.dispatch(\"getToken\", `${response[0].pref_value}?To=PBX_Guest_${Math.floor(Math.random() * 100000)}`);\n        this.widgetData = JSON.parse(response[0].widgets);\n        this.theme = this.widgetData.color == \"#12263F\" ? \"visitor preview-keypad widget-dark\" : \"visitor preview-keypad\";\n      } catch {\n        // eslint-disable-next-line\n      }\n    },\n    methods: {\n      // Get Callflow_id, domain_id, api_key and initiate call\n      initiateCall() {\n        this.connection = this.device.connect({ callflow_id: this.flow_id, domain_id: this.domain_id, api_key: this.api_key });\n        this.$store.dispatch(\"twilioDeviceListeners\");\n        this.twilioConnection = this.connection;\n      },\n      // Send digits\n      digitPressed(digits) {\n        this.twilioConnection.sendDigits(digits.toString());\n      },\n      // Disconnect call\n      disconnect_call() {\n        this.device.disconnectAll();\n        this.connectedCall = false;\n        this.status = \"\";\n      },\n      // Visitor can choose 'call from computer' or 'call back' option to initiate call\n      async showCallNow(data) {\n        this.visitor_select = data;\n        if (data == \"call_back\") {\n          await this.disconnect_call();\n        }\n      },\n      async prefer() {\n        this.is_call_now = !this.is_call_now;\n        this.visitor_select = \"call_now\";\n        this.showText = false;\n        if (this.is_call_now) {\n          await this.initiateCall();\n          this.buttonName = \"Calling\";\n          this.variant = \"danger\";\n          this.buttonName = \"End Call\";\n        } else {\n          await this.disconnect_call();\n          this.buttonName = \"Call Now\";\n          this.variant = \"success\";\n        }\n      },\n\n      // Update call log on call disconnect\n      async updateCallLog() {\n        this.buttonName = \"Call Now\";\n        this.variant = \"success\";\n        this.connection = \"\";\n        let form = {};\n        form.callSid = this.twilioConnection.parameters.CallSid;\n        form.flow_id = this.flow_id;\n        form.api_key = this.api_key;\n        form.domain_id = this.domain_id;\n        CallLog.add(form);\n      },\n    },\n  };\n</script>\n<style scoped>\n  @import url(\"/css/pbxpluscss/keypadvisitor.css\");\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Visitor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Visitor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Visitor.vue?vue&type=template&id=eda6f4ca&scoped=true&\"\nimport script from \"./Visitor.vue?vue&type=script&lang=js&\"\nexport * from \"./Visitor.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Visitor.vue?vue&type=style&index=0&id=eda6f4ca&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"eda6f4ca\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.status == 'new')?_c('div',{staticClass:\"loading-content\"},[_c('b-spinner',{attrs:{\"variant\":\"primary\",\"label\":\"Spinning\"}})],1):_vm._e(),(_vm.status == 'permission_pending')?[_c('PermissionMessage')]:_vm._e(),(_vm.status == 'ready')?[(_vm.from == 'visitor')?_c('Visitor',{attrs:{\"domain_id\":_vm.domain_id,\"flow_id\":_vm.destination,\"api_key\":_vm.api_key}}):_vm._e(),(_vm.from == 'agent')?_c('Agent',{ref:\"agent\",attrs:{\"app_name\":\"pbxplus\",\"number\":_vm.destination,\"is_make_call\":_vm.is_make_call,\"is_start_timer\":_vm.is_start_timer,\"config\":_vm.config}}):_vm._e(),(_vm.from == 'voxdesk' && _vm.enable)?_c('Voxdesk',{ref:\"voxdesk_ref\",attrs:{\"app_name\":_vm.from,\"agent_id\":_vm.destination}}):_vm._e()]:_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","class Permissions {\n  async getMedia() {\n    let stream = null;\n    const constraints = {\n      audio: true,\n    };\n    try {\n      stream = await navigator.mediaDevices.getUserMedia(constraints);\n      return { stream: stream, msg: \"\", status: \"ready\" };\n    } catch (err) {\n      return { error: err, msg: \"Please provide permissions to make call\", status: \"permission_pending\" };\n    }\n  }\n}\n\nexport default new Permissions();\n","<template>\n  <div>\n    <div v-if=\"status == 'new'\" class=\"loading-content\">\n      <b-spinner variant=\"primary\" label=\"Spinning\"></b-spinner>\n    </div>\n    <template v-if=\"status == 'permission_pending'\">\n      <PermissionMessage />\n    </template>\n    <template v-if=\"status == 'ready'\">\n      <Visitor v-if=\"from == 'visitor'\" :domain_id=\"domain_id\" :flow_id=\"destination\" :api_key=\"api_key\" />\n      <Agent v-if=\"from == 'agent'\" ref=\"agent\" app_name=\"pbxplus\" :number=\"destination\" :is_make_call=\"is_make_call\" :is_start_timer=\"is_start_timer\" :config=\"config\" />\n      <Voxdesk v-if=\"from == 'voxdesk' && enable\" :app_name=\"from\" :agent_id=\"destination\" ref=\"voxdesk_ref\" />\n    </template>\n  </div>\n</template>\n\n<script>\n  import Permission from \"../../js/dialer/permission\";\n  import Agent from \"./Agent.vue\";\n  import Visitor from \"./Visitor.vue\";\n  import PermissionMessage from \"./Permission.vue\";\n  import Voxdesk from \"./Voxdesk\";\n  import Cookies from \"js-cookie\";\n  import { bus } from \"@/js/dialer/emit-bus\";\n  export default {\n    components: { Agent, Visitor, PermissionMessage, Voxdesk },\n    data() {\n      return {\n        status: \"new\",\n        from: \"\",\n        api_key: \"\",\n        destination: 0,\n        loadType: \"\",\n        enable: false,\n        is_make_call: true,\n        is_start_timer: true,\n        config: {\n          disablePlayButton: true,\n        },\n      };\n    },\n    created() {\n      // Event to set jwt for iframe\n      window.addEventListener(\"message\", (event) => {\n        console.log(\"message\", event);\n        if (event.data.loadType == \"iframe\") {\n          this.setCookie(event.data.jwt);\n        } else if (event.data.loadType == \"make-call\") {\n          window.self = this;\n          this.destination = event.data.number;\n          this.$refs.agent.number = this.destination;\n          this.$refs.agent.$refs.keypad.phone_number = this.destination;\n          this.$refs.agent.initiateCall();\n        } else if (event.data.is_conference) {\n          this.$refs.voxdesk_ref.$refs.agent_ref.$refs.conference_call_ref.conference_sid = event.data.conference_sid;\n        }\n\n        // Receive the response from the infinity post\n        if (event.data.loadType == \"incomming\") {\n          bus.$emit(\"incoming\", event.data);\n        }\n      });\n      // Check destination\n      if (this.$route.params.destination == \"number\") {\n        this.is_start_timer = false;\n        this.is_make_call = false;\n      }\n    },\n    mounted: async function() {\n      let permission = await Permission.getMedia();\n      if (this.$route.params.from == \"visitor\") {\n        this.domain_id = this.$route.query.domain_id;\n      }\n      this.status = permission.status;\n      this.from = this.$route.params.from;\n      this.destination = this.$route.params.destination;\n      this.api_key = this.$route.params.api_key;\n    },\n    methods: {\n      setCookie(jwt) {\n        var jwtObj = { jwt: jwt };\n        localStorage.setItem(\"token\", JSON.stringify(jwtObj));\n        Cookies.set(\"token\", jwtObj, { secure: true, sameSite: \"None\" });\n        this.enable = true;\n      },\n    },\n    destroyed() {\n      localStorage.removeItem(\"token\");\n    },\n  };\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dialer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dialer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Dialer.vue?vue&type=template&id=9f677244&\"\nimport script from \"./Dialer.vue?vue&type=script&lang=js&\"\nexport * from \"./Dialer.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('Agent',{ref:\"agent_ref\",staticClass:\"bg-dailer-color\",attrs:{\"isLoad\":\"enable\",\"number\":_vm.agent_id,\"app_name\":_vm.app_name,\"config\":_vm.config},on:{\"callConnected\":_vm.callConnected}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <Agent isLoad=\"enable\" ref=\"agent_ref\" @callConnected=\"callConnected\" :number=\"agent_id\" :app_name=\"app_name\" :config=\"config\" class=\"bg-dailer-color\" />\n  </div>\n</template>\n<script>\n  import Agent from \"./Agent.vue\";\n\n  export default {\n    components: { Agent },\n    props: { agent_id: { type: String }, app_name: { type: String } },\n    data() {\n      return {\n        enable: false,\n        config: {\n          disablePlayButton: true,\n          disableVoicemailButton: true,\n        },\n      };\n    },\n    methods: {\n      callConnected() {\n        parent.postMessage({ isCampaignStart: true }, \"*\");\n      },\n    },\n  };\n</script>\n<style scoped>\n  body {\n    background-color: #152e4d !important;\n    border-radius: 0.325rem !important;\n  }\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Voxdesk.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Voxdesk.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Voxdesk.vue?vue&type=template&id=b959b990&scoped=true&\"\nimport script from \"./Voxdesk.vue?vue&type=script&lang=js&\"\nexport * from \"./Voxdesk.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Voxdesk.vue?vue&type=style&index=0&id=b959b990&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b959b990\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"width-400\"},[_c('b-card',{staticClass:\"visitor-callback mb-0\",attrs:{\"body-class\":\"p-3\"}},[_c('b-form',{ref:\"form\",on:{\"submit\":function($event){$event.preventDefault();return _vm.onSubmit($event)}}},[_c('b-form-group',{staticClass:\"mb-3\",attrs:{\"label\":\"Enter Name\",\"label-for\":\"input-name\",\"size\":\"sm\"}},[_c('b-form-input',{attrs:{\"size\":\"sm\",\"type\":\"text\",\"oninvalid\":\"this.setCustomValidity('Please enter proper name')\",\"oninput\":\"this.setCustomValidity('')\",\"id\":\"input-name\",\"placeholder\":\"Enter Name\",\"pattern\":\"[a-zA-Z ]{3,30}\",\"required\":\"\"},model:{value:(_vm.form.name),callback:function ($$v) {_vm.$set(_vm.form, \"name\", $$v)},expression:\"form.name\"}})],1),_c('b-form-group',{staticClass:\"mb-3\",attrs:{\"label\":\"Enter Phone Number\",\"size\":\"sm\"}},[_c('VueTelInput',{attrs:{\"required\":\"\",\"size\":\"sm\"},on:{\"country-changed\":_vm.countryChanged},model:{value:(_vm.form.number),callback:function ($$v) {_vm.$set(_vm.form, \"number\", $$v)},expression:\"form.number\"}})],1),_c('b-form-group',{staticClass:\"mb-3\",attrs:{\"label\":\"Call Now/Schedule this later\",\"size\":\"sm\"}},[_c('b-form-select',{staticClass:\"mb-0\",attrs:{\"size\":\"sm\",\"options\":_vm.sendType,\"required\":\"\"},model:{value:(_vm.form.send_type),callback:function ($$v) {_vm.$set(_vm.form, \"send_type\", $$v)},expression:\"form.send_type\"}})],1),(_vm.form.send_type == 'Scheduled')?_c('b-row',[_c('b-col',{attrs:{\"md\":\"12\",\"size\":\"sm\"}},[_c('b-form-group',{staticClass:\"mb-3\",attrs:{\"label\":\"Callback Time\",\"size\":\"sm\"}},[_c('b-form-input',{staticClass:\"form-control pr-2\",attrs:{\"type\":\"datetime-local\",\"size\":\"sm\",\"id\":\"callbacktime\",\"required\":\"\"},model:{value:(_vm.form.call_back_time),callback:function ($$v) {_vm.$set(_vm.form, \"call_back_time\", $$v)},expression:\"form.call_back_time\"}})],1)],1),_c('b-col',{attrs:{\"lg\":\"12\"}},[_c('label',{attrs:{\"size\":\"sm\"}},[_vm._v(\"Timezone\")]),_c('b-form-select',{attrs:{\"size\":\"sm\",\"options\":_vm.getTimezones(),\"required\":\"\"},model:{value:(_vm.form.timezone),callback:function ($$v) {_vm.$set(_vm.form, \"timezone\", $$v)},expression:\"form.timezone\"}})],1)],1):_vm._e(),_c('div',{staticClass:\"d-flex justify-content-end border-top mt-3 pt-3\"},[_c('b-button',{attrs:{\"size\":\"sm\",\"block\":\"\",\"type\":\"submit\",\"variant\":\"primary px-5\",\"disabled\":_vm.isDisabled}},[_vm._v(\"Submit\")])],1),_c('p',{staticClass:\"mb-0 text-right mt-2 text-primary\",class:_vm.errorClass},[_vm._v(_vm._s(_vm.message))])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"width-400\">\n    <b-card body-class=\"p-3\" class=\"visitor-callback mb-0\">\n      <b-form ref=\"form\" @submit.prevent=\"onSubmit\">\n        <b-form-group label=\"Enter Name\" label-for=\"input-name\" class=\"mb-3\" size=\"sm\">\n          <b-form-input\n            size=\"sm\"\n            type=\"text\"\n            oninvalid=\"this.setCustomValidity('Please enter proper name')\"\n            oninput=\"this.setCustomValidity('')\"\n            v-model=\"form.name\"\n            id=\"input-name\"\n            placeholder=\"Enter Name\"\n            pattern=\"[a-zA-Z ]{3,30}\"\n            required\n          ></b-form-input>\n        </b-form-group>\n        <b-form-group label=\"Enter Phone Number\" class=\"mb-3\" size=\"sm\">\n          <VueTelInput v-model=\"form.number\" v-on:country-changed=\"countryChanged\" required size=\"sm\" />\n        </b-form-group>\n        <b-form-group label=\"Call Now/Schedule this later\" class=\"mb-3\" size=\"sm\">\n          <b-form-select size=\"sm\" v-model=\"form.send_type\" :options=\"sendType\" class=\"mb-0\" required></b-form-select>\n        </b-form-group>\n        <b-row v-if=\"form.send_type == 'Scheduled'\">\n          <b-col md=\"12\" size=\"sm\">\n            <b-form-group label=\"Callback Time\" class=\"mb-3\" size=\"sm\">\n              <b-form-input type=\"datetime-local\" size=\"sm\" class=\"form-control pr-2\" v-model=\"form.call_back_time\" id=\"callbacktime\" required></b-form-input>\n            </b-form-group>\n          </b-col>\n          <b-col lg=\"12\">\n            <label size=\"sm\">Timezone</label>\n            <b-form-select size=\"sm\" v-model=\"form.timezone\" :options=\"getTimezones()\" required />\n          </b-col>\n        </b-row>\n        <div class=\"d-flex justify-content-end border-top mt-3 pt-3\">\n          <b-button size=\"sm\" block type=\"submit\" variant=\"primary px-5\" :disabled=\"isDisabled\">Submit</b-button>\n        </div>\n        <p :class=\"errorClass\" class=\"mb-0 text-right mt-2 text-primary\">{{ message }}</p>\n      </b-form>\n    </b-card>\n  </div>\n</template>\n\n<script>\n  import { VueTelInput } from \"vue-tel-input\";\n  import call from \"../../js/dialer/call-back\";\n  import moment from \"moment-timezone\";\n  export default {\n    components: { VueTelInput },\n    props: [\"domain_id\", \"api_key\", \"call_flow_id\"],\n    data() {\n      return {\n        form: {\n          name: \"\",\n          number: \"\",\n          timezone: \"\",\n          api_key: \"\",\n          call_flow_id: \"\",\n          domain_id: \"\",\n          message: \"\",\n          call_back_time: \"\",\n          send_type: \"Call now\",\n          country_code: \"\",\n        },\n        isDisabled: false,\n        errorClass: \"\",\n        message: \"\",\n        sendType: [\n          {\n            value: \"Call now\",\n            text: \"Call now\",\n          },\n          {\n            value: \"Scheduled\",\n            text: \"Schedule later\",\n          },\n        ],\n      };\n    },\n    async mounted() {\n      // To get today's date\n      this.form.timezone = moment.tz.guess();\n    },\n    methods: {\n      countryChanged(country) {\n        this.form.country_code = country.dialCode;\n      },\n      getTimezones() {\n        let zones = moment.tz.names();\n        zones.unshift({ text: \"Select timezone\", value: \"\" });\n        return zones;\n      },\n      async onSubmit() {\n        this.form.domain_id = this.domain_id;\n        this.form.call_flow_id = this.call_flow_id;\n        this.form.api_key = this.api_key;\n        this.message = \"saving..\";\n        this.isDisabled = false;\n\n        try {\n          // Store callback data\n          await call.add(this.form);\n          this.message = \"Saved your data successfully\";\n          this.errorClass = \"text-primary\";\n        } catch (err) {\n          if (err.response.data.error.includes(\"Duplicate entry\")) {\n            this.message = \"Data already exists\";\n            this.errorClass = \"text-danger\";\n          } else {\n            this.message = \"Unable to save, Please try again\";\n            this.errorClass = \"text-danger\";\n          }\n        }\n        setTimeout(() => {\n          this.message = \"\";\n        }, 2000);\n      },\n    },\n  };\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Call_Back.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Call_Back.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Call_Back.vue?vue&type=template&id=0e80262c&\"\nimport script from \"./Call_Back.vue?vue&type=script&lang=js&\"\nexport * from \"./Call_Back.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"d-flex flex-column justify-content-center align-items-center p-4\"},[_c('b-spinner',{attrs:{\"variant\":\"primary\",\"label\":\"Spinning\"}}),_c('p',{staticClass:\"mb-0 text-muted text-center mt-3\"},[_vm._v(\"Please grant access to your webcam and microphone so that you can use in your dialer\")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./Permission.vue?vue&type=template&id=4eb960f8&\"\nvar script = {}\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}