(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Unsubscribe"],{3722:function(e,t,_){"use strict";_.r(t);var s=function(){var e=this,t=e.$createElement,_=e._self._c||t;return _("div",{staticClass:"vh-100"},[_("b-navbar",{staticClass:"border-bottom p-3",attrs:{variant:"faded",type:"light"}},[_("div",{staticClass:"navbar-brand pb-0 mx-auto"},[_("div",{staticClass:"d-flex"},[_("img",{attrs:{src:"https://infinity.500apps.com/img/extensions/openedornot.svg",height:"32",width:"32"}}),_("h2",{staticClass:"mb-0 pt-2 pl-2"},[e._v("OpenedOrNot")])]),_("p",{staticClass:"mb-0"},[e._v("Powered By "),_("span",{staticClass:"text-primary"},[e._v("500apps")])])])]),_("div",[_("b-row",{staticClass:"text-center mt-7"},[_("b-col"),_("b-col",{attrs:{cols:"8"}},[e.isUnSubscribed?[_("h3",[e._v("Successful")]),_("p",[e._v("You have successfully unsubscribed from daily reports emails from OpenedorNot")])]:[_("h3",[e._v("Unsubscribe from Daily Report Email")]),_("p",[e._v("To help us improve our services, we would be grateful if you could tell us why:")]),_("b-row",[_("div",{staticClass:"col-7 mx-auto"},[_("b-dropdown",{staticClass:"col-12 px-0 bg-white",attrs:{"menu-class":"w-100",text:e.selected}},e._l(e.options,(function(t){return _("b-dropdown-item",{key:t,on:{click:function(_){return e.selectOption(t)}}},[e._v(e._s(t))])})),1),e.showMessage?_("textarea",{directives:[{name:"model",rawName:"v-model",value:e.reason,expression:"reason"}],staticClass:"mt-3 form-control",attrs:{rows:"3",placeholder:"Please provide your reason here....."},domProps:{value:e.reason},on:{input:function(t){t.target.composing||(e.reason=t.target.value)}}}):e._e(),e.showMessage&&e.showError?_("p",{staticClass:"text-danger mb-0"},[e._v("Reason is required")]):e._e()],1)]),_("b-button",{staticClass:"mt-5",attrs:{variant:"primary",disabled:"Please select a reason"==e.selected},on:{click:function(t){return e.submit()}}},[_("small",[e._v("click here to unsubscribe")])])]],2),_("b-col")],1)],1),e._m(0)],1)},r=[function(){var e=this,t=e.$createElement,_=e._self._c||t;return _("div",{staticClass:"fixed-bottom text-center bg-white border-top"},[_("p",{staticClass:"mb-0 mt-3 text-muted"},[e._v("Thanks")]),_("p",[_("b",[e._v("500apps Team")])])])}],a=_("9ec3"),o={data:function(){return{selected:"Please select a reason",options:["Emails about the daily activities do not interest me","I no longer wish to receive these daily report","Others"],showMessage:!1,reason:"",showError:!1,isUnSubscribed:!1}},methods:{selectOption:function(e){this.selected=e,"Others"===e?this.showMessage=!0:(this.showMessage=!1,this.showError=!1)},submit:function(){var e=this;if("Others"===this.selected&&0===this.reason.length)this.showError=!0;else{var t="Others"===this.selected?this.reason:this.selected,_={from_email:this.$route.params.email,is_subscribed:0,domain_id:window.domain,reason:t};a["a"].update(_).then((function(){e.showError=!1,e.isUnSubscribed=!0}))}}}},n=o,i=_("2877"),l=Object(i["a"])(n,s,r,!1,null,null,null);t["default"]=l.exports},"9ec3":function(module,__webpack_exports__,__webpack_require__){"use strict";var regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("96cf"),regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_0__),_home_agile_Desktop_Public_infinity_public_2_node_modules_vue_babel_preset_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("c964"),_home_agile_Desktop_Public_infinity_public_2_node_modules_vue_babel_preset_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("276c"),_home_agile_Desktop_Public_infinity_public_2_node_modules_vue_babel_preset_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("e954"),axios=__webpack_require__("bc3a"),Unsubscribe_Server="https://api.${region}.500apps.com/openedornot/update",OpenedOrNot=function(){function OpenedOrNot(){Object(_home_agile_Desktop_Public_infinity_public_2_node_modules_vue_babel_preset_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__["a"])(this,OpenedOrNot)}return Object(_home_agile_Desktop_Public_infinity_public_2_node_modules_vue_babel_preset_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_3__["a"])(OpenedOrNot,[{key:"update",value:function(){var _update=Object(_home_agile_Desktop_Public_infinity_public_2_node_modules_vue_babel_preset_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__["a"])(regeneratorRuntime.mark((function _callee(form){var url,response;return regeneratorRuntime.wrap((function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:return url=eval("`"+Unsubscribe_Server+"`"),_context.next=3,axios.put(url,form);case 3:return response=_context.sent,_context.abrupt("return",response.data);case 5:case"end":return _context.stop()}}),_callee)})));function update(e){return _update.apply(this,arguments)}return update}()}]),OpenedOrNot}();__webpack_exports__["a"]=new OpenedOrNot}}]);
//# sourceMappingURL=Unsubscribe.6d6dabe9.js.map